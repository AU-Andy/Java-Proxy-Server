{"version":3,"sources":["../js/console-polyfill.js","../js/ext/raven-3.7.0.js","../js/sentry.js","../js/ext/jquery.migrate.min.js","../js/ext/jquery.xdomainrequest.js","../js/ext/jquery.humanmsg.js","../js/ext/jquery.colorbox.js","../js/ext/jquery.tipsy.js","../js/ext/jquery.cookie.js","../js/ext/jquery-extensions.js","../js/ext/jquery.paste-image-reader.js","../js/ext/jquery.tooltipster.js","../js/ext/jquery.datepicker.js","../js/ext/jquery.nanoscroller.js","../js/ext/jquery.strele.js","../js/ext/jquery.viewport.js","../js/ext/socket.io.js","../js/ext/incus.js","../js/ext/lodash.min.js","../js/ext/moment.js","../js/ext/JSON.js","../js/ext/classNames.js","../js/ext/cortex.js","../js/ext/jquery.easing.js","../js/class.js","../js/imgur.js","jsx/constants.js","../js/emitter.js","../js/util.js","../js/storage.js","../js/storage/cookie.js","../js/storage/localStorage.js","../js/experiments.js","../js/reactinfinitescroll.js","jsx/factory/widget.js","../js/loader.js","../js/nanoscroll.js","../js/reactbodymodal.js","../js/elements/flashytext.js","../js/reputation.js","../js/pointsupdater.js","../js/pointsupdater/aggregator.js","../js/pointsupdater/comment.js","../js/pointsupdater/image.js","../js/notification.js","../js/notification/uimessage.js","../js/notification/notification-base.js","jsx/notification/eventdropdown.js","../js/notification/messagesdropdown.js","../js/notification/card.js","../js/notification/card-empty.js","../js/ext/jquery.noty.js","../js/ext/tether.js","../js/gallery/store/albumimage.js","jsx/upload.js","jsx/upload-AddExistingImage.js","../js/debughelper.js","../js/promise.js","../js/linkifier.js","../js/linkify/usernamegrabber.js","../js/linkify/hashtaggrabber.js","../js/linkify/opgrabber.js","../js/linkify/plaingrabber.js","../js/linkify/albumimagegrabber.js","../js/linkify/imgurgrabber.js","../js/linkify/youtubeviewer.js","../js/linkify/html5videoviewer.js","../js/linkify/imageviewer.js","../js/linkify/imgurviewer.js","../js/linkify/imgurgifvviewer.js","../js/linkify/imagetipsy.js","../js/linkify/albumimageviewer.js","../js/linkify/nsfwviewer.js","../js/elements/command/location.js","../js/elements/search/store/suggestions.js","../js/elements/search/structured.js","jsx/appstore-buttons.js","jsx/lightbox-app.js","../js/elements/timestamp.js","jsx/elements/analytics.js","../js/elements/banner/mixin-default.js","jsx/sms.js","../js/elements/banner/cta.js","../js/elements/banner/ctanobutton.js","../js/elements/banner/facebook.js","../js/elements/banner/twitter.js","../js/elements/banner/pinterest.js","../js/elements/banner/converted.js","../js/elements/banner/teespring.js","../js/elements/banner/promoted.js","../js/elements/banner/newsletter.js","../js/elements/search/topbarview.js","../js/elements/search/results.js","../js/elements/search/suggestionfactory.js","../js/elements/search/model.js","../js/elements/search/model/suggest.js","../js/elements/search/controller/hotkey.js","../js/elements/search/controller/advanced.js","../js/elements/search/topbar/section.js","../js/elements/search/topbar/suggestions/search.js","../js/elements/search/topbar/suggestions/tag.js","../js/elements/search/topbar/suggestions/user.js","../js/elements/search/topbar/suggestions/meme.js","../js/elements/search/topbar/suggestions/echo.js","../js/ext/jquery.zoom.js","jsx/imageviewer.js","jsx/upload-modal.js","jsx/gallery/FlipInfo.js","jsx/gallery/ActionCard.js","jsx/elements/apocalypsecta.js","../js/jafo.js"],"names":["window","console","log","warn","error","f","exports","module","define","amd","g","global","self","this","Raven","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","_dereq_","stringify","obj","replacer","spaces","cycleReplacer","JSON","serializer","stack","keys","key","value","slice","indexOf","join","thisPos","splice","push","Infinity","getSerialize","2","RavenConfigError","message","name","prototype","constructor","3","wrapMethod","level","callback","originalConsoleLevel","originalConsole","sentryLevel","args","arguments","msg","data","logger","extra","Function","apply","4","now","Date","_hasJSON","_hasDocument","document","_lastCapturedException","_lastEventId","_globalServer","_globalKey","_globalProject","_globalContext","_globalOptions","ignoreErrors","ignoreUrls","whitelistUrls","includePaths","crossOrigin","collectWindowErrors","maxMessageLength","stackTraceLimit","autoBreadcrumbs","_ignoreOnError","_isRavenInstalled","_originalErrorStackTraceLimit","_originalConsole","_originalConsoleMethods","_plugins","_startTime","_wrappedBuiltIns","_breadcrumbs","_lastCapturedEvent","_keypressTimeout","_location","location","_lastHref","href","method","TraceKit","utils","isFunction","isUndefined","isError","isEmptyObject","hasKey","joinRegExp","each","objectMerge","truncate","urlencode","uuid4","htmlTreeAsString","parseUrl","isString","fill","wrapConsoleMethod","dsnKeys","split","dsnPattern","VERSION","debug","config","dsn","options","_logDebug","setDSN","maxBreadcrumbs","Math","max","min","autoBreadcrumbDefaults","xhr","dom","toString","install","isSetup","report","subscribe","_handleOnErrorStackInfo","_instrumentTryCatch","_instrumentBreadcrumbs","_drainPlugins","uri","_parseDSN","lastSlash","path","lastIndexOf","substr","_dsn","user","_globalSecret","pass","_getGlobalServer","_globalEndpoint","context","func","undefined","wrap","_before","wrapped","deep","_ignoreNextOnError","captureException","__raven__","__raven_wrapper__","property","__inner__","uninstall","_restoreBuiltIns","ex","captureMessage","trimHeadFrames","stacktrace","computeStackTrace","_handleStackInfo","ex1","test","fingerprint","frames","_prepareFrames","reverse","_send","captureBreadcrumb","crumb","timestamp","shift","addPlugin","plugin","pluginArgs","Array","setUserContext","setExtraContext","_mergeContext","setTagsContext","tags","clearContext","getContext","parse","setEnvironment","environment","setRelease","release","setDataCallback","original","dataCallback","setShouldSendCallback","shouldSendCallback","setTransport","transport","lastException","lastEventId","ravenNotConfiguredError","afterLoad","RavenConfig","showReportDialog","eventId","encode","encodeURIComponent","qs","email","globalServer","script","createElement","async","src","head","body","appendChild","setTimeout","_triggerEvent","eventType","evt","toUpperCase","createEvent","initEvent","createEventObject","dispatchEvent","fireEvent","toLowerCase","_breadcrumbEventHandler","evtName","target","elem","category","_keypressEventHandler","debounceDuration","tagName","timeout","clearTimeout","_captureUrlChange","from","to","parsedLoc","parsedTo","parsedFrom","protocol","host","relative","wrapTimeFn","orig","fn","originalCallback","wrapEventTarget","proto","hasOwnProperty","capture","secure","handleEvent","err","before","wrappedBuiltIns","requestAnimationFrame","cb","eventTargets","$","jQuery","ready","wrapProp","prop","xhrproto","XMLHttpRequest","origOpen","url","__raven_xhr","status_code","origSend","onreadystatechangeHandler","readyState","status","type","props","j","onreadystatechange","addEventListener","attachEvent","chrome","isChromePackagedApp","app","runtime","hasPushState","history","pushState","oldOnPopState","onpopstate","currentHref","origPushState","consoleMethodCallback","_","builtin","installer","concat","str","m","exec","allowSecretKey","port","stackInfo","_processException","lineno","frame","_normalizeFrame","in_app","normalized","filename","line","colno","column","function","fileurl","exception","values","culprit","_trimPacket","_getHttpData","httpData","headers","User-Agent","navigator","userAgent","referrer","Referer","globalOptions","baseData","project","platform","request","breadcrumbs","serverName","server_name","_sendProcessedPayload","event_id","auth","sentry_version","sentry_client","sentry_key","sentry_secret","_makeRequest","onSuccess","onError","opts","handler","hasCORS","XDomainRequest","replace","onload","open","send","setUser","setReleaseContext","6","7","5","RavenConstructor","_Raven","noConflict","what","objectPrototype","isObject","obj1","obj2","object","patterns","pattern","sources","len","source","RegExp","pairs","match","query","fragment","crypto","msCrypto","getRandomValues","arr","Uint16Array","pad","num","v","c","random","nextStr","MAX_TRAVERSE_HEIGHT","MAX_OUTPUT_LEN","out","height","separator","sepLength","htmlElementAsString","parentNode","className","classes","attr","id","attrWhitelist","getAttribute","replacement","track","Object","getLocationHref","_slice","UNKNOWN_FUNCTION","ERROR_TYPES_RE","installGlobalHandler","handlers","unsubscribe","unsubscribeAll","uninstallGlobalHandler","notifyHandlers","isWindowError","inner","traceKitWindowOnError","lineNo","colNo","lastExceptionStack","augmentStackTraceWithInitialElement","processLastException","groups","_oldOnerrorHandler","_onErrorHandlerInstalled","onerror","_lastExceptionStack","_lastArgs","lastArgs","rethrow","incomplete","computeStackTraceFromStackProp","parts","element","gecko","winjs","lines","isNative","columnNumber","initial","unshift","partial","computeStackTraceByWalkingCallerChain","depth","item","functionName","funcs","recursion","curr","caller","input","substring","result","sourceURL","fileName","lineNumber","description","sentry_dsn","migrateMute","migrateWarnings","migrateTrace","trace","defineProperty","configurable","enumerable","get","set","_definePropertyBroken","migrateReset","compatMode","size","attrFn","attrHooks","d","p","nodeType","nodeName","getAttributeNode","nodeValue","removeAttr","propFix","setAttribute","h","init","parseJSON","y","isPlainObject","trim","charAt","parseHTML","uaMatch","browser","version","webkit","safari","sub","extend","superclass","ajaxSetup","converters","text json","b","_data","w","andSelf","addBack","clean","ownerDocument","merge","buildFragment","childNodes","removeChild","getElementsByTagName","grep","Q","event","add","x","remove","k","trigger","N","toggle","T","live","M","die","S","C","H","A","special","hover","dispatch","bind","triggerHandler","guid","preventDefault","click","on","selector","off","setup","teardown","factory","support","cors","ajaxTransport","httpRegEx","getOrPostRegEx","sameSchemeRegEx","userOptions","jqXHR","crossDomain","xdr","complete","postData","userType","dataType","ontimeout","allResponseHeaders","responseText","contentType","responses","text","html","json","doc","ActiveXObject","loadXML","documentElement","xml","parseMessage","onprogress","param","abort","humanMsg","appendTo","logName","msgOpacity","msgID","parseFloat","append","displayMsg","instant","t2","hum","show","css","opacity","animate","toggleClasses","removeMsg","t1","bindEvents","mousemove","keypress","unbind","fadeOut","msgObj","removeClass","addClass","$tag","tag","prefix","style","cssText","winheight","innerHeight","Settings","cache","el","dataAttr","defaults","getIndex","increment","$related","newIndex","index","setSize","dimension","round","$window","width","parseInt","isImage","settings","retinaUrl","devicePixelRatio","isVideo","trapFocus","$box","contains","$overlay","stopPropagation","focus","setClass","getRelated","rel","boxElement","filter","colorbox","$events","launch","closing","active","visibility","display","$loaded","div","$content","interfaceHeight","$topBorder","$bottomBorder","outerHeight","interfaceWidth","$leftBorder","$rightBorder","outerWidth","loadedHeight","loadedWidth","initialWidth","initialHeight","maxWidth","maxHeight","publicMethod","position","event_open","$groupControls","$title","hide","one","event_closed","removeEventListener","cursor","$close","load","appendHTML","class","role","tabindex","$loadingOverlay","$wrap","$current","$prev","$next","$slideshow","find","float","$loadingBay","parent","addBindings","clickHandler","which","shiftKey","altKey","metaKey","ctrlKey","next","prev","close","keyCode","setResize","$inline","prep","requests","photo","video","event_purge","event_load","mw","mh","loadingTimer","$target","insertBefore","replaceWith","Image","percent","val","marginTop","onclick","autoplay","loop","videoHeight","videoWidth","play","contents","iframe","inline","transition","speed","innerWidth","scalePhotos","scrolling","preloading","overlayClose","escKey","arrowKey","top","bottom","left","right","fixed","closeButton","fastIframe","reposition","slideshow","slideshowAuto","slideshowSpeed","slideshowStart","slideshowStop","photoRegex","videoRegex","retinaImage","retinaSuffix","current","previous","xhrError","imgError","returnFocus","onOpen","onLoad","onComplete","onCleanup","onClosed","title","event_complete","event_cleanup","previousCSS","clear","timeOut","start","stop","reset","$obj","old","loadedCallback","modalDimensions","scrollTop","scrollLeft","offset","tempSpeed","dequeue","duration","step","resize","scrolltop","getWidth","getHeight","overflow","prependTo","removeFilter","removeAttribute","total","img","frameBorder","allowTransparency","getTime","allowFullScreen","fadeTo","removeData","Tipsy","$element","enabled","fixTitle","getTitle","$tip","tip","cls","tp","pos","offsetWidth","offsetHeight","actualWidth","actualHeight","gravity","fade","$e","fallback","validate","enable","disable","toggleEnabled","tipsy","ele","elementOptions","enter","hoverState","delayIn","leave","delayOut","eventIn","eventOut","metadata","autoNS","autoWE","raw","decode","decodeURIComponent","stringifyCookieValue","String","parseCookieValue","pluses","read","converter","cookie","expires","days","setTime","toUTCString","domain","cookies","removeCookie","preloadImages","args_len","cacheImage","setCursorPosition","setSelectionRange","createTextRange","collapse","moveEnd","moveStart","select","showPlaceholder","hidePlaceholder","is","selectAll","$me","defer","getScript","ajax","success","number_format","fix","originalFix","clipboardData","originalEvent","preventPropagation","noop","matchType","pasteImageReader","$this","items","files","file","reader","File","getAsFile","FileReader","dataURL","readAsDataURL","Plugin","_defaults","_name","pluginName","is_touch_device","supportsTransitions","animation","arrow","arrowColor","content","delay","fixedWidth","functionInit","origin","functionBefore","continueTooltip","functionReady","tooltip","functionAfter","icon","iconDesktop","iconTouch","iconTheme","interactive","interactiveTolerance","interactiveAutoClose","offsetX","offsetY","onlyOne","timer","theme","touchDevices","updateAnimation","transitionSupport","touchDevice","run","all","querySelector","tooltipsterContent","insertAfter","showTooltip","tooltipster","keepAlive","mouseenter","mouseleave","hideTooltip","parents","hasClass","not","clearQueue","queue","touchTarget","closeTooltip","_bodyOverflowX","getContent","themeClass","animationSpeed","pointerEvents","tooltipsterHTML","positionTooltip","fadeIn","currentTooltipContent","contentUpdateChecker","setInterval","newTooltipContent","-webkit-transition","-moz-transition","-o-transition","-ms-transition","clearInterval","dontGoOffScreenX","windowLeft","myLeft","arrowReposition","tooltipWidth","windowWidth","dontGoOffScreenY","switchTo","resetTo","offsetTop","tooltipHeight","resetPosition","containerHeight","myTop","containerWidth","tooltipInnerWidth","offsetLeft","areaShape","mapName","map","mapOffsetLeft","mapOffsetTop","areaMeasurements","areaLeft","areaTop","areaWidth","areaRight","areaBottom","areaSmallestX","areaSmallestY","areaGreatestX","areaGreatestY","arrayAlternate","areaNumber","padding-left","padding-right","myLeftMirror","arrowConstruct","leftDifference","topDifference","borderWidth","newWidth","arrowClass","tooltipBorderWidth","tooltipBorderColor","arrowBorder","arrowBorderSize","arrowBorderColor","$t","arg","DatePicker","views","years","moths","tpl","wrapper","space","months","flat","starts","lastSel","mode","view","calendars","format","eventName","onRender","onChange","onShow","onBeforeShow","onHide","locale","daysShort","daysMin","monthsShort","weekMin","date","dow","month","week","indic","indic2","tblCal","cal","currentCal","floor","cnt","addMonths","eq","formatDate","getFullYear","tmpl","setDate","weeks","getMonth","getDay","addDays","getWeekNumber","getDate","classname","fromUser","valueOf","selected","inArray","disabled","parseDate","against","getHours","getMinutes","hr","pm","ir","dy","getDayOfYear","part","sec","getSeconds","getDayName","getMonthName","extendDate","tempDate","fullName","setMonth","getMaxDays","addYears","setFullYear","tmpDate","getFirstDay","dms","then","time","layout","extraHeight","divs","extraWidth","tbl","ev","blur","parentEl","tblEl","tblIndex","tmp","changed","fillIt","setHours","nr","dat","prepareDate","getViewport","pageXOffset","pageYOffset","clientWidth","clientHeight","isChildOf","container","compareDocumentPosition","prEl","calEl","viewPort","day1","day2","day3","day4","day5","day6","day7","showPicker","hidePicker","shiftTo","formated","fixLayout","DatePickerHide","DatePickerShow","DatePickerSetDate","DatePickerGetDate","DatePickerClear","DatePickerLayout","getElementById","innerHTML","BROWSER_IS_IE7","BROWSER_SCROLLBAR_WIDTH","DOMSCROLL","DOWN","DRAG","KEYDOWN","KEYUP","MOUSEDOWN","MOUSEMOVE","MOUSEUP","MOUSEWHEEL","NanoScroll","PANEDOWN","RESIZE","SCROLL","SCROLLBAR","TOUCHMOVE","UP","WHEEL","getBrowserScrollbarWidth","paneClass","sliderClass","contentClass","iOSNativeScrolling","preventPageScrolling","disableResize","alwaysVisible","flashDelay","sliderMinHeight","sliderMaxHeight","documentContext","windowContext","appName","appVersion","outer","outerStyle","scrollbarWidth","$el","win","children","WebkitOverflowScrolling","nativeScrolling","generate","createEvents","addEvents","preventScrolling","direction","isActive","detail","wheelDelta","updateScrollValues","maxScrollTop","scrollHeight","contentScrollTop","maxSliderTop","paneHeight","sliderHeight","sliderTop","_this","events","down","isBeingDragged","pageY","slider","pane","drag","sliderY","scroll","up","panedown","layerY","wheel","wheelDeltaY","delta","removeEvents","cssRule","restore","stopped","contentHeight","contentStyle","contentStyleOverflowY","paneBottom","paneOuterHeight","paneTop","overflowY","overflowX","scrollBottom","scrollTo","node","flash","nanoScroller","scrollbar","nanoscroller","noReset","store_options","storedOptions","rescape","add_the_class","$ele","replgx","m1","m2","traverse_kids","idx","subele","rgx","storeOpts","caseSensitive","kids","belowthefold","fold","threshold","abovethetop","rightofscreen","leftofscreen","inviewport","windowTop","expr","below-the-fold","above-the-top","left-of-screen","right-of-screen","in-viewport","io","./lib/","parser","./socket","engine.io-parser","Socket","parseuri","hostname","agent","parseqs","upgrade","forceJSONP","jsonp","forceBase64","enablesXDR","timestampParam","timestampRequests","transports","writeBuffer","policyPort","rememberUpgrade","binaryType","onlyBinaryUpgrades","perMessageDeflate","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","freeGlobal","extraHeaders","clone","Emitter","parsejson","priorWebsocketSuccess","Transport","createTransport","EIO","sid","socket","emit","removeAllListeners","onDrain","packet","onPacket","onClose","probe","onTransportOpen","upgradeLosesBinary","supportsBinary","failed","once","upgrading","pause","cleanup","flush","freezeTransport","onTransportClose","onclose","onupgrade","removeListener","upgrades","onHandshake","setPing","filterUpgrades","pingInterval","pingTimeout","onHeartbeat","pingTimeoutTimer","pingIntervalTimer","ping","sendPacket","prevBufferLen","writable","write","compress","cleanupAndClose","waitForUpgrade","reason","desc","filteredUpgrades","./transport","./transports","component-emitter","indexof","doOpen","doClose","packets","onData","decodePacket","polling","xd","xs","isSSL","xdomain","xscheme","XHR","JSONP","websocket","./polling-jsonp","./polling-xhr","./websocket","xmlhttprequest-ssl","empty","JSONPPolling","Polling","callbacks","___eio","inherit","rNewline","rEscapedNewline","form","doPoll","insertAt","isUAgecko","doWrite","initIframe","iframeId","area","action","submit","./polling","component-inherit","Request","isBinary","create","unloadHandler","req","sendXhr","pollXhr","setDisableHeaderCheck","setRequestHeader","responseType","withCredentials","hasXDR","requestsCount","fromError","getResponseHeader","response","fromCharCode","Uint8Array","ui8Arr","dataArray","8","hasXHR2","yeast","poll","onPause","decodePayload","callbackfn","encodePayload","schema","b64","ipv6","../transport","9","WS","BrowserWebSocket","WebSocket","MozWebSocket","check","protocols","ws","supports","binary","addEventListeners","onopen","onmessage","done","encodePacket","Buffer","byteLength","10","has-cors","11","after","count","err_cb","proxy","bail","12","arraybuffer","end","bytes","ArrayBuffer","abv","ii","buffer","13","chars","base64","encoded1","encoded2","encoded3","encoded4","bufferLength","14","mapArrayBufferViews","ary","chunk","buf","copy","byteOffset","BlobBuilderConstructor","bb","BlobBuilder","getBlob","BlobConstructor","Blob","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","blobSupported","blobSupportsArrayBufferView","blobBuilderSupported","15","mixin","_callbacks","listeners","hasListeners","16","17","useColors","firebug","table","$1","formatArgs","namespace","humanize","diff","color","lastC","save","namespaces","storage","removeItem","localstorage","localStorage","local","colors","formatters","./debug","18","selectColor","prevColor","ms","prevTime","coerce","formatter","logFn","skips","names","19","encodeBase64Object","encodeArrayBuffer","encodeBase64Packet","contentArray","resultBuffer","encodeBlobAsArrayBuffer","fr","readAsArrayBuffer","encodeBlob","dontSendBlobs","blob","eachWithIndex","hasBinary","sliceBuffer","base64encoder","utf8","isAndroid","isPhantomJS","pong","packetslist","utf8encode","encoded","b64data","typed","basic","btoa","utf8decode","decodeBase64Packet","Number","asArray","rest","setLengthHeader","encodeOne","doneCallback","encodePayloadAsBlob","encodePayloadAsArrayBuffer","results","decodePayloadAsBinary","chr","ret","encodedPackets","totalLength","reduce","acc","resultArray","bufferIndex","forEach","ab","charCodeAt","lenStr","binaryIdentifier","lengthAry","bufferTail","buffers","numberTooLong","tailArray","msgLength","./keys","arraybuffer.slice","base64-arraybuffer","has-binary","20","has","21","_hasBinary","isBuffer","isArray","toJSON","isarray","22","23","24","25","short","long","plural","ceil","26","rvalidchars","rvalidescape","rvalidtokens","rvalidbraces","rtrimLeft","rtrimRight","27","qry","pair","28","re","authority","ipv6uri","29","root","ucs2decode","string","output","counter","ucs2encode","array","stringFromCharCode","checkScalarValue","codePoint","createByte","encodeCodePoint","symbol","codePoints","byteString","readContinuationByte","byteIndex","byteCount","continuationByte","byteArray","decodeSymbol","byte1","byte2","byte3","byte4","freeExports","freeModule","30","alphabet","decoded","seed","31","lookup","parsed","sameNamespace","nsps","newConnection","forceNew","multiplex","Manager","managers","connect","./manager","./url","socket.io-parser","32","subs","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","Backoff","jitter","connecting","lastPing","encoding","packetBuffer","encoder","Encoder","decoder","Decoder","autoConnect","eio","emitAll","nsp","updateSocketIds","engine","_reconnection","_reconnectionAttempts","_reconnectionDelay","setMin","_randomizationFactor","setJitter","_reconnectionDelayMax","setMax","_timeout","maybeReconnectOnOpen","reconnecting","attempts","reconnect","skipReconnect","openSub","errorSub","destroy","onping","onpong","ondata","ondecoded","onConnecting","processPacketQueue","pack","disconnect","onreconnect","attempt","./on","backo2","component-bind","engine.io-client","33","34","ids","acks","receiveBuffer","sendBuffer","connected","disconnected","toArray","hasBin","connect_error","connect_timeout","reconnect_attempt","reconnect_failed","reconnect_error","subEvents","parserType","EVENT","BINARY_EVENT","flags","pop","CONNECT","onpacket","onconnect","onevent","ACK","onack","BINARY_ACK","DISCONNECT","ondisconnect","ERROR","ack","sent","emitBuffered","to-array","35","loc","36","factor","pow","rand","deviation","37","38","39","dup","40","41","42","43","44","45","46","isBuf","deconstructPacket","_deconstructPacket","placeholder","_placeholder","newData","packetData","attachments","reconstructPacket","_reconstructPacket","removeBlobs","_removeBlobs","curKey","containingObject","pendingBlobs","fileReader","bloblessData","./is-buffer","47","encodeAsString","encodeAsBinary","writeEncoding","deconstruction","reconstructor","decodeString","types","BinaryReconstructor","reconPack","takeBinaryData","finishedReconstruction","binData","./binary","json3","48","49","50","runInContext","undef","isSupported","serialized","stringifySupported","isExtended","getClass","parseSupported","SyntaxError","TypeError","nativeJSON","isProperty","objectProto","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","functionClass","dateClass","numberClass","stringClass","arrayClass","booleanClass","charIndexBuggy","Months","year","members","__proto__","Properties","isConstructor","hasProperty","objectTypes","Escapes","92","leadingZeroes","toPaddedString","unicodePrefix","quote","useCharIndex","symbols","charCode","serialize","properties","whitespace","indentation","hours","minutes","seconds","milliseconds","Index","Source","Unescapes","98","116","110","102","114","lex","begin","isSigned","hasMembers","update","walk","isLoader","previousJSON","isRestored","JSON3","51","list","methods","descriptors","base","callable","defineProperties","descriptor","listener","__ee__","__eeOnceListener__","candidate","es5-ext/object/valid-callable","assign","normalizeOpts","isCallable","dscr","gs","es5-ext/object/assign","es5-ext/object/is-callable","es5-ext/object/normalize-options","es5-ext/string/#/contains","./is-implemented","./shim","foo","bar","trzy","dest","../keys","../valid-value","process","searchString","Incus","Client","Presence","./incus","./lib/presence","UID","page","MAXRETRIES","socketRetries","pollRetries","pollCommand","socketConnected","emitter","EventEmitter","longpoll","command","query_string","onMessage","connectSocket","authenticate","newCommand","setPage","MessageUser","MessagePage","MessageAll","event-emitter","INCUS_COMMAND_SETPRESENCE","MAXIMUM_COMMNANDS_PER_SECOND","inactivityThresholdSeconds","timerReference","lastActiveTime","_lastResetCall","handleUserActivity","nowUnixTime","wasPresent","handleTimeout","nowUnixTimeMsec","IncusNotifier","presence","incus","handleHere","handleIdle","notifyIncus","present","U","false","null","number","true","fe","K","dt","Ee","argsClass","nodeClass","ownLast","ge","L","ve","X","__chain__","__wrapped__","Y","he","Oe","bt","Z","J","ke","z","D","G","W","lastIndex","Te","Le","qe","nt","Gt","Kt","et","rt","gt","ut","ot","P","ee","argsObject","ne","at","Ot","it","se","xe","lt","ft","createCallback","ct","pt","V","F","Xt","unindexedChars","nonEnumArgs","enumPrototypes","enumErrorProps","nonEnumShadows","oe","wt","ae","Ce","ie","st","Ne","Lt","ht","Re","vt","Se","yt","sort","mt","_t","jt","Ht","xt","_e","kt","Ct","Et","St","It","At","Bt","Nt","Rt","Ft","Pt","we","zt","Tt","qt","Ge","Dt","Wt","pe","Qt","ye","leading","maxWait","trailing","Jt","chain","Mt","Vt","tt","pick","R","Ut","Boolean","Yt","Zt","te","ue","le","ce","propertyIsEnumerable","me","de","isFinite","be","isNaN","je","q","toLocaleString","0","spliceObjects","templateSettings","escape","evaluate","interpolate","I","variable","imports","Ie","Ae","Be","&","<",">","\"","'","Fe","Pe","ze","De","Ke","We","Je","bindAll","bindKey","compact","compose","constant","countBy","curry","debounce","difference","flatten","forEachRight","forIn","forInRight","forOwn","forOwnRight","functions","groupBy","indexBy","intersection","invert","invoke","mapValues","memoize","omit","partialRight","pluck","pull","range","reject","shuffle","sortBy","tap","throttle","times","transform","union","uniq","where","without","xor","zip","zipObject","collect","drop","eachRight","tail","unique","unzip","cloneDeep","every","findIndex","findKey","findLast","findLastIndex","findLastKey","identity","isArguments","isBoolean","isDate","isElement","isEmpty","isEqual","isNull","isNumber","isRegExp","reduceRight","some","sortedIndex","template","B","O","E","unescape","uniqueId","any","detect","findWhere","foldl","foldr","include","inject","first","last","sample","take","boolean","\\","\n","\r","\t"," "," ","getValueFromArray","lang","padToken","leftZeroFill","ordinalizeToken","ordinal","Moment","isUTC","_d","_isUTC","_a","_lang","Duration","_milliseconds","_days","_months","absRound","targetLength","addOrSubtractDurationFromMoment","mom","isAdding","currentDate","daysInMonth","compareArrays","array1","array2","lengthDiff","abs","diffs","dateFromArray","asUTC","hoursOffset","minutesOffset","forValid","setUTCFullYear","setUTCHours","loadLang","hasModule","langConfigProperties","languages","en","moment","monthsParse","getLangDefinition","langKey","removeFormattingTokens","makeFormatFunction","formattingTokens","formatTokenFunctions","formatMoment","replaceLongDateFormatTokens","longDateFormat","localFormattingTokens","formatFunctions","getParseRegexForToken","token","parseTokenThreeDigits","parseTokenFourDigits","parseTokenOneToThreeDigits","parseTokenWord","parseTokenTimezone","parseTokenT","parseTokenOneOrTwoDigits","addTimeToArrayFromToken","datePartArray","isPm","parseTimezoneChunker","tzh","tzm","makeDateFromStringAndFormat","parsedInput","tokens","makeDateFromStringAndArray","formats","formattedInputParts","currentScore","inputParts","parseMultipleFormatChunker","scoreToBeat","makeDateFromString","isoRegex","isoTimes","substituteTimeAgo","withoutSuffix","isFuture","relativeTime","makeGetterAndSetter","utc","makeDurationGetter","makeDurationAsGetter","currentLanguage","aspNetJsonRegex","isoFormat","proxyGettersAndSetters","unitMillisecondFactors","Milliseconds","Seconds","Minutes","Hours","Days","Years","ordinalizeTokens","paddedTokens","MMM","MMMM","DDD","day","dd","ddd","dddd","YY","YYYY","meridiem","SS","SSS","zone","ZZ","DDDD","matched","isMoment","unix","isDuration","humanizeDuration","withSuffix","defaultFormat","langData","weekdays","weekdaysShort","weekdaysMin","LT","LL","LLL","LLLL","isLower","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","future","past","mm","hh","MM","yy","toDate","isValid","inputString","dur","subtract","asFloat","inputMoment","zoneDiff","fromNow","sod","allElse","isLeapYear","isDST","getUTCDay","startOf","endOf","eod","getTimezoneOffset","ender","escapable","meta","holder","mind","gap","rep","indent","cx","\b","\f","","reviver","eval","classNames","argType","hasOwn","__eventId","__value","__path","__wrap","publish","forceUpdate","getValue","getPath","getKey","__isObject","__wrappers","__isArray","__cleanup","__forceUpdate","__super__","__callbacks","__callbacksQueued","__subscribe","__shouldUpdate","__setValue","__rewrap","__runCallbacks","subscribeToCortex","__remove","__subValue","__isDifferent","Cortex","./data_wrapper","./pubsub","./wrappers/array","./wrappers/hash","uid","topics","unsubscribeFromCortex","removeAt","delete","easing","def","swing","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","PI","easeOutSine","sin","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeInElastic","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","initializing","fnTest","xyz","Class","_super","callee","addSingleton","ctor","getInstance","params","_instance","Iface","extractPublicMethodsFrom","propname","_implementations","defineImplementation","iter","Namespace","serializeObject","serializeArray","accumulator","oThis","aArgs","fToBind","fNOP","fBound","Imgur","INVOKED_BY_COOKIE_LIFE","INVOKED_BY_COOKIE","INVOKED_BY_PARAM","hash","pathname","isDropDownOpen","cdnUrl","signed","likeDay","followDay","linkCodes","imageSizes","suffix","retinaThumb","hugeThumb","giantThumb","largeThumb","mediumThumb","smallThumb","bigSquare","smallSquare","messages","titledesc","readonly","upvoted","downvoted","topbar","imageLinks","youtubeLinks","allImageLinks","search","searchContainer","searchForm","searchBar","searchIcon","dropdown","signin","register","upload","mainMenu","pageDepth","setEmitter","generalInit","ajaxError","displayGenericError","msie","showBetaBar","initHeaderActions","runPlaceholder","Util","getYoutubeEmbedLink","imageLinkTipsy","getJSON","appendFavoriteBar","removeFavoriteBar","triggerEvent","retina","isRetinaDisplay","setItem","closest","toggleClass","$dom","templates","favorited","$favoriteImage","fav","Favorite","$favButton","favorite","bindZeroClipboard","zc","ZeroClipboard","glue","$copyContainer","setText","siblings","flashElement","isSubdomain","dropdownPulseTime","openDropdownMenu","closeDropdownMenu","_showBetaInvite","override","Environment","beta","inBeta","showInvite","ctaConfig","ctaInvite","_showBetaWelcome","ctaWelcome","showAnnouncementBar","announcement","closed_cookie","$bar","$x","closeMessage","prepend","menu","hidePulse","elements","inputSelector","hideAds","showAds","invokedBy","forceSignin","isDev","setInvokedBy","setSeconds","getInvokedBy","vote","$arrow","currentTarget","$up","$down","points","ups","downs","Caption","getCaptionPropertyById","wasUpvote","wasDownvote","$galleryItem","jafoType","numberFormat","invokedRegisterSigninBy","msid","baseURL","gallery","Gallery","getGalleryMetadata","jafoLog","getSettings","snum","setHash","getPageHash","getLinkCodes","getImageSizes","getExtension","setPageHash","replaceState","setURL","parseUri","strictMode","strict","loose","$0","$2","setHost","buildMap","col","datum","coldata","previewBeta","acceptBeta","getSearchUrl","advSearch","searchQuery","Constants","MIN_TAG_LENGTH","MAX_TAG_LENGTH","MAX_TAGS_PER_POST","this_arg","has_been_called","do_once","hashtagRegex","getAnalyticsCdnUrl","waitForFinalEvent","timers","newWindow","firePixel","x1","x2","truncatedNumberFormat","ndigits","suffix_index","suffix_char","n_truncated","pluralize","obfuscateEmail","obfuscateString","p1","p2","p3","byteSize","precision","kilobyte","megabyte","gigabyte","terabyte","toFixed","cookieName","htmlEntity","piece","linkify","usernames","album","hashtags","tagLocation","hostEscaped","escapeRegex","regex","imgur","image","permalink","albumImage","youtubeLink","youtubeLinkWithTime","matches","match_length","opening","isHash","isImgur","isPermalink","isAlbumImage","isYoutubeLink","isYoutubeLinkWithTime","isNewTab","hashMatches","ext","classSuffix","noFollow","analytics","basename","overlay","$sticker","newCoords","newHeight","z-index","forceHideColorBox","immediate","fireImgurEvent","TEMPLATE_ESCAPEES","$$","$&","$`","$'","_escapeTemplateValue","template_key","_unescapeTemplateValue","unescaped","editDistance","matrix","link","videoId","str_len","elipsis","decorate","decoratee","decorator","fnList","decorateWithFunction","fnKey","spot","cover","decorateDetailed","fnMap","decorateWith","decorator_instance","decorateWithDetailed","getPrototypeOf","newDecoratorClass","coverAfterPartial","coverFunc","rv","_args","newInstance","getGoogleTracker","__ga","googleTrackPageview","udm_","characterSet","defaultCharset","URL","images","ns_p","_comscore","c1","c2","c3","c4","url_append","force_script_extension","script_extension_url","COMSCORE","purge","beacon","getQueryParams","paramarray","createQueryUrl","mergedParams","urlParts","currentParams","queryUrl","registerInterestingEvents","reactComponentClass","getInterestingEvents","evts","triggerView","id_ref","opt_discard","discard","pixel_url","pixel","dive","sect","PERFORMANCE_CHECKPOINT_USER_AGENT","triggerPerformanceCheckpoint","checkInIframe","matchMedia","mq","referrerIsImgur","Storage","exists","Cookie","cookieLife","Base64","LocalStorage","supported","canary","canaryValue","getItem","purgeExpired","_value","_expires","existingKey","Experiments","initialSession","activeExperiments","sessionNumber","expID","startExperiments","experimentConfig","bucket","getUserBucket","shouldRun","included","shouldReport","testFunc","variation","registerExperiment","setUserBucket","variationRandValue","testRandValue","shouldBucket","inclusionProbability","variations","expirationDate","expT4377","customConfig","globalTracking","inventory","sdk","multiFetch","pushStateReset","$p","cX","callQueue","_widgetFactory","inDefaultMostViralSort","section","landingUrl","ReactInfiniteScroll","getDefaultProps","infiniteScrollStartingPage","getInitialState","infiniteScrollLoading","infiniteScrollLastPage","infiniteScrollEnabled","componentDidMount","infiniteScrollNeedToLoadFirstPage","_load","$infiniteScrollContainer","refs","_checkScroll","componentDidUpdate","prevProps","prevState","state","react","ReactDOM","React","findDOMNode","last_rendered","setState","infiniteScrollLoad","halt","_store","page_number","infiniteScrollCountPages","infiniteScrollHavePage","infiniteScrollGetPage","infiniteScrollStart","_typeof","Symbol","iterator","Factory","Widget","env","mergeConfig","_getConfig","getConfig","_getPostAuthorized","fail","modhash","post","produceInsideGalleryFactory","gallery_env","cdnURL","InsideGallery","produceOutsideGalleryFactory","OutsideGallery","produceLocationCommand","redirectCommand","Element","CommandLocation","handleCommand","handleRefreshCommand","produceAccountBioEditor","$bioElement","$bioEditElement","accountBio","User","Bio","editAccountBio","saveAccountBio","produceSearch","search_config","gallery_config","search_type","_getAjaxGet","suggestUrl","storeSearchSuggestions","Search","Store","Suggestions","searchSuggestModel","SuggestModel","TYPES","TopBarView","SUGGESTION_TYPES","ordering","TAG","MEME","USER","SEARCH","ECHO","SuggestionFactory","searchResults","Results","Dev","DebugVar","structured","Structured","advController","Controller","Advanced","searchSort","searchWindow","searchProps","suggestionStore","defaultSuggestOpened","getIsHidden","renderSearch","component","render","setTopBarComponent","hotkeyController","HotkeyController","handleKeyUp","$advSearchIcon","get$AllOf","handleKeyUpStructured","handleToggleAdvancedClick","topBarQuery","getQuery","flatQuery","getFlatQuery","setFlatQuery","setQuery","initIdleMonitor","logResumedBrowsing","lastActive","inactive","produceLinkify","Linkifier","addGrabber","Linkify","ImgurGrabber","PlainGrabber","UsernameGrabber","HashtagGrabber","OpGrabber","addViewer","YoutubeViewer","Html5VideoViewer","ImgurGifvViewer","ImgurViewer","ImageViewer","produceCtaBanner","ctaProps","isPromoted","ref","ctaOnPromoted","unmountComponentAtNode","getFirstActiveCtaProps","betainvite","isSkipCta","leaderboardBeatsCta","hideCta","isFrontPageOnly","Banner","Cta","CtaNoButton","jsReactClassName","logCtaRender","trackingName","bannerName","banner","bannerType","produceCtaLightbox","Lightbox","logCtaLightboxRender","configName","ctaIndex","hasSeenCta","showOnHashOnly","galleryConfig","insidePageOK","pageHash","InsideNav","getHash","getImage","isAd","is_spammer","targetAdblock","usesABP","targetNoApp","hasApp","localStorageName","experiments","produceJafo","jafo","Jafo","logPixel","bindDataAttr","logAction","direct","directFire","registerExperimentData","produceGifgen","steps","createClass","displayName","DOM","routes","ReactRouter","Route","Gifgen","Video","Upload","DefaultRoute","HistoryLocation","Handler","_incusInstance","incus_id","initNotifications","milestone_levels","reputation_levels","_initHBaseNotifications","bindIncusGallery","galleryCfg","baseUrl","imagePointsUpdater","PointsUpdater","handleUpdate","commentPointsUpdater","Comment","kill","bindIncusMessages","messageDropdown","oldMessages","$eventsContainer","$conversationsContainer","eventDropdownProps","reputation","Reputation","messageDropdownProps","unreadCount","notifications_messages","Notification","EventDropdown","MessageDropdown","getparams","mark_type","notifications[0][foreign_id]","notifications[0][foreign_type]","notifications[0][snapshot]","notification_key","notifNum","notificationId","notificationTrigger","newUrl","produceFavorite","imgurFavorite","_init","favKeyBound","keydown","handleKey","produceApocalypseCta","zombieScore","humanScore","Elements","ApocalypseCta","Loader","$container","$loader","get$Loader","isHidden","Nanoscroll","propTypes","PropTypes","contentClassNames","nanoStyle","BodyModal","handleBodyClick","componentWillUnmount","bodyModalVisible","handleBodyModalClick","FlashyText","isRequired","flashNumber","componentWillReceiveProps","nextProps","addons","CSSTransitionGroup","transitionName","transitionLeave","span","levels","getLevelName","aggregators","getForeignId","pointUpdate","getPointsValue","pointForeignId","pointValue","Aggregator","pointUpdateFull","aggregator","pointsUpdate","timerRef","comment","openingDropDown","loaderSrc","cacheArray","originalTitle","unreadCounts","titleTimeout","focusType","setFocusHandler","setTitle","_updateTitleToReflectCount","setUnreadCount","sum","viewed","updateSubCounter","showNotificationsDropdown","$dropdown","$wrapper","hideNotificationsDropdown","insertData","replies","xhrFields","trending_captions","initNotificationsDropdown","$counter","updateTotalCounter","insertNotificationArea","focusCb","initRealtime","handleMessageNotification","handleReplyNotification","showGrowl","noty","UIMessage","notification","reachedMode","knowHowToRender","foreignType","getLinkHref","foreignData","foreignId","snapshot","timeLastRead","hrefBase","trophy","data_link","unseen_count","querystring","getIcon","foreign_type","foreign_data","thumb_hash","is_album","album_cover","image_url","getThumb","thumb","getCardTitle","caption","getCommentReplyTimeLastRead","milestone_read_time","getMilestoneLine","notif_foreign_data","unseen","seen","event_type","event_count","milestone_level","event_data","embed","publisher","commentator","repliesPlural","evt_type","NotificationBase","viewing","noNotifications","notifications","notificationInstances","handlingHistoryState","noType","viewNotification","loaderId","selectedButtonClass","lookupTypes","showDisabledNotification","hideLoader","showNoNotification","hideNoNotifications","showLoader","clearLoad","InfiniteScroll","stopInfiniteScroll","getNewNotifications","messagesDisabled","instance","addWindowState","mixins","pending_event_snapshots","_update_pagination_token","response_latest_as_of","_markEventsAsSeen","postEvents","notif","foreign_id","seenPendingClosed","postEvent","notifKey","bbType","cardId","newNotifications","notificationKey","event_snapshot","_publishUnreadCount","unseenCount","_mergeData","response_notifications","uiHelper","responseNotificationsMap","newNotification","mergedNotification","oldNotification","mergedEvents","newEvent","oldEvent","_displayGrowls","notifs","ui_helper","notification_foreign_type","notification_foreign_id","last_read_snapshot","noty_opts","title_long","notifications_last_token","finished_callback","pages","pagination_token_url","next_page","first_token","handleRealTimeNewNotifications","handleRealTimeMarkNotification","newSnapshot","overwriteNotifs","pendingEventSnapshots","last_seen_snapshot","evtKey","notificationsCopy","notifsUnseen","notifsSeen","notifsSorted","notifsElements","unseenCountIcon","unseenCountDropdown","NotificationCard","Empty","visible_contents","h3","btn_class","icon-notifications","onClick","handleNewMessage","handleReadNotification","realtimeData","handleRealtimeMessage","btnClass","icon-messages","conversations","unread","linkClass","unread-count","milestones","milestone_line","card_cls","notification-card","h4","notification-card-empty","NotyObject","layouts","_build","buttons","closeWith","$buttons","button","$button","$message","$closeButton","store","onCloseClick","afterShow","shown","promise","closed","afterClose","modal","notyRenderer","setModalCount","getModalCount","setLayoutCountFor","getLayoutCountFor","dismissQueue","ontap","maxVisible","setType","cancelBubble","returns","createModalFor","custom","closeAll","windowAlert","alert","consumeAlert","stopConsumeAlert","force","using_old","old_to_new","animateOpen","animateClose","onShown","_new","closeOnSelfClick","closeOnSelfOver","cssPrefix","bottomRight","Evented","deferred","getBounds","getClassName","getOffsetParent","getOrigin","getScrollBarSize","getScrollParent","setClassName","updateClasses","zeroPosCache","__hasProp","__indexOf","__slice","Tether","modules","scrollParent","_ref","getComputedStyle","_error","_tetherZeroElement","getBoundingClientRect","box","docEl","scrollWidth","clientTop","clientLeft","offsetParent","widthContained","widthScroll","_i","_len","_results","classList","SVGAnimatedString","baseVal","_j","_len1","ctx","_base","bindings","_ref1","Utils","MIRROR_LR","MIRROR_TB","OFFSET_MAP","addOffset","attachmentToOffset","autoToFixedAttachment","getOuterSize","getSize","offsetToPx","parseAttachment","parseOffset","tethers","transformKey","within","_Tether","__bind","tether","performance","lastCall","lastDuration","pendingTimeout","tick","center","middle","attachment","relativeToAttachment","_ref2","offsets","setOptions","initialize","classPrefix","targetOffset","targetAttachment","targetModifier","jquery","addTargetClasses","getTargetBounds","bounds","fitAdj","hasBottomScroll","scrollPercentage","borderTopWidth","borderBottomWidth","borderLeftWidth","clearCache","_cache","getter","updateAttachClasses","elementAttach","targetAttach","side","sides","_addAttachClasses","flushChanges","elementPos","elementStyle","manualOffset","manualTargetOffset","offsetBorder","offsetParentSize","offsetParentStyle","offsetPosition","scrollbarSize","targetPos","targetSize","_ref3","_ref4","_ref5","_ref6","lastSize","viewport","parentElement","optimizations","moveElement","move","elVal","found","moved","point","same","transcribe","writeCSS","xPos","yPos","gpu","AlbumImage","posts","pendingRequestUrl","getImages","setImages","deleteImage","album_hash","image_hash","fetchImages","success_callback","datetime","historyBackOnModalClose","bool","TOAST_LEVELS","INFO","DEFAULT_TOAST_TIMEOUTS","ACCEPTED_EXTENSIONS","PREVIEW_EXTENSIONS","PREVIEW_SIZE_LIMIT","UPLOAD_ATTEMPT_LIMIT","CHECK_CAPTCHA_PATH","UPLOAD_PATH","MODAL_ANIMATION_ENTER_TIMEOUT","MODAL_ANIMATION_LEAVE_TIMEOUT","POST_ANIMATION_ENTER_TIMEOUT","uploadIndex","loadedScriptCount","uploadIntentFired","totalUploads","virtualStore","uploadStore","deletehash","toasts","showingModal","initiallyShowingModal","showAddExistingImage","uploadComplete","creatingPost","published","inGallery","$body","$topBar","$topBarUploadButton","$accountUploadButton","$cta","$existingContent","$ads","$dropLayer","$newMemeButton","$allPageUploadProgress","bypassPostRendering","isMemeGen","reactContext","analyticsIntent","showModal","has_access","handlePaste","handleDragDrop","dropLayer","hideDropLayer","handleDragStart","handleDragEnd","handleDragOver","checkCaptchaEndpoint","uploadEndpoint","updateProgressBar","boxShadow","showUploadNotice","flipContainer","FlipInfo","shouldComponentUpdate","nextState","showExistingImageDialog","colorBoxId","AddExistingImage","selectSingle","handleDone","closeAddExistingImageDialog","msgType","getUploadingCount","targetIsInputField","targetParent","keyEvent","tildeKey","escapeKey","addToast","toast","newToastID","fitleredToasts","showCaptcha","grecaptcha","showingCaptcha","sitekey","recaptcha_key","captchaResponse","checkUploadsLimits","additionalState","newState","blurInvokedByUser","dropTargetOnly","GalleryBundleLoaded","loadScripts","galleryScripts","script_cb","galleryCSS","addImage","showDropLayer","ignoreDrag","dataTransfer","analyticsImgIntent","getData","handleURL","album_images","queueLength","loadItems","loadItem","entry","isFile","isDirectory","getAsEntry","webkitGetAsEntry","handleEntry","handleFile","_this2","createReader","readEntries","entries","base64URItoBlob","sliceSize","b64Data","byteCharacters","atob","byteArrays","byteNumbers","_this3","closeBlur","kind","getAsString","getBaseImageObject","externalURL","blobURL","reactKey","captchaSuccess","renderBackendPost","handleFileList","handleAddExistingImage","uploading","preloaded","loaded","progress","progressText","createObjectURL","staticUrl","prepareUpload","togglePage","globalUpload","captchaType","createAlbum","total_uploads","create_album","g-recaptcha-response","res","new_album_id","overLimits","showExistingPage","infScroll","continueInfiniteScroll","runSlots","clearAdRefreshTimeout","uploadAttempts","DONE","UNSENT","formData","FormData","onAllPage","lengthComputable","hidingPreviewViaExt","hidingPreviewViaSize","triggerSaveTitleDesc","animated","finishUploadIfDone","MemeGen","uploadFinishedCallback","needsRecalc","Account","addImageToThumbs","preload","revokeObjectURL","giant_retina_suffix","mozilla","albumId","onbeforeunload","getTotalSize","getTotalLoaded","rearrangeImages","rearrangeRequest","order","postSavingStore","saveImages","hashes","change_cover","selectedImages","_this4","currentImages","setAccountImageFromhash","Transition","displayProgress","renderPost","headerImage","Saving","tagValidator","Tag","TagValidator","tagStore","headerProps","noNav","initialImage","showEditTools","postProps","all_loaded","album_image_store","in_gallery","insideTagController","hide_points","hide_views","hide_tags","hide_report","linkifier","postOptionsProps","initialHash","initialIsPublished","isAlbum","showShareButton","showRearrange","imageStore","privacy","showUploadModal","Header","Post","PostOptions","scale","transformOrigin","transitionEnterTimeout","transitionLeaveTimeout","Modal","historyBackOnClose","isNewUpload","accept","IMAGES_PER_PAGE","currentPage","MAX_VALUE","toggleImageSelect","curHash","NanoScroller","onScroll","DebugVars","PromiseXHR","aborted","doneSoFar","comparer","tasks","jqXHRs","_doAjax","pushAjax","jqxhr_data","textStatus","task","doneNow","beginajax","viewerOrder","viewers","grabbers","grabber","viewer","prependViewer","prependGrabber","grab","scan_results","scan_result","scan","grabbed","replaced","priority","intersectingMap","other_scan_result","intersects","intersecting","container_props","container_children","grab_result","prev_scan_result","link_props","attach","_handleLinkClicked","_handleLinkHovered","attachDelegate","viewerName","canView","inout","canHover","hoverover","hoverout","REGEX","beginning","tagname","currentOp","handleImageChange","account_url","attributes","AlbumImageGrabber","REGEX_SINGLE","heightCache","$video","onloadedmetadata","currentTipsy","html5viewer","overrideHtml","STATE","LOADING","LOADED","ABORTED","OVERRIDDEN","AlbumImageViewer","pendingRef","handleUpdatedImage","abortedHash","image_number","ajax_ref","NSFWViewer","captions","comment_id","isCaptionOrItsSubtreeNSFW","defaultValue","cacheRetention","lastQueries","suggestions","haveQueryData","oldQuery","addSuggestion","getSuggestions","$form","$toggleIcon","$q_all","get$Form","AppStore","Buttons","campaign","iosStyle","background","androidStyle","_handleClickIos","_handleClickAndroid","alt","_handleClick","GetTheApp","_createModalBackgroundDiv","_createBackgroundDiv","_createCloseButton","_createContentDiv","targetWindow","newTab","STATIC","heroImage","heroImageStyle","backgroundImage","backgroundPosition","backgroundSize","_handleClickHero","_handleClickTitle","_handleClickAppStore","_setAsViewed","_hide","_center","marginLeft","_close","backgroundUrl","slideUp","Timestamp","shouldUpdate","datetimeArray","formatTimestamp","Analytics","piePartOneRotation","piePartThreeRotation","pieClass","favorites","componentWillMount","_setDonutChartRotation","galleryHash","ratio","percentage","thumbhash","comments","Mixin","visibleClassName","customClass","hero","_handleClickClose","backgroundColor","_createHero","h1","dangerouslySetInnerHTML","__html","_closeCta","_handleClickButton","_saveViewedState","_createButton","buttonImg","buttonColor","buttonText","SMS","cta","submitting","loadbranchWebSDK","_q","_v","eventLog","branch","phoneNumber","linkData","channel","feature","sendSMS","handleSubmitError","handleSubmitSuccess","handleSubmit","handleClose","smsMeTheAppInvokedBy","cta-sms","cta-form","cta-form-sms","cta-form-error","cta-form-success","cta-form-submitting","onSubmit","for","Facebook","_createLikeButton","_createFbRoot","_loadButton","js","fjs","data-href","data-send","data-layout","data-width","data-show-faces","data-colorscheme","data-font","Twitter","_addTwitterIcon","_createFollowButton","Pinterest","data-pin-do","Converted","TeeSpring","_createTshirtImage","tshirtImage","Promoted","Newsletter","_createForm","formClass","cta-icymi","errorMessage","successMessage","onFocus","handleFocusText","onBlur","handleBlurText","handleChangeText","errorValue","responseJSON","componentList","KEYCODES","ESC","UP_ARROW","DOWN_ARROW","ENTER","RIGHT_ARROW","TAB","focused","selectedIdx","forcedOpen","getStore","openAndFocus","isOpened","isClosed","handleChange","resetQuery","setActiveQuery","fetch","cancel","_doActionActive","getActiveIdx","getIthSuggestion","_onSuggestHoverIn","setActiveIdx","_onSuggestHoverOut","_produceSection","payload","reactClsName","onMouseEnter","onMouseLeave","TopBar","Section","iconClass","_getCaretPosition","selectionStart","selection","createRange","rc","duplicate","moveToBookmark","getBookmark","setEndPoint","_getFooterDom","autocompleteDom","visibleQuery","getVisibleQuery","sections","getSections","sectionComponents","handleMouseEnter","handleMouseLeave","searchUrl","inputStatusClass","onKeyUp","onKeyDown","handleKeyDown","handleFocus_Advanced","handleFocus","autoComplete","handleChange_Advanced","handleBlur_Advanced","handleBlur","handleIconClick","queryLen","right_arrow","tab","modifier","numSuggests","getTotalSuggestions","queryInputDom","caretPos","inputLen","isSubreddit","esc","up_arrow","down_arrow","suggestionFactory","activeIdx","order_key","payloads","produceSuggestion","produceSection","getActiveQuery","Model","queryNonce","pendingRequest","queryContext","_handleResponse","responseWasSuccessful","nonce","_handleResponseSuccess","suggestion","submissions","KEYCODE","FORWARD_SLASH","$root","isAdvancedHidden","Meme","Echo","imageZoom","conf","dontFadeIn","hideClicked","imageMargin","loading","doubleSpeed","clickedElement","clickedLink","clickedImg","oldText","setLoadingImg","setNotLoadingImg","displayImgSrc","preloadOnload","dimElement","imgzoomBefore","imgzoom","imgzoomAfter","windowDim","nWidth","hideImgzoom","thumbsize","gif_size_threshold","wrap_with_direct_link","poster","forceGif","forceStill","noZoom","minHeight","discarding_referrer","firing_pixel","showShareLinks","deleteMode","videoHash","lastViewPixel","injectFullImage","_showingVideo","prefer_video","_addVideoLoader","buffered","_bindVideoEvents","_isMobile","looping","currentTime","srcmp4","componentWillUpdate","_imageChanged","_isLargeWidth","_injectFullImage","_shareOptions","embedcoder","ShareImage","toggleDeleteMode","removeFromPost","handleRemove","deleteFromAccount","confirm","large_width","zooming","videoParams","autoPlay","muted","controls","src_prefix","inner_tag","is_firefox","large_props","onMouseDown","post_image_options","progress_text","progress_bar","LinkGenerator","setThumbSize","showProgressText","showProgressBar","singleImage","Copy","imageLink","inputClass","copyClass","unmount","back","vidGif","control","memeGen","browseUploads","inside","dragDropBox","bottomButtons","multiple","htmlFor","onInput","ANIMATION_END_NAME","updated","handleAnimationEnd","nativeEvent","animationName","onAnimationEnd","FADEOUT_ANIMATION","ActionCard","actions","imageUrl","handleDocumentClick","renderAction","label","imageStyle","classnames","createAction","_key","collapsed","getBannerEventName","expandInvokedBy","team","toggleCta","getMessage","renderCollapsed","renderSignedOut","handleJoinTheFightClick","renderSignedIn","zombieBarWidth","humanBarWidth","handleViewDamageReportClick","handleLearnToPlayClick","accountId","pxLocation","verDate","attrBound","attrRegex","chrRegex","cookieOpts","thirdPartyLoginFlag","imgLoc","legacyQueue","lsArrayName","lsAvail","lsKeyName","maxBatch","pollDelay","scheduled","selfRefRgx","embedRgx","sessionFired","uidCookie","sessionTrackingCookieName","sessionTrackingExpirationTime","shouldFire","sessionFiredCooldown","userDetails","backendCohort","experimentData","sessionId","immedReferrer","firstSession","secondSession","injectUserDetails","previousState","_getSessionTrackingData","_setSessionTrackingData","sessionCount","sessionTime","_updateSessionTrackingData","_fp","_canUseLs","_sessionStart","_schedPoll","details","sessionData","batch","aParm","sify","parms","_isArr","_parmLabel","_handleAttrClick","dataMerged","consoleDebug","_fire","np","nav","srn","screen","plugins","_nav2str","_sha256","toISOString","_fromLegacy","_fromLs","localString","tempData","localData","_getQueue","attrData","strJson","strValue","$targ","preJson","tD","memb","mod","_pollQueue","smoulder","_sliceQueue","_queue","_queueLs","_queueLegacy","extant","argData","_saveQueueLs","isSelf","isThird","refIsEmbed","_setSessionHasFired","language","screenResolution","timezone","safe_add","lsw","msw","Ch","Maj","Sigma0256","Sigma1256","Gamma0256","Gamma1256","core_sha256","T1","T2","HASH","str2binb","bin","mask","chrsz","Utf8Encode","utftext","binb2hex","binarray","hex_tab","hexcase","qData","tempObj","remnant","_sliceQueueLs","_sliceQueueLegacy","pxs","consoleStyles","standard","gray","red","orange","yellow","green","teal","blue","purple","brown","weightBold","weightNormal","consoleArgs","expString","exp"],"mappings":"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,sBAAsBg4B,kBAGlC,GAIJrqB,EAAE9R,GAAQsjB,GAAG,qBAAsB,WAClC,GAAI6W,GAASroB,EAAE,qBAAqB3N,KAAK,SAErCg2B,IACHA,EAAO4B,YAAY,gBAKrBjqB,EAAE9R,GAAQsjB,GAAG,qBAAsB,WAClC,GAAI6W,GAASroB,EAAE,qBAAqB3N,KAAK,SAEzB,QAAXg2B,GAAqBA,IAAW3vB,GACpC2vB,EAAO4B,YAAY,iBAGlBhqB,OAAQ/R,OAAQ6E,UC59BpB,SAAWiN,GACV,GAAIgvB,GAAa,WAChB,GACCC,IACCC,MAAO,sBACPC,MAAO,uBACPvK,KAAM,sBAEPwK,GACCC,QAAS,2ZACTtyB,MACC,OACA,0CACC,UACC,OACC,2EACA,6EACA,2EACD,QACA,6BACC,kCACA,kCACA,kCACA,kCACA,kCACA,kCACA,kCACD,QACD,WACD,iBAEDuyB,MAAQ,+CACR1K,MACC,iCACC,OACC,2GACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACD,QACA,OACC,2GACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACD,QACA,OACC,2GACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACD,QACA,OACC,2GACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACD,QACA,OACC,2GACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACD,QACA,OACC,2GACA,2GACA,2GACA,2GACA,2GACA,2GACA,2GACD,QACD,YAED2K,QACC,iCACC,OACC,iEACA,iEACA,iEACA,iEACD,QACA,OACC,iEACA,iEACA,iEACA,iEACD,QACA,OACC,iEACA,iEACA,kEACA,kEACD,QACD,aAGFrZ,GACCsZ,MAAM,EACNC,OAAQ,EACRjU,KAAM,UACND,KAAM,UACNmU,SAAS,EACTC,KAAM,SACNC,KAAM,OACNC,UAAW,EACXC,OAAQ,QACRvW,SAAU,SACVwW,UAAW,QACXC,SAAU,WAAW,UACrBC,SAAU,WAAW,OAAO,GAC5BC,OAAQ,WAAW,OAAO,GAC1BC,aAAc,WAAW,OAAO,GAChCC,OAAQ,WAAW,OAAO,GAC1BC,QACC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","file":"global.js","sourceRoot":"/include/minified/","sourcesContent":["window.console = window.console || {\n    log: function () {},\n    warn: function () {},\n    error: function () {},\n};","/*! Raven.js 3.7.0 (cf2ddee) | github.com/getsentry/raven-js */\n\n/*\n * Includes TraceKit\n * https://github.com/getsentry/TraceKit\n *\n * Copyright 2016 Matt Robenolt and other contributors\n * Released under the BSD license\n * https://github.com/getsentry/raven-js/blob/master/LICENSE\n *\n */\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Raven = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\nexports = module.exports = stringify\nexports.getSerialize = serializer\n\nfunction stringify(obj, replacer, spaces, cycleReplacer) {\n  return JSON.stringify(obj, serializer(replacer, cycleReplacer), spaces)\n}\n\nfunction serializer(replacer, cycleReplacer) {\n  var stack = [], keys = []\n\n  if (cycleReplacer == null) cycleReplacer = function(key, value) {\n    if (stack[0] === value) return \"[Circular ~]\"\n    return \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\"\n  }\n\n  return function(key, value) {\n    if (stack.length > 0) {\n      var thisPos = stack.indexOf(this)\n      ~thisPos ? stack.splice(thisPos + 1) : stack.push(this)\n      ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key)\n      if (~stack.indexOf(value)) value = cycleReplacer.call(this, key, value)\n    }\n    else stack.push(value)\n\n    return replacer == null ? value : replacer.call(this, key, value)\n  }\n}\n\n},{}],2:[function(_dereq_,module,exports){\n'use strict';\n\nfunction RavenConfigError(message) {\n    this.name = 'RavenConfigError';\n    this.message = message;\n}\nRavenConfigError.prototype = new Error();\nRavenConfigError.prototype.constructor = RavenConfigError;\n\nmodule.exports = RavenConfigError;\n\n},{}],3:[function(_dereq_,module,exports){\n'use strict';\n\nvar wrapMethod = function(console, level, callback) {\n    var originalConsoleLevel = console[level];\n    var originalConsole = console;\n\n    if (!(level in console)) {\n        return;\n    }\n\n    var sentryLevel = level === 'warn'\n        ? 'warning'\n        : level;\n\n    console[level] = function () {\n        var args = [].slice.call(arguments);\n\n        var msg = '' + args.join(' ');\n        var data = {level: sentryLevel, logger: 'console', extra: {'arguments': args}};\n        callback && callback(msg, data);\n\n        // this fails for some browsers. :(\n        if (originalConsoleLevel) {\n            // IE9 doesn't allow calling apply on console functions directly\n            // See: https://stackoverflow.com/questions/5472938/does-ie9-support-console-log-and-is-it-a-real-function#answer-5473193\n            Function.prototype.apply.call(\n                originalConsoleLevel,\n                originalConsole,\n                args\n            );\n        }\n    };\n};\n\nmodule.exports = {\n    wrapMethod: wrapMethod\n};\n\n},{}],4:[function(_dereq_,module,exports){\n/*global XDomainRequest:false*/\n'use strict';\n\nvar TraceKit = _dereq_(7);\nvar RavenConfigError = _dereq_(2);\nvar utils = _dereq_(6);\nvar stringify = _dereq_(1);\n\nvar isFunction = utils.isFunction;\nvar isUndefined = utils.isUndefined;\nvar isError = utils.isError;\nvar isEmptyObject = utils.isEmptyObject;\nvar hasKey = utils.hasKey;\nvar joinRegExp = utils.joinRegExp;\nvar each = utils.each;\nvar objectMerge = utils.objectMerge;\nvar truncate = utils.truncate;\nvar urlencode = utils.urlencode;\nvar uuid4 = utils.uuid4;\nvar htmlTreeAsString = utils.htmlTreeAsString;\nvar parseUrl = utils.parseUrl;\nvar isString = utils.isString;\nvar fill = utils.fill;\n\nvar wrapConsoleMethod = _dereq_(3).wrapMethod;\n\nvar dsnKeys = 'source protocol user pass host port path'.split(' '),\n    dsnPattern = /^(?:(\\w+):)?\\/\\/(?:(\\w+)(:\\w+)?@)?([\\w\\.-]+)(?::(\\d+))?(\\/.*)/;\n\nfunction now() {\n    return +new Date();\n}\n\n\n// First, check for JSON support\n// If there is no JSON, we no-op the core features of Raven\n// since JSON is required to encode the payload\nfunction Raven() {\n    this._hasJSON = !!(typeof JSON === 'object' && JSON.stringify);\n    // Raven can run in contexts where there's no document (react-native)\n    this._hasDocument = typeof document !== 'undefined';\n    this._lastCapturedException = null;\n    this._lastEventId = null;\n    this._globalServer = null;\n    this._globalKey = null;\n    this._globalProject = null;\n    this._globalContext = {};\n    this._globalOptions = {\n        logger: 'javascript',\n        ignoreErrors: [],\n        ignoreUrls: [],\n        whitelistUrls: [],\n        includePaths: [],\n        crossOrigin: 'anonymous',\n        collectWindowErrors: true,\n        maxMessageLength: 0,\n        stackTraceLimit: 50,\n        autoBreadcrumbs: true\n    };\n    this._ignoreOnError = 0;\n    this._isRavenInstalled = false;\n    this._originalErrorStackTraceLimit = Error.stackTraceLimit;\n    // capture references to window.console *and* all its methods first\n    // before the console plugin has a chance to monkey patch\n    this._originalConsole = window.console || {};\n    this._originalConsoleMethods = {};\n    this._plugins = [];\n    this._startTime = now();\n    this._wrappedBuiltIns = [];\n    this._breadcrumbs = [];\n    this._lastCapturedEvent = null;\n    this._keypressTimeout;\n    this._location = window.location;\n    this._lastHref = this._location && this._location.href;\n\n    for (var method in this._originalConsole) {  // eslint-disable-line guard-for-in\n      this._originalConsoleMethods[method] = this._originalConsole[method];\n    }\n}\n\n/*\n * The core Raven singleton\n *\n * @this {Raven}\n */\n\nRaven.prototype = {\n    // Hardcode version string so that raven source can be loaded directly via\n    // webpack (using a build step causes webpack #1617). Grunt verifies that\n    // this value matches package.json during build.\n    //   See: https://github.com/getsentry/raven-js/issues/465\n    VERSION: '3.7.0',\n\n    debug: false,\n\n    TraceKit: TraceKit, // alias to TraceKit\n\n    /*\n     * Configure Raven with a DSN and extra options\n     *\n     * @param {string} dsn The public Sentry DSN\n     * @param {object} options Optional set of of global options [optional]\n     * @return {Raven}\n     */\n    config: function(dsn, options) {\n        var self = this;\n\n        if (this._globalServer) {\n                this._logDebug('error', 'Error: Raven has already been configured');\n            return this;\n        }\n        if (!dsn) return this;\n\n        // merge in options\n        if (options) {\n            each(options, function(key, value){\n                // tags and extra are special and need to be put into context\n                if (key === 'tags' || key === 'extra') {\n                    self._globalContext[key] = value;\n                } else {\n                    self._globalOptions[key] = value;\n                }\n            });\n        }\n\n        this.setDSN(dsn);\n\n        // \"Script error.\" is hard coded into browsers for errors that it can't read.\n        // this is the result of a script being pulled in from an external domain and CORS.\n        this._globalOptions.ignoreErrors.push(/^Script error\\.?$/);\n        this._globalOptions.ignoreErrors.push(/^Javascript error: Script error\\.? on line 0$/);\n\n        // join regexp rules into one big rule\n        this._globalOptions.ignoreErrors = joinRegExp(this._globalOptions.ignoreErrors);\n        this._globalOptions.ignoreUrls = this._globalOptions.ignoreUrls.length ? joinRegExp(this._globalOptions.ignoreUrls) : false;\n        this._globalOptions.whitelistUrls = this._globalOptions.whitelistUrls.length ? joinRegExp(this._globalOptions.whitelistUrls) : false;\n        this._globalOptions.includePaths = joinRegExp(this._globalOptions.includePaths);\n        this._globalOptions.maxBreadcrumbs = Math.max(0, Math.min(this._globalOptions.maxBreadcrumbs || 100, 100)); // default and hard limit is 100\n\n        var autoBreadcrumbDefaults = {\n            xhr: true,\n            console: true,\n            dom: true,\n            location: true\n        };\n\n        var autoBreadcrumbs = this._globalOptions.autoBreadcrumbs;\n        if ({}.toString.call(autoBreadcrumbs) === '[object Object]') {\n            autoBreadcrumbs = objectMerge(autoBreadcrumbDefaults, autoBreadcrumbs);\n        } else if (autoBreadcrumbs !== false) {\n            autoBreadcrumbs = autoBreadcrumbDefaults;\n        }\n        this._globalOptions.autoBreadcrumbs = autoBreadcrumbs;\n\n        TraceKit.collectWindowErrors = !!this._globalOptions.collectWindowErrors;\n\n        // return for chaining\n        return this;\n    },\n\n    /*\n     * Installs a global window.onerror error handler\n     * to capture and report uncaught exceptions.\n     * At this point, install() is required to be called due\n     * to the way TraceKit is set up.\n     *\n     * @return {Raven}\n     */\n    install: function() {\n        var self = this;\n        if (this.isSetup() && !this._isRavenInstalled) {\n            TraceKit.report.subscribe(function () {\n                self._handleOnErrorStackInfo.apply(self, arguments);\n            });\n            this._instrumentTryCatch();\n            if (self._globalOptions.autoBreadcrumbs)\n                this._instrumentBreadcrumbs();\n\n            // Install all of the plugins\n            this._drainPlugins();\n\n            this._isRavenInstalled = true;\n        }\n\n        Error.stackTraceLimit = this._globalOptions.stackTraceLimit;\n        return this;\n    },\n\n    /*\n     * Set the DSN (can be called multiple time unlike config)\n     *\n     * @param {string} dsn The public Sentry DSN\n     */\n    setDSN: function(dsn) {\n        var uri = this._parseDSN(dsn),\n          lastSlash = uri.path.lastIndexOf('/'),\n          path = uri.path.substr(1, lastSlash);\n\n        this._dsn = dsn;\n        this._globalKey = uri.user;\n        this._globalSecret = uri.pass && uri.pass.substr(1);\n        this._globalProject = uri.path.substr(lastSlash + 1);\n\n        this._globalServer = this._getGlobalServer(uri);\n\n        this._globalEndpoint = this._globalServer +\n            '/' + path + 'api/' + this._globalProject + '/store/';\n    },\n\n    /*\n     * Wrap code within a context so Raven can capture errors\n     * reliably across domains that is executed immediately.\n     *\n     * @param {object} options A specific set of options for this context [optional]\n     * @param {function} func The callback to be immediately executed within the context\n     * @param {array} args An array of arguments to be called with the callback [optional]\n     */\n    context: function(options, func, args) {\n        if (isFunction(options)) {\n            args = func || [];\n            func = options;\n            options = undefined;\n        }\n\n        return this.wrap(options, func).apply(this, args);\n    },\n\n    /*\n     * Wrap code within a context and returns back a new function to be executed\n     *\n     * @param {object} options A specific set of options for this context [optional]\n     * @param {function} func The function to be wrapped in a new context\n     * @param {function} func A function to call before the try/catch wrapper [optional, private]\n     * @return {function} The newly wrapped functions with a context\n     */\n    wrap: function(options, func, _before) {\n        var self = this;\n        // 1 argument has been passed, and it's not a function\n        // so just return it\n        if (isUndefined(func) && !isFunction(options)) {\n            return options;\n        }\n\n        // options is optional\n        if (isFunction(options)) {\n            func = options;\n            options = undefined;\n        }\n\n        // At this point, we've passed along 2 arguments, and the second one\n        // is not a function either, so we'll just return the second argument.\n        if (!isFunction(func)) {\n            return func;\n        }\n\n        // We don't wanna wrap it twice!\n        try {\n            if (func.__raven__) {\n                return func;\n            }\n\n            // If this has already been wrapped in the past, return that\n            if (func.__raven_wrapper__ ){\n                return func.__raven_wrapper__ ;\n            }\n        } catch (e) {\n            // Just accessing custom props in some Selenium environments\n            // can cause a \"Permission denied\" exception (see raven-js#495).\n            // Bail on wrapping and return the function as-is (defers to window.onerror).\n            return func;\n        }\n\n        function wrapped() {\n            var args = [], i = arguments.length,\n                deep = !options || options && options.deep !== false;\n\n            if (_before && isFunction(_before)) {\n                _before.apply(this, arguments);\n            }\n\n            // Recursively wrap all of a function's arguments that are\n            // functions themselves.\n            while(i--) args[i] = deep ? self.wrap(options, arguments[i]) : arguments[i];\n\n            try {\n                return func.apply(this, args);\n            } catch(e) {\n                self._ignoreNextOnError();\n                self.captureException(e, options);\n                throw e;\n            }\n        }\n\n        // copy over properties of the old function\n        for (var property in func) {\n            if (hasKey(func, property)) {\n                wrapped[property] = func[property];\n            }\n        }\n        wrapped.prototype = func.prototype;\n\n        func.__raven_wrapper__ = wrapped;\n        // Signal that this function has been wrapped already\n        // for both debugging and to prevent it to being wrapped twice\n        wrapped.__raven__ = true;\n        wrapped.__inner__ = func;\n\n        return wrapped;\n    },\n\n    /*\n     * Uninstalls the global error handler.\n     *\n     * @return {Raven}\n     */\n    uninstall: function() {\n        TraceKit.report.uninstall();\n\n        this._restoreBuiltIns();\n\n        Error.stackTraceLimit = this._originalErrorStackTraceLimit;\n        this._isRavenInstalled = false;\n\n        return this;\n    },\n\n    /*\n     * Manually capture an exception and send it over to Sentry\n     *\n     * @param {error} ex An exception to be logged\n     * @param {object} options A specific set of options for this error [optional]\n     * @return {Raven}\n     */\n    captureException: function(ex, options) {\n        // If not an Error is passed through, recall as a message instead\n        if (!isError(ex)) {\n            return this.captureMessage(ex, objectMerge({\n                trimHeadFrames: 1,\n                stacktrace: true // if we fall back to captureMessage, default to attempting a new trace\n            }, options));\n        }\n\n        // Store the raw exception object for potential debugging and introspection\n        this._lastCapturedException = ex;\n\n        // TraceKit.report will re-raise any exception passed to it,\n        // which means you have to wrap it in try/catch. Instead, we\n        // can wrap it here and only re-raise if TraceKit.report\n        // raises an exception different from the one we asked to\n        // report on.\n        try {\n            var stack = TraceKit.computeStackTrace(ex);\n            this._handleStackInfo(stack, options);\n        } catch(ex1) {\n            if(ex !== ex1) {\n                throw ex1;\n            }\n        }\n\n        return this;\n    },\n\n    /*\n     * Manually send a message to Sentry\n     *\n     * @param {string} msg A plain message to be captured in Sentry\n     * @param {object} options A specific set of options for this message [optional]\n     * @return {Raven}\n     */\n    captureMessage: function(msg, options) {\n        // config() automagically converts ignoreErrors from a list to a RegExp so we need to test for an\n        // early call; we'll error on the side of logging anything called before configuration since it's\n        // probably something you should see:\n        if (!!this._globalOptions.ignoreErrors.test && this._globalOptions.ignoreErrors.test(msg)) {\n            return;\n        }\n\n        var data = objectMerge({\n            message: msg + ''  // Make sure it's actually a string\n        }, options);\n\n        if (options && options.stacktrace) {\n            var ex;\n            // create a stack trace from this point; just trim\n            // off extra frames so they don't include this function call (or\n            // earlier Raven.js library fn calls)\n            try {\n                throw new Error(msg);\n            } catch (ex1) {\n                ex = ex1;\n            }\n\n            // null exception name so `Error` isn't prefixed to msg\n            ex.name = null;\n\n            options = objectMerge({\n                // fingerprint on msg, not stack trace (legacy behavior, could be\n                // revisited)\n                fingerprint: msg,\n                trimHeadFrames: (options.trimHeadFrames || 0) + 1\n            }, options);\n\n            var stack = TraceKit.computeStackTrace(ex);\n            var frames = this._prepareFrames(stack, options);\n            data.stacktrace = {\n                // Sentry expects frames oldest to newest\n                frames: frames.reverse()\n            }\n        }\n\n        // Fire away!\n        this._send(data);\n\n        return this;\n    },\n\n    captureBreadcrumb: function (obj) {\n        var crumb = objectMerge({\n            timestamp: now() / 1000\n        }, obj);\n\n        this._breadcrumbs.push(crumb);\n        if (this._breadcrumbs.length > this._globalOptions.maxBreadcrumbs) {\n            this._breadcrumbs.shift();\n        }\n        return this;\n    },\n\n    addPlugin: function(plugin /*arg1, arg2, ... argN*/) {\n        var pluginArgs = Array.prototype.slice.call(arguments, 1);\n\n        this._plugins.push([plugin, pluginArgs]);\n        if (this._isRavenInstalled) {\n            this._drainPlugins();\n        }\n\n        return this;\n    },\n\n    /*\n     * Set/clear a user to be sent along with the payload.\n     *\n     * @param {object} user An object representing user data [optional]\n     * @return {Raven}\n     */\n    setUserContext: function(user) {\n        // Intentionally do not merge here since that's an unexpected behavior.\n        this._globalContext.user = user;\n\n        return this;\n    },\n\n    /*\n     * Merge extra attributes to be sent along with the payload.\n     *\n     * @param {object} extra An object representing extra data [optional]\n     * @return {Raven}\n     */\n    setExtraContext: function(extra) {\n        this._mergeContext('extra', extra);\n\n        return this;\n    },\n\n    /*\n     * Merge tags to be sent along with the payload.\n     *\n     * @param {object} tags An object representing tags [optional]\n     * @return {Raven}\n     */\n    setTagsContext: function(tags) {\n        this._mergeContext('tags', tags);\n\n        return this;\n    },\n\n    /*\n     * Clear all of the context.\n     *\n     * @return {Raven}\n     */\n    clearContext: function() {\n        this._globalContext = {};\n\n        return this;\n    },\n\n    /*\n     * Get a copy of the current context. This cannot be mutated.\n     *\n     * @return {object} copy of context\n     */\n    getContext: function() {\n        // lol javascript\n        return JSON.parse(stringify(this._globalContext));\n    },\n\n\n    /*\n     * Set environment of application\n     *\n     * @param {string} environment Typically something like 'production'.\n     * @return {Raven}\n     */\n    setEnvironment: function(environment) {\n        this._globalOptions.environment = environment;\n\n        return this;\n    },\n\n    /*\n     * Set release version of application\n     *\n     * @param {string} release Typically something like a git SHA to identify version\n     * @return {Raven}\n     */\n    setRelease: function(release) {\n        this._globalOptions.release = release;\n\n        return this;\n    },\n\n    /*\n     * Set the dataCallback option\n     *\n     * @param {function} callback The callback to run which allows the\n     *                            data blob to be mutated before sending\n     * @return {Raven}\n     */\n    setDataCallback: function(callback) {\n        var original = this._globalOptions.dataCallback;\n        this._globalOptions.dataCallback = isFunction(callback)\n          ? function (data) { return callback(data, original); }\n          : callback;\n\n        return this;\n    },\n\n    /*\n     * Set the shouldSendCallback option\n     *\n     * @param {function} callback The callback to run which allows\n     *                            introspecting the blob before sending\n     * @return {Raven}\n     */\n    setShouldSendCallback: function(callback) {\n        var original = this._globalOptions.shouldSendCallback;\n        this._globalOptions.shouldSendCallback = isFunction(callback)\n            ? function (data) { return callback(data, original); }\n            : callback;\n\n        return this;\n    },\n\n    /**\n     * Override the default HTTP transport mechanism that transmits data\n     * to the Sentry server.\n     *\n     * @param {function} transport Function invoked instead of the default\n     *                             `makeRequest` handler.\n     *\n     * @return {Raven}\n     */\n    setTransport: function(transport) {\n        this._globalOptions.transport = transport;\n\n        return this;\n    },\n\n    /*\n     * Get the latest raw exception that was captured by Raven.\n     *\n     * @return {error}\n     */\n    lastException: function() {\n        return this._lastCapturedException;\n    },\n\n    /*\n     * Get the last event id\n     *\n     * @return {string}\n     */\n    lastEventId: function() {\n        return this._lastEventId;\n    },\n\n    /*\n     * Determine if Raven is setup and ready to go.\n     *\n     * @return {boolean}\n     */\n    isSetup: function() {\n        if (!this._hasJSON) return false;  // needs JSON support\n        if (!this._globalServer) {\n            if (!this.ravenNotConfiguredError) {\n              this.ravenNotConfiguredError = true;\n              this._logDebug('error', 'Error: Raven has not been configured.');\n            }\n            return false;\n        }\n        return true;\n    },\n\n    afterLoad: function () {\n        // TODO: remove window dependence?\n\n        // Attempt to initialize Raven on load\n        var RavenConfig = window.RavenConfig;\n        if (RavenConfig) {\n            this.config(RavenConfig.dsn, RavenConfig.config).install();\n        }\n    },\n\n    showReportDialog: function (options) {\n        if (!window.document) // doesn't work without a document (React native)\n            return;\n\n        options = options || {};\n\n        var lastEventId = options.eventId || this.lastEventId();\n        if (!lastEventId) {\n            throw new RavenConfigError('Missing eventId');\n        }\n\n        var dsn = options.dsn || this._dsn;\n        if (!dsn) {\n            throw new RavenConfigError('Missing DSN');\n        }\n\n        var encode = encodeURIComponent;\n        var qs = '';\n        qs += '?eventId=' + encode(lastEventId);\n        qs += '&dsn=' + encode(dsn);\n\n        var user = options.user || this._globalContext.user;\n        if (user) {\n            if (user.name)  qs += '&name=' + encode(user.name);\n            if (user.email) qs += '&email=' + encode(user.email);\n        }\n\n        var globalServer = this._getGlobalServer(this._parseDSN(dsn));\n\n        var script = document.createElement('script');\n        script.async = true;\n        script.src = globalServer + '/api/embed/error-page/' + qs;\n        (document.head || document.body).appendChild(script);\n    },\n\n    /**** Private functions ****/\n    _ignoreNextOnError: function () {\n        var self = this;\n        this._ignoreOnError += 1;\n        setTimeout(function () {\n            // onerror should trigger before setTimeout\n            self._ignoreOnError -= 1;\n        });\n    },\n\n    _triggerEvent: function(eventType, options) {\n        // NOTE: `event` is a native browser thing, so let's avoid conflicting wiht it\n        var evt, key;\n\n        if (!this._hasDocument)\n            return;\n\n        options = options || {};\n\n        eventType = 'raven' + eventType.substr(0,1).toUpperCase() + eventType.substr(1);\n\n        if (document.createEvent) {\n            evt = document.createEvent('HTMLEvents');\n            evt.initEvent(eventType, true, true);\n        } else {\n            evt = document.createEventObject();\n            evt.eventType = eventType;\n        }\n\n        for (key in options) if (hasKey(options, key)) {\n            evt[key] = options[key];\n        }\n\n        if (document.createEvent) {\n            // IE9 if standards\n            document.dispatchEvent(evt);\n        } else {\n            // IE8 regardless of Quirks or Standards\n            // IE9 if quirks\n            try {\n                document.fireEvent('on' + evt.eventType.toLowerCase(), evt);\n            } catch(e) {\n                // Do nothing\n            }\n        }\n    },\n\n    /**\n     * Wraps addEventListener to capture UI breadcrumbs\n     * @param evtName the event name (e.g. \"click\")\n     * @returns {Function}\n     * @private\n     */\n    _breadcrumbEventHandler: function(evtName) {\n        var self = this;\n        return function (evt) {\n            // reset keypress timeout; e.g. triggering a 'click' after\n            // a 'keypress' will reset the keypress debounce so that a new\n            // set of keypresses can be recorded\n            self._keypressTimeout = null;\n\n            // It's possible this handler might trigger multiple times for the same\n            // event (e.g. event propagation through node ancestors). Ignore if we've\n            // already captured the event.\n            if (self._lastCapturedEvent === evt)\n                return;\n\n            self._lastCapturedEvent = evt;\n            var elem = evt.target;\n\n            var target;\n\n            // try/catch htmlTreeAsString because it's particularly complicated, and\n            // just accessing the DOM incorrectly can throw an exception in some circumstances.\n            try {\n                target = htmlTreeAsString(elem);\n            } catch (e) {\n                target = '<unknown>';\n            }\n\n            self.captureBreadcrumb({\n                category: 'ui.' + evtName, // e.g. ui.click, ui.input\n                message: target\n            });\n        };\n    },\n\n    /**\n     * Wraps addEventListener to capture keypress UI events\n     * @returns {Function}\n     * @private\n     */\n    _keypressEventHandler: function() {\n        var self = this,\n            debounceDuration = 1000; // milliseconds\n\n        // TODO: if somehow user switches keypress target before\n        //       debounce timeout is triggered, we will only capture\n        //       a single breadcrumb from the FIRST target (acceptable?)\n\n        return function (evt) {\n            var target = evt.target,\n                tagName = target && target.tagName;\n\n            // only consider keypress events on actual input elements\n            // this will disregard keypresses targeting body (e.g. tabbing\n            // through elements, hotkeys, etc)\n            if (!tagName || tagName !== 'INPUT' && tagName !== 'TEXTAREA')\n                return;\n\n            // record first keypress in a series, but ignore subsequent\n            // keypresses until debounce clears\n            var timeout = self._keypressTimeout;\n            if (!timeout) {\n                self._breadcrumbEventHandler('input')(evt);\n            }\n            clearTimeout(timeout);\n            self._keypressTimeout = setTimeout(function () {\n               self._keypressTimeout = null;\n            }, debounceDuration);\n        };\n    },\n\n    /**\n     * Captures a breadcrumb of type \"navigation\", normalizing input URLs\n     * @param to the originating URL\n     * @param from the target URL\n     * @private\n     */\n    _captureUrlChange: function(from, to) {\n        var parsedLoc = parseUrl(this._location.href);\n        var parsedTo = parseUrl(to);\n        var parsedFrom = parseUrl(from);\n\n        // because onpopstate only tells you the \"new\" (to) value of location.href, and\n        // not the previous (from) value, we need to track the value of the current URL\n        // state ourselves\n        this._lastHref = to;\n\n        // Use only the path component of the URL if the URL matches the current\n        // document (almost all the time when using pushState)\n        if (parsedLoc.protocol === parsedTo.protocol && parsedLoc.host === parsedTo.host)\n            to = parsedTo.relative;\n        if (parsedLoc.protocol === parsedFrom.protocol && parsedLoc.host === parsedFrom.host)\n            from = parsedFrom.relative;\n\n        this.captureBreadcrumb({\n            category: 'navigation',\n            data: {\n                to: to,\n                from: from\n            }\n        });\n    },\n\n    /**\n     * Install any queued plugins\n     */\n    _instrumentTryCatch: function() {\n        var self = this;\n\n        var wrappedBuiltIns = self._wrappedBuiltIns;\n\n        function wrapTimeFn(orig) {\n            return function (fn, t) { // preserve arity\n                // Make a copy of the arguments to prevent deoptimization\n                // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n                var args = new Array(arguments.length);\n                for(var i = 0; i < args.length; ++i) {\n                    args[i] = arguments[i];\n                }\n                var originalCallback = args[0];\n                if (isFunction(originalCallback)) {\n                    args[0] = self.wrap(originalCallback);\n                }\n\n                // IE < 9 doesn't support .call/.apply on setInterval/setTimeout, but it\n                // also supports only two arguments and doesn't care what this is, so we\n                // can just call the original function directly.\n                if (orig.apply) {\n                    return orig.apply(this, args);\n                } else {\n                    return orig(args[0], args[1]);\n                }\n            };\n        }\n\n        var autoBreadcrumbs = this._globalOptions.autoBreadcrumbs;\n\n        function wrapEventTarget(global) {\n            var proto = window[global] && window[global].prototype;\n            if (proto && proto.hasOwnProperty && proto.hasOwnProperty('addEventListener')) {\n                fill(proto, 'addEventListener', function(orig) {\n                    return function (evtName, fn, capture, secure) { // preserve arity\n                        try {\n                            if (fn && fn.handleEvent) {\n                                fn.handleEvent = self.wrap(fn.handleEvent);\n                            }\n                        } catch (err) {\n                            // can sometimes get 'Permission denied to access property \"handle Event'\n                        }\n\n                        // More breadcrumb DOM capture ... done here and not in `_instrumentBreadcrumbs`\n                        // so that we don't have more than one wrapper function\n                        var before;\n                        if (autoBreadcrumbs && autoBreadcrumbs.dom && (global === 'EventTarget' || global === 'Node')) {\n                            if (evtName === 'click'){\n                                before = self._breadcrumbEventHandler(evtName);\n                            } else if (evtName === 'keypress') {\n                                before = self._keypressEventHandler();\n                            }\n                        }\n                        return orig.call(this, evtName, self.wrap(fn, undefined, before), capture, secure);\n                    };\n                }, wrappedBuiltIns);\n                fill(proto, 'removeEventListener', function (orig) {\n                    return function (evt, fn, capture, secure) {\n                        try {\n                            fn = fn && (fn.__raven_wrapper__ ? fn.__raven_wrapper__  : fn);\n                        } catch (e) {\n                            // ignore, accessing __raven_wrapper__ will throw in some Selenium environments\n                        }\n                        return orig.call(this, evt, fn, capture, secure);\n                    };\n                }, wrappedBuiltIns);\n            }\n        }\n\n        fill(window, 'setTimeout', wrapTimeFn, wrappedBuiltIns);\n        fill(window, 'setInterval', wrapTimeFn, wrappedBuiltIns);\n        if (window.requestAnimationFrame) {\n            fill(window, 'requestAnimationFrame', function (orig) {\n                return function (cb) {\n                    return orig(self.wrap(cb));\n                };\n            }, wrappedBuiltIns);\n        }\n\n        // event targets borrowed from bugsnag-js:\n        // https://github.com/bugsnag/bugsnag-js/blob/master/src/bugsnag.js#L666\n        var eventTargets = ['EventTarget', 'Window', 'Node', 'ApplicationCache', 'AudioTrackList', 'ChannelMergerNode', 'CryptoOperation', 'EventSource', 'FileReader', 'HTMLUnknownElement', 'IDBDatabase', 'IDBRequest', 'IDBTransaction', 'KeyOperation', 'MediaController', 'MessagePort', 'ModalWindow', 'Notification', 'SVGElementInstance', 'Screen', 'TextTrack', 'TextTrackCue', 'TextTrackList', 'WebSocket', 'WebSocketWorker', 'Worker', 'XMLHttpRequest', 'XMLHttpRequestEventTarget', 'XMLHttpRequestUpload'];\n        for (var i = 0; i < eventTargets.length; i++) {\n            wrapEventTarget(eventTargets[i]);\n        }\n\n        var $ = window.jQuery || window.$;\n        if ($ && $.fn && $.fn.ready) {\n            fill($.fn, 'ready', function (orig) {\n                return function (fn) {\n                    return orig.call(this, self.wrap(fn));\n                };\n            }, wrappedBuiltIns);\n        }\n    },\n\n\n    /**\n     * Instrument browser built-ins w/ breadcrumb capturing\n     *  - XMLHttpRequests\n     *  - DOM interactions (click/typing)\n     *  - window.location changes\n     *  - console\n     *\n     * Can be disabled or individually configured via the `autoBreadcrumbs` config option\n     */\n    _instrumentBreadcrumbs: function () {\n        var self = this;\n        var autoBreadcrumbs = this._globalOptions.autoBreadcrumbs;\n\n        var wrappedBuiltIns = self._wrappedBuiltIns;\n\n        function wrapProp(prop, xhr) {\n            if (prop in xhr && isFunction(xhr[prop])) {\n                fill(xhr, prop, function (orig) {\n                    return self.wrap(orig);\n                }); // intentionally don't track filled methods on XHR instances\n            }\n        }\n\n        if (autoBreadcrumbs.xhr && 'XMLHttpRequest' in window) {\n            var xhrproto = XMLHttpRequest.prototype;\n            fill(xhrproto, 'open', function(origOpen) {\n                return function (method, url) { // preserve arity\n\n                    // if Sentry key appears in URL, don't capture\n                    if (isString(url) && url.indexOf(self._globalKey) === -1) {\n                        this.__raven_xhr = {\n                            method: method,\n                            url: url,\n                            status_code: null\n                        };\n                    }\n\n                    return origOpen.apply(this, arguments);\n                };\n            }, wrappedBuiltIns);\n\n            fill(xhrproto, 'send', function(origSend) {\n                return function (data) { // preserve arity\n                    var xhr = this;\n\n                    function onreadystatechangeHandler() {\n                        if (xhr.__raven_xhr && (xhr.readyState === 1 || xhr.readyState === 4)) {\n                            try {\n                                // touching statusCode in some platforms throws\n                                // an exception\n                                xhr.__raven_xhr.status_code = xhr.status;\n                            } catch (e) { /* do nothing */ }\n                            self.captureBreadcrumb({\n                                type: 'http',\n                                category: 'xhr',\n                                data: xhr.__raven_xhr\n                            });\n                        }\n                    }\n\n                    var props = ['onload', 'onerror', 'onprogress'];\n                    for (var j = 0; j < props.length; j++) {\n                        wrapProp(props[j], xhr);\n                    }\n\n                    if ('onreadystatechange' in xhr && isFunction(xhr.onreadystatechange)) {\n                        fill(xhr, 'onreadystatechange', function (orig) {\n                            return self.wrap(orig, undefined, onreadystatechangeHandler);\n                        } /* intentionally don't track this instrumentation */);\n                    } else {\n                        // if onreadystatechange wasn't actually set by the page on this xhr, we\n                        // are free to set our own and capture the breadcrumb\n                        xhr.onreadystatechange = onreadystatechangeHandler;\n                    }\n\n                    return origSend.apply(this, arguments);\n                };\n            }, wrappedBuiltIns);\n        }\n\n        // Capture breadcrumbs from any click that is unhandled / bubbled up all the way\n        // to the document. Do this before we instrument addEventListener.\n        if (autoBreadcrumbs.dom && this._hasDocument) {\n            if (document.addEventListener) {\n                document.addEventListener('click', self._breadcrumbEventHandler('click'), false);\n                document.addEventListener('keypress', self._keypressEventHandler(), false);\n            }\n            else {\n                // IE8 Compatibility\n                document.attachEvent('onclick', self._breadcrumbEventHandler('click'));\n                document.attachEvent('onkeypress', self._keypressEventHandler());\n            }\n        }\n\n        // record navigation (URL) changes\n        // NOTE: in Chrome App environment, touching history.pushState, *even inside\n        //       a try/catch block*, will cause Chrome to output an error to console.error\n        // borrowed from: https://github.com/angular/angular.js/pull/13945/files\n        var chrome = window.chrome;\n        var isChromePackagedApp = chrome && chrome.app && chrome.app.runtime;\n        var hasPushState = !isChromePackagedApp && window.history && history.pushState;\n        if (autoBreadcrumbs.location && hasPushState) {\n            // TODO: remove onpopstate handler on uninstall()\n            var oldOnPopState = window.onpopstate;\n            window.onpopstate = function () {\n                var currentHref = self._location.href;\n                self._captureUrlChange(self._lastHref, currentHref);\n\n                if (oldOnPopState) {\n                    return oldOnPopState.apply(this, arguments);\n                }\n            };\n\n            fill(history, 'pushState', function (origPushState) {\n                // note history.pushState.length is 0; intentionally not declaring\n                // params to preserve 0 arity\n                return function (/* state, title, url */) {\n                    var url = arguments.length > 2 ? arguments[2] : undefined;\n\n                    // url argument is optional\n                    if (url) {\n                        // coerce to string (this is what pushState does)\n                        self._captureUrlChange(self._lastHref, url + '');\n                    }\n\n                    return origPushState.apply(this, arguments);\n                };\n            }, wrappedBuiltIns);\n        }\n\n        if (autoBreadcrumbs.console && 'console' in window && console.log) {\n            // console\n            var consoleMethodCallback = function (msg, data) {\n                self.captureBreadcrumb({\n                    message: msg,\n                    level: data.level,\n                    category: 'console'\n                });\n            };\n\n            each(['debug', 'info', 'warn', 'error', 'log'], function (_, level) {\n                wrapConsoleMethod(console, level, consoleMethodCallback);\n            });\n        }\n\n    },\n\n    _restoreBuiltIns: function () {\n        // restore any wrapped builtins\n        var builtin;\n        while (this._wrappedBuiltIns.length) {\n            builtin = this._wrappedBuiltIns.shift();\n\n            var obj = builtin[0],\n              name = builtin[1],\n              orig = builtin[2];\n\n            obj[name] = orig;\n        }\n    },\n\n    _drainPlugins: function() {\n        var self = this;\n\n        // FIX ME TODO\n        each(this._plugins, function(_, plugin) {\n            var installer = plugin[0];\n            var args = plugin[1];\n            installer.apply(self, [self].concat(args));\n        });\n    },\n\n    _parseDSN: function(str) {\n        var m = dsnPattern.exec(str),\n            dsn = {},\n            i = 7;\n\n        try {\n            while (i--) dsn[dsnKeys[i]] = m[i] || '';\n        } catch(e) {\n            throw new RavenConfigError('Invalid DSN: ' + str);\n        }\n\n        if (dsn.pass && !this._globalOptions.allowSecretKey) {\n            throw new RavenConfigError('Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key');\n        }\n\n        return dsn;\n    },\n\n    _getGlobalServer: function(uri) {\n        // assemble the endpoint from the uri pieces\n        var globalServer = '//' + uri.host +\n            (uri.port ? ':' + uri.port : '');\n\n        if (uri.protocol) {\n            globalServer = uri.protocol + ':' + globalServer;\n        }\n        return globalServer;\n    },\n\n    _handleOnErrorStackInfo: function() {\n        // if we are intentionally ignoring errors via onerror, bail out\n        if (!this._ignoreOnError) {\n            this._handleStackInfo.apply(this, arguments);\n        }\n    },\n\n    _handleStackInfo: function(stackInfo, options) {\n        var frames = this._prepareFrames(stackInfo, options);\n\n        this._triggerEvent('handle', {\n            stackInfo: stackInfo,\n            options: options\n        });\n\n        this._processException(\n            stackInfo.name,\n            stackInfo.message,\n            stackInfo.url,\n            stackInfo.lineno,\n            frames,\n            options\n        );\n    },\n\n    _prepareFrames: function(stackInfo, options) {\n        var self = this;\n        var frames = [];\n        if (stackInfo.stack && stackInfo.stack.length) {\n            each(stackInfo.stack, function(i, stack) {\n                var frame = self._normalizeFrame(stack);\n                if (frame) {\n                    frames.push(frame);\n                }\n            });\n\n            // e.g. frames captured via captureMessage throw\n            if (options && options.trimHeadFrames) {\n                for (var j = 0; j < options.trimHeadFrames && j < frames.length; j++) {\n                    frames[j].in_app = false;\n                }\n            }\n        }\n        frames = frames.slice(0, this._globalOptions.stackTraceLimit);\n        return frames;\n    },\n\n\n    _normalizeFrame: function(frame) {\n        if (!frame.url) return;\n\n        // normalize the frames data\n        var normalized = {\n            filename:   frame.url,\n            lineno:     frame.line,\n            colno:      frame.column,\n            'function': frame.func || '?'\n        };\n\n        normalized.in_app = !( // determine if an exception came from outside of our app\n            // first we check the global includePaths list.\n            !!this._globalOptions.includePaths.test && !this._globalOptions.includePaths.test(normalized.filename) ||\n            // Now we check for fun, if the function name is Raven or TraceKit\n            /(Raven|TraceKit)\\./.test(normalized['function']) ||\n            // finally, we do a last ditch effort and check for raven.min.js\n            /raven\\.(min\\.)?js$/.test(normalized.filename)\n        );\n\n        return normalized;\n    },\n\n    _processException: function(type, message, fileurl, lineno, frames, options) {\n        var stacktrace;\n        if (!!this._globalOptions.ignoreErrors.test && this._globalOptions.ignoreErrors.test(message)) return;\n\n        message += '';\n\n        if (frames && frames.length) {\n            fileurl = frames[0].filename || fileurl;\n            // Sentry expects frames oldest to newest\n            // and JS sends them as newest to oldest\n            frames.reverse();\n            stacktrace = {frames: frames};\n        } else if (fileurl) {\n            stacktrace = {\n                frames: [{\n                    filename: fileurl,\n                    lineno: lineno,\n                    in_app: true\n                }]\n            };\n        }\n\n        if (!!this._globalOptions.ignoreUrls.test && this._globalOptions.ignoreUrls.test(fileurl)) return;\n        if (!!this._globalOptions.whitelistUrls.test && !this._globalOptions.whitelistUrls.test(fileurl)) return;\n\n        var data = objectMerge({\n            // sentry.interfaces.Exception\n            exception: {\n                values: [{\n                    type: type,\n                    value: message,\n                    stacktrace: stacktrace\n                }]\n            },\n            culprit: fileurl\n        }, options);\n\n        // Fire away!\n        this._send(data);\n    },\n\n    _trimPacket: function(data) {\n        // For now, we only want to truncate the two different messages\n        // but this could/should be expanded to just trim everything\n        var max = this._globalOptions.maxMessageLength;\n        if (data.message) {\n            data.message = truncate(data.message, max);\n        }\n        if (data.exception) {\n            var exception = data.exception.values[0];\n            exception.value = truncate(exception.value, max);\n        }\n\n        return data;\n    },\n\n    _getHttpData: function() {\n        if (!this._hasDocument || !document.location || !document.location.href) {\n            return;\n        }\n\n        var httpData = {\n            headers: {\n                'User-Agent': navigator.userAgent\n            }\n        };\n\n        httpData.url = document.location.href;\n\n        if (document.referrer) {\n            httpData.headers.Referer = document.referrer;\n        }\n\n        return httpData;\n    },\n\n\n    _send: function(data) {\n        var globalOptions = this._globalOptions;\n\n        var baseData = {\n            project: this._globalProject,\n            logger: globalOptions.logger,\n            platform: 'javascript'\n        }, httpData = this._getHttpData();\n\n        if (httpData) {\n            baseData.request = httpData;\n        }\n\n        // HACK: delete `trimHeadFrames` to prevent from appearing in outbound payload\n        if (data.trimHeadFrames) delete data.trimHeadFrames;\n\n        data = objectMerge(baseData, data);\n\n        // Merge in the tags and extra separately since objectMerge doesn't handle a deep merge\n        data.tags = objectMerge(objectMerge({}, this._globalContext.tags), data.tags);\n        data.extra = objectMerge(objectMerge({}, this._globalContext.extra), data.extra);\n\n        // Send along our own collected metadata with extra\n        data.extra['session:duration'] = now() - this._startTime;\n\n        if (this._breadcrumbs && this._breadcrumbs.length > 0) {\n            // intentionally make shallow copy so that additions\n            // to breadcrumbs aren't accidentally sent in this request\n            data.breadcrumbs = {\n                values: [].slice.call(this._breadcrumbs, 0)\n            };\n        }\n\n        // If there are no tags/extra, strip the key from the payload alltogther.\n        if (isEmptyObject(data.tags)) delete data.tags;\n\n        if (this._globalContext.user) {\n            // sentry.interfaces.User\n            data.user = this._globalContext.user;\n        }\n\n        // Include the environment if it's defined in globalOptions\n        if (globalOptions.environment) data.environment = globalOptions.environment;\n\n        // Include the release if it's defined in globalOptions\n        if (globalOptions.release) data.release = globalOptions.release;\n\n        // Include server_name if it's defined in globalOptions\n        if (globalOptions.serverName) data.server_name = globalOptions.serverName;\n\n        if (isFunction(globalOptions.dataCallback)) {\n            data = globalOptions.dataCallback(data) || data;\n        }\n\n        // Why??????????\n        if (!data || isEmptyObject(data)) {\n            return;\n        }\n\n        // Check if the request should be filtered or not\n        if (isFunction(globalOptions.shouldSendCallback) && !globalOptions.shouldSendCallback(data)) {\n            return;\n        }\n\n        this._sendProcessedPayload(data);\n    },\n\n    _sendProcessedPayload: function(data, callback) {\n        var self = this;\n        var globalOptions = this._globalOptions;\n\n        // Send along an event_id if not explicitly passed.\n        // This event_id can be used to reference the error within Sentry itself.\n        // Set lastEventId after we know the error should actually be sent\n        this._lastEventId = data.event_id || (data.event_id = uuid4());\n\n        // Try and clean up the packet before sending by truncating long values\n        data = this._trimPacket(data);\n\n        this._logDebug('debug', 'Raven about to send:', data);\n\n        if (!this.isSetup()) return;\n\n        var auth = {\n            sentry_version: '7',\n            sentry_client: 'raven-js/' + this.VERSION,\n            sentry_key: this._globalKey\n        };\n        if (this._globalSecret) {\n            auth.sentry_secret = this._globalSecret;\n        }\n\n        var exception = data.exception && data.exception.values[0];\n        this.captureBreadcrumb({\n            category: 'sentry',\n            message: exception\n                ? (exception.type ? exception.type + ': ' : '') + exception.value\n                : data.message,\n            event_id: data.event_id,\n            level: data.level || 'error' // presume error unless specified\n        });\n\n        var url = this._globalEndpoint;\n        (globalOptions.transport || this._makeRequest).call(this, {\n            url: url,\n            auth: auth,\n            data: data,\n            options: globalOptions,\n            onSuccess: function success() {\n                self._triggerEvent('success', {\n                    data: data,\n                    src: url\n                });\n                callback && callback();\n            },\n            onError: function failure(error) {\n                self._triggerEvent('failure', {\n                    data: data,\n                    src: url\n                });\n                error = error || new Error('Raven send failed (no additional details provided)');\n                callback && callback(error);\n            }\n        });\n    },\n\n    _makeRequest: function(opts) {\n        var request = new XMLHttpRequest();\n\n        // if browser doesn't support CORS (e.g. IE7), we are out of luck\n        var hasCORS =\n            'withCredentials' in request ||\n            typeof XDomainRequest !== 'undefined';\n\n        if (!hasCORS) return;\n\n        var url = opts.url;\n        function handler() {\n            if (request.status === 200) {\n                if (opts.onSuccess) {\n                    opts.onSuccess();\n                }\n            } else if (opts.onError) {\n                opts.onError(new Error('Sentry error code: ' + request.status));\n            }\n        }\n\n        if ('withCredentials' in request) {\n            request.onreadystatechange = function () {\n                if (request.readyState !== 4) {\n                    return;\n                }\n                handler();\n            };\n        } else {\n            request = new XDomainRequest();\n            // xdomainrequest cannot go http -> https (or vice versa),\n            // so always use protocol relative\n            url = url.replace(/^https?:/, '');\n\n            // onreadystatechange not supported by XDomainRequest\n            request.onload = handler;\n        }\n\n        // NOTE: auth is intentionally sent as part of query string (NOT as custom\n        //       HTTP header) so as to avoid preflight CORS requests\n        request.open('POST', url + '?' + urlencode(opts.auth));\n        request.send(stringify(opts.data));\n    },\n\n    _logDebug: function(level) {\n        if (this._originalConsoleMethods[level] && this.debug) {\n            // In IE<10 console methods do not have their own 'apply' method\n            Function.prototype.apply.call(\n                this._originalConsoleMethods[level],\n                this._originalConsole,\n                [].slice.call(arguments, 1)\n            );\n        }\n    },\n\n    _mergeContext: function(key, context) {\n        if (isUndefined(context)) {\n            delete this._globalContext[key];\n        } else {\n            this._globalContext[key] = objectMerge(this._globalContext[key] || {}, context);\n        }\n    }\n};\n\n// Deprecations\nRaven.prototype.setUser = Raven.prototype.setUserContext;\nRaven.prototype.setReleaseContext = Raven.prototype.setRelease;\n\nmodule.exports = Raven;\n\n},{\"1\":1,\"2\":2,\"3\":3,\"6\":6,\"7\":7}],5:[function(_dereq_,module,exports){\n/**\n * Enforces a single instance of the Raven client, and the\n * main entry point for Raven. If you are a consumer of the\n * Raven library, you SHOULD load this file (vs raven.js).\n **/\n\n'use strict';\n\nvar RavenConstructor = _dereq_(4);\n\nvar _Raven = window.Raven;\n\nvar Raven = new RavenConstructor();\n\n/*\n * Allow multiple versions of Raven to be installed.\n * Strip Raven from the global context and returns the instance.\n *\n * @return {Raven}\n */\nRaven.noConflict = function () {\n\twindow.Raven = _Raven;\n\treturn Raven;\n};\n\nRaven.afterLoad();\n\nmodule.exports = Raven;\n\n},{\"4\":4}],6:[function(_dereq_,module,exports){\n/*eslint no-extra-parens:0*/\n'use strict';\n\nvar objectPrototype = Object.prototype;\n\nfunction isUndefined(what) {\n    return what === void 0;\n}\n\nfunction isFunction(what) {\n    return typeof what === 'function';\n}\n\nfunction isString(what) {\n    return objectPrototype.toString.call(what) === '[object String]';\n}\n\nfunction isObject(what) {\n    return typeof what === 'object' && what !== null;\n}\n\nfunction isEmptyObject(what) {\n    for (var _ in what) return false;  // eslint-disable-line guard-for-in, no-unused-vars\n    return true;\n}\n\n// Sorta yanked from https://github.com/joyent/node/blob/aa3b4b4/lib/util.js#L560\n// with some tiny modifications\nfunction isError(what) {\n    var toString = objectPrototype.toString.call(what);\n    return isObject(what) &&\n        toString === '[object Error]' ||\n        toString === '[object Exception]' || // Firefox NS_ERROR_FAILURE Exceptions\n        what instanceof Error;\n}\n\nfunction each(obj, callback) {\n    var i, j;\n\n    if (isUndefined(obj.length)) {\n        for (i in obj) {\n            if (hasKey(obj, i)) {\n                callback.call(null, i, obj[i]);\n            }\n        }\n    } else {\n        j = obj.length;\n        if (j) {\n            for (i = 0; i < j; i++) {\n                callback.call(null, i, obj[i]);\n            }\n        }\n    }\n}\n\nfunction objectMerge(obj1, obj2) {\n    if (!obj2) {\n        return obj1;\n    }\n    each(obj2, function(key, value){\n        obj1[key] = value;\n    });\n    return obj1;\n}\n\nfunction truncate(str, max) {\n    return !max || str.length <= max ? str : str.substr(0, max) + '\\u2026';\n}\n\n/**\n * hasKey, a better form of hasOwnProperty\n * Example: hasKey(MainHostObject, property) === true/false\n *\n * @param {Object} host object to check property\n * @param {string} key to check\n */\nfunction hasKey(object, key) {\n    return objectPrototype.hasOwnProperty.call(object, key);\n}\n\nfunction joinRegExp(patterns) {\n    // Combine an array of regular expressions and strings into one large regexp\n    // Be mad.\n    var sources = [],\n        i = 0, len = patterns.length,\n        pattern;\n\n    for (; i < len; i++) {\n        pattern = patterns[i];\n        if (isString(pattern)) {\n            // If it's a string, we need to escape it\n            // Taken from: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions\n            sources.push(pattern.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, '\\\\$1'));\n        } else if (pattern && pattern.source) {\n            // If it's a regexp already, we want to extract the source\n            sources.push(pattern.source);\n        }\n        // Intentionally skip other cases\n    }\n    return new RegExp(sources.join('|'), 'i');\n}\n\nfunction urlencode(o) {\n    var pairs = [];\n    each(o, function(key, value) {\n        pairs.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n    });\n    return pairs.join('&');\n}\n\n// borrowed from https://tools.ietf.org/html/rfc3986#appendix-B\n// intentionally using regex and not <a/> href parsing trick because React Native and other\n// environments where DOM might not be available\nfunction parseUrl(url) {\n    var match = url.match(/^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$/);\n    if (!match) return {};\n\n    // coerce to undefined values to empty string so we don't get 'undefined'\n    var query = match[6] || '';\n    var fragment = match[8] || '';\n    return {\n        protocol: match[2],\n        host: match[4],\n        path: match[5],\n        relative: match[5] + query + fragment // everything minus origin\n    };\n}\nfunction uuid4() {\n    var crypto = window.crypto || window.msCrypto;\n\n    if (!isUndefined(crypto) && crypto.getRandomValues) {\n        // Use window.crypto API if available\n        var arr = new Uint16Array(8);\n        crypto.getRandomValues(arr);\n\n        // set 4 in byte 7\n        arr[3] = arr[3] & 0xFFF | 0x4000;\n        // set 2 most significant bits of byte 9 to '10'\n        arr[4] = arr[4] & 0x3FFF | 0x8000;\n\n        var pad = function(num) {\n            var v = num.toString(16);\n            while (v.length < 4) {\n                v = '0' + v;\n            }\n            return v;\n        };\n\n        return pad(arr[0]) + pad(arr[1]) + pad(arr[2]) + pad(arr[3]) + pad(arr[4]) +\n        pad(arr[5]) + pad(arr[6]) + pad(arr[7]);\n    } else {\n        // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n        return 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n            var r = Math.random()*16|0,\n                v = c === 'x' ? r : r&0x3|0x8;\n            return v.toString(16);\n        });\n    }\n}\n\n/**\n * Given a child DOM element, returns a query-selector statement describing that\n * and its ancestors\n * e.g. [HTMLElement] => body > div > input#foo.btn[name=baz]\n * @param elem\n * @returns {string}\n */\nfunction htmlTreeAsString(elem) {\n    var MAX_TRAVERSE_HEIGHT = 5,\n        MAX_OUTPUT_LEN = 80,\n        out = [],\n        height = 0,\n        len = 0,\n        separator = ' > ',\n        sepLength = separator.length,\n        nextStr;\n\n    while (elem && height++ < MAX_TRAVERSE_HEIGHT) {\n\n        nextStr = htmlElementAsString(elem);\n        // bail out if\n        // - nextStr is the 'html' element\n        // - the length of the string that would be created exceeds MAX_OUTPUT_LEN\n        //   (ignore this limit if we are on the first iteration)\n        if (nextStr === 'html' || height > 1 && len + (out.length * sepLength) + nextStr.length >= MAX_OUTPUT_LEN) {\n            break;\n        }\n\n        out.push(nextStr);\n\n        len += nextStr.length;\n        elem = elem.parentNode;\n    }\n\n    return out.reverse().join(separator);\n}\n\n/**\n * Returns a simple, query-selector representation of a DOM element\n * e.g. [HTMLElement] => input#foo.btn[name=baz]\n * @param HTMLElement\n * @returns {string}\n */\nfunction htmlElementAsString(elem) {\n    var out = [],\n        className,\n        classes,\n        key,\n        attr,\n        i;\n\n    if (!elem || !elem.tagName) {\n        return '';\n    }\n\n    out.push(elem.tagName.toLowerCase());\n    if (elem.id) {\n        out.push('#' + elem.id);\n    }\n\n    className = elem.className;\n    if (className && isString(className)) {\n        classes = className.split(' ');\n        for (i = 0; i < classes.length; i++) {\n            out.push('.' + classes[i]);\n        }\n    }\n    var attrWhitelist = ['type', 'name', 'title', 'alt'];\n    for (i = 0; i < attrWhitelist.length; i++) {\n        key = attrWhitelist[i];\n        attr = elem.getAttribute(key);\n        if (attr) {\n            out.push('[' + key + '=\"' + attr + '\"]');\n        }\n    }\n    return out.join('');\n}\n\n/**\n * Polyfill a method\n * @param obj object e.g. `document`\n * @param name method name present on object e.g. `addEventListener`\n * @param replacement replacement function\n * @param track {optional} record instrumentation to an array\n */\nfunction fill(obj, name, replacement, track) {\n    var orig = obj[name];\n    obj[name] = replacement(orig);\n    if (track) {\n        track.push([obj, name, orig]);\n    }\n}\n\nmodule.exports = {\n    isUndefined: isUndefined,\n    isFunction: isFunction,\n    isString: isString,\n    isObject: isObject,\n    isEmptyObject: isEmptyObject,\n    isError: isError,\n    each: each,\n    objectMerge: objectMerge,\n    truncate: truncate,\n    hasKey: hasKey,\n    joinRegExp: joinRegExp,\n    urlencode: urlencode,\n    uuid4: uuid4,\n    htmlTreeAsString: htmlTreeAsString,\n    htmlElementAsString: htmlElementAsString,\n    parseUrl: parseUrl,\n    fill: fill\n};\n\n},{}],7:[function(_dereq_,module,exports){\n'use strict';\n\nvar utils = _dereq_(6);\n\nvar hasKey = utils.hasKey;\nvar isString = utils.isString;\nvar isUndefined = utils.isUndefined;\n\n/*\n TraceKit - Cross brower stack traces - github.com/occ/TraceKit\n MIT license\n*/\n\nvar TraceKit = {\n    collectWindowErrors: true,\n    debug: false\n};\n\n// global reference to slice\nvar _slice = [].slice;\nvar UNKNOWN_FUNCTION = '?';\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#Error_types\nvar ERROR_TYPES_RE = /^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;\n\nfunction getLocationHref() {\n    if (typeof document === 'undefined')\n        return '';\n\n    return document.location.href;\n}\n\n/**\n * TraceKit.report: cross-browser processing of unhandled exceptions\n *\n * Syntax:\n *   TraceKit.report.subscribe(function(stackInfo) { ... })\n *   TraceKit.report.unsubscribe(function(stackInfo) { ... })\n *   TraceKit.report(exception)\n *   try { ...code... } catch(ex) { TraceKit.report(ex); }\n *\n * Supports:\n *   - Firefox: full stack trace with line numbers, plus column number\n *              on top frame; column number is not guaranteed\n *   - Opera:   full stack trace with line and column numbers\n *   - Chrome:  full stack trace with line and column numbers\n *   - Safari:  line and column number for the top frame only; some frames\n *              may be missing, and column number is not guaranteed\n *   - IE:      line and column number for the top frame only; some frames\n *              may be missing, and column number is not guaranteed\n *\n * In theory, TraceKit should work on all of the following versions:\n *   - IE5.5+ (only 8.0 tested)\n *   - Firefox 0.9+ (only 3.5+ tested)\n *   - Opera 7+ (only 10.50 tested; versions 9 and earlier may require\n *     Exceptions Have Stacktrace to be enabled in opera:config)\n *   - Safari 3+ (only 4+ tested)\n *   - Chrome 1+ (only 5+ tested)\n *   - Konqueror 3.5+ (untested)\n *\n * Requires TraceKit.computeStackTrace.\n *\n * Tries to catch all unhandled exceptions and report them to the\n * subscribed handlers. Please note that TraceKit.report will rethrow the\n * exception. This is REQUIRED in order to get a useful stack trace in IE.\n * If the exception does not reach the top of the browser, you will only\n * get a stack trace from the point where TraceKit.report was called.\n *\n * Handlers receive a stackInfo object as described in the\n * TraceKit.computeStackTrace docs.\n */\nTraceKit.report = (function reportModuleWrapper() {\n    var handlers = [],\n        lastArgs = null,\n        lastException = null,\n        lastExceptionStack = null;\n\n    /**\n     * Add a crash handler.\n     * @param {Function} handler\n     */\n    function subscribe(handler) {\n        installGlobalHandler();\n        handlers.push(handler);\n    }\n\n    /**\n     * Remove a crash handler.\n     * @param {Function} handler\n     */\n    function unsubscribe(handler) {\n        for (var i = handlers.length - 1; i >= 0; --i) {\n            if (handlers[i] === handler) {\n                handlers.splice(i, 1);\n            }\n        }\n    }\n\n    /**\n     * Remove all crash handlers.\n     */\n    function unsubscribeAll() {\n        uninstallGlobalHandler();\n        handlers = [];\n    }\n\n    /**\n     * Dispatch stack information to all handlers.\n     * @param {Object.<string, *>} stack\n     */\n    function notifyHandlers(stack, isWindowError) {\n        var exception = null;\n        if (isWindowError && !TraceKit.collectWindowErrors) {\n          return;\n        }\n        for (var i in handlers) {\n            if (hasKey(handlers, i)) {\n                try {\n                    handlers[i].apply(null, [stack].concat(_slice.call(arguments, 2)));\n                } catch (inner) {\n                    exception = inner;\n                }\n            }\n        }\n\n        if (exception) {\n            throw exception;\n        }\n    }\n\n    var _oldOnerrorHandler, _onErrorHandlerInstalled;\n\n    /**\n     * Ensures all global unhandled exceptions are recorded.\n     * Supported by Gecko and IE.\n     * @param {string} message Error message.\n     * @param {string} url URL of script that generated the exception.\n     * @param {(number|string)} lineNo The line number at which the error\n     * occurred.\n     * @param {?(number|string)} colNo The column number at which the error\n     * occurred.\n     * @param {?Error} ex The actual Error object.\n     */\n    function traceKitWindowOnError(message, url, lineNo, colNo, ex) {\n        var stack = null;\n\n        if (lastExceptionStack) {\n            TraceKit.computeStackTrace.augmentStackTraceWithInitialElement(lastExceptionStack, url, lineNo, message);\n            processLastException();\n        } else if (ex) {\n            // New chrome and blink send along a real error object\n            // Let's just report that like a normal error.\n            // See: https://mikewest.org/2013/08/debugging-runtime-errors-with-window-onerror\n            stack = TraceKit.computeStackTrace(ex);\n            notifyHandlers(stack, true);\n        } else {\n            var location = {\n                'url': url,\n                'line': lineNo,\n                'column': colNo\n            };\n\n            var name = undefined;\n            var msg = message; // must be new var or will modify original `arguments`\n            var groups;\n            if (isString(message)) {\n                var groups = message.match(ERROR_TYPES_RE);\n                if (groups) {\n                    name = groups[1];\n                    msg = groups[2];\n                }\n            }\n\n            location.func = UNKNOWN_FUNCTION;\n\n            stack = {\n                'name': name,\n                'message': msg,\n                'url': getLocationHref(),\n                'stack': [location]\n            };\n            notifyHandlers(stack, true);\n        }\n\n        if (_oldOnerrorHandler) {\n            return _oldOnerrorHandler.apply(this, arguments);\n        }\n\n        return false;\n    }\n\n    function installGlobalHandler ()\n    {\n        if (_onErrorHandlerInstalled) {\n            return;\n        }\n        _oldOnerrorHandler = window.onerror;\n        window.onerror = traceKitWindowOnError;\n        _onErrorHandlerInstalled = true;\n    }\n\n    function uninstallGlobalHandler ()\n    {\n        if (!_onErrorHandlerInstalled) {\n            return;\n        }\n        window.onerror = _oldOnerrorHandler;\n        _onErrorHandlerInstalled = false;\n        _oldOnerrorHandler = undefined;\n    }\n\n    function processLastException() {\n        var _lastExceptionStack = lastExceptionStack,\n            _lastArgs = lastArgs;\n        lastArgs = null;\n        lastExceptionStack = null;\n        lastException = null;\n        notifyHandlers.apply(null, [_lastExceptionStack, false].concat(_lastArgs));\n    }\n\n    /**\n     * Reports an unhandled Error to TraceKit.\n     * @param {Error} ex\n     * @param {?boolean} rethrow If false, do not re-throw the exception.\n     * Only used for window.onerror to not cause an infinite loop of\n     * rethrowing.\n     */\n    function report(ex, rethrow) {\n        var args = _slice.call(arguments, 1);\n        if (lastExceptionStack) {\n            if (lastException === ex) {\n                return; // already caught by an inner catch block, ignore\n            } else {\n              processLastException();\n            }\n        }\n\n        var stack = TraceKit.computeStackTrace(ex);\n        lastExceptionStack = stack;\n        lastException = ex;\n        lastArgs = args;\n\n        // If the stack trace is incomplete, wait for 2 seconds for\n        // slow slow IE to see if onerror occurs or not before reporting\n        // this exception; otherwise, we will end up with an incomplete\n        // stack trace\n        window.setTimeout(function () {\n            if (lastException === ex) {\n                processLastException();\n            }\n        }, (stack.incomplete ? 2000 : 0));\n\n        if (rethrow !== false) {\n            throw ex; // re-throw to propagate to the top level (and cause window.onerror)\n        }\n    }\n\n    report.subscribe = subscribe;\n    report.unsubscribe = unsubscribe;\n    report.uninstall = unsubscribeAll;\n    return report;\n}());\n\n/**\n * TraceKit.computeStackTrace: cross-browser stack traces in JavaScript\n *\n * Syntax:\n *   s = TraceKit.computeStackTrace(exception) // consider using TraceKit.report instead (see below)\n * Returns:\n *   s.name              - exception name\n *   s.message           - exception message\n *   s.stack[i].url      - JavaScript or HTML file URL\n *   s.stack[i].func     - function name, or empty for anonymous functions (if guessing did not work)\n *   s.stack[i].args     - arguments passed to the function, if known\n *   s.stack[i].line     - line number, if known\n *   s.stack[i].column   - column number, if known\n *\n * Supports:\n *   - Firefox:  full stack trace with line numbers and unreliable column\n *               number on top frame\n *   - Opera 10: full stack trace with line and column numbers\n *   - Opera 9-: full stack trace with line numbers\n *   - Chrome:   full stack trace with line and column numbers\n *   - Safari:   line and column number for the topmost stacktrace element\n *               only\n *   - IE:       no line numbers whatsoever\n *\n * Tries to guess names of anonymous functions by looking for assignments\n * in the source code. In IE and Safari, we have to guess source file names\n * by searching for function bodies inside all page scripts. This will not\n * work for scripts that are loaded cross-domain.\n * Here be dragons: some function names may be guessed incorrectly, and\n * duplicate functions may be mismatched.\n *\n * TraceKit.computeStackTrace should only be used for tracing purposes.\n * Logging of unhandled exceptions should be done with TraceKit.report,\n * which builds on top of TraceKit.computeStackTrace and provides better\n * IE support by utilizing the window.onerror event to retrieve information\n * about the top of the stack.\n *\n * Note: In IE and Safari, no stack trace is recorded on the Error object,\n * so computeStackTrace instead walks its *own* chain of callers.\n * This means that:\n *  * in Safari, some methods may be missing from the stack trace;\n *  * in IE, the topmost function in the stack trace will always be the\n *    caller of computeStackTrace.\n *\n * This is okay for tracing (because you are likely to be calling\n * computeStackTrace from the function you want to be the topmost element\n * of the stack trace anyway), but not okay for logging unhandled\n * exceptions (because your catch block will likely be far away from the\n * inner function that actually caused the exception).\n *\n */\nTraceKit.computeStackTrace = (function computeStackTraceWrapper() {\n    /**\n     * Escapes special characters, except for whitespace, in a string to be\n     * used inside a regular expression as a string literal.\n     * @param {string} text The string.\n     * @return {string} The escaped string literal.\n     */\n    function escapeRegExp(text) {\n        return text.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#]/g, '\\\\$&');\n    }\n\n    /**\n     * Escapes special characters in a string to be used inside a regular\n     * expression as a string literal. Also ensures that HTML entities will\n     * be matched the same as their literal friends.\n     * @param {string} body The string.\n     * @return {string} The escaped string.\n     */\n    function escapeCodeAsRegExpForMatchingInsideHTML(body) {\n        return escapeRegExp(body).replace('<', '(?:<|&lt;)').replace('>', '(?:>|&gt;)').replace('&', '(?:&|&amp;)').replace('\"', '(?:\"|&quot;)').replace(/\\s+/g, '\\\\s+');\n    }\n\n    // Contents of Exception in various browsers.\n    //\n    // SAFARI:\n    // ex.message = Can't find variable: qq\n    // ex.line = 59\n    // ex.sourceId = 580238192\n    // ex.sourceURL = http://...\n    // ex.expressionBeginOffset = 96\n    // ex.expressionCaretOffset = 98\n    // ex.expressionEndOffset = 98\n    // ex.name = ReferenceError\n    //\n    // FIREFOX:\n    // ex.message = qq is not defined\n    // ex.fileName = http://...\n    // ex.lineNumber = 59\n    // ex.columnNumber = 69\n    // ex.stack = ...stack trace... (see the example below)\n    // ex.name = ReferenceError\n    //\n    // CHROME:\n    // ex.message = qq is not defined\n    // ex.name = ReferenceError\n    // ex.type = not_defined\n    // ex.arguments = ['aa']\n    // ex.stack = ...stack trace...\n    //\n    // INTERNET EXPLORER:\n    // ex.message = ...\n    // ex.name = ReferenceError\n    //\n    // OPERA:\n    // ex.message = ...message... (see the example below)\n    // ex.name = ReferenceError\n    // ex.opera#sourceloc = 11  (pretty much useless, duplicates the info in ex.message)\n    // ex.stacktrace = n/a; see 'opera:config#UserPrefs|Exceptions Have Stacktrace'\n\n    /**\n     * Computes stack trace information from the stack property.\n     * Chrome and Gecko use this property.\n     * @param {Error} ex\n     * @return {?Object.<string, *>} Stack trace information.\n     */\n    function computeStackTraceFromStackProp(ex) {\n        if (isUndefined(ex.stack) || !ex.stack) return;\n\n        var chrome = /^\\s*at (.*?) ?\\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,\n            gecko = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)((?:file|https?|blob|chrome|\\[native).*?)(?::(\\d+))?(?::(\\d+))?\\s*$/i,\n            winjs = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:file|ms-appx|https?|blob):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i,\n            lines = ex.stack.split('\\n'),\n            stack = [],\n            parts,\n            element,\n            reference = /^(.*) is undefined$/.exec(ex.message);\n\n        for (var i = 0, j = lines.length; i < j; ++i) {\n            if ((parts = chrome.exec(lines[i]))) {\n                var isNative = parts[2] && parts[2].indexOf('native') !== -1;\n                element = {\n                    'url': !isNative ? parts[2] : null,\n                    'func': parts[1] || UNKNOWN_FUNCTION,\n                    'args': isNative ? [parts[2]] : [],\n                    'line': parts[3] ? +parts[3] : null,\n                    'column': parts[4] ? +parts[4] : null\n                };\n            } else if ( parts = winjs.exec(lines[i]) ) {\n                element = {\n                    'url': parts[2],\n                    'func': parts[1] || UNKNOWN_FUNCTION,\n                    'args': [],\n                    'line': +parts[3],\n                    'column': parts[4] ? +parts[4] : null\n                };\n            } else if ((parts = gecko.exec(lines[i]))) {\n                element = {\n                    'url': parts[3],\n                    'func': parts[1] || UNKNOWN_FUNCTION,\n                    'args': parts[2] ? parts[2].split(',') : [],\n                    'line': parts[4] ? +parts[4] : null,\n                    'column': parts[5] ? +parts[5] : null\n                };\n            } else {\n                continue;\n            }\n\n            if (!element.func && element.line) {\n                element.func = UNKNOWN_FUNCTION;\n            }\n\n            stack.push(element);\n        }\n\n        if (!stack.length) {\n            return null;\n        }\n\n        if (!stack[0].column && !isUndefined(ex.columnNumber)) {\n            // FireFox uses this awesome columnNumber property for its top frame\n            // Also note, Firefox's column number is 0-based and everything else expects 1-based,\n            // so adding 1\n            stack[0].column = ex.columnNumber + 1;\n        }\n\n        return {\n            'name': ex.name,\n            'message': ex.message,\n            'url': getLocationHref(),\n            'stack': stack\n        };\n    }\n\n    /**\n     * Adds information about the first frame to incomplete stack traces.\n     * Safari and IE require this to get complete data on the first frame.\n     * @param {Object.<string, *>} stackInfo Stack trace information from\n     * one of the compute* methods.\n     * @param {string} url The URL of the script that caused an error.\n     * @param {(number|string)} lineNo The line number of the script that\n     * caused an error.\n     * @param {string=} message The error generated by the browser, which\n     * hopefully contains the name of the object that caused the error.\n     * @return {boolean} Whether or not the stack information was\n     * augmented.\n     */\n    function augmentStackTraceWithInitialElement(stackInfo, url, lineNo, message) {\n        var initial = {\n            'url': url,\n            'line': lineNo\n        };\n\n        if (initial.url && initial.line) {\n            stackInfo.incomplete = false;\n\n            if (!initial.func) {\n                initial.func = UNKNOWN_FUNCTION;\n            }\n\n            if (stackInfo.stack.length > 0) {\n                if (stackInfo.stack[0].url === initial.url) {\n                    if (stackInfo.stack[0].line === initial.line) {\n                        return false; // already in stack trace\n                    } else if (!stackInfo.stack[0].line && stackInfo.stack[0].func === initial.func) {\n                        stackInfo.stack[0].line = initial.line;\n                        return false;\n                    }\n                }\n            }\n\n            stackInfo.stack.unshift(initial);\n            stackInfo.partial = true;\n            return true;\n        } else {\n            stackInfo.incomplete = true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Computes stack trace information by walking the arguments.caller\n     * chain at the time the exception occurred. This will cause earlier\n     * frames to be missed but is the only way to get any stack trace in\n     * Safari and IE. The top frame is restored by\n     * {@link augmentStackTraceWithInitialElement}.\n     * @param {Error} ex\n     * @return {?Object.<string, *>} Stack trace information.\n     */\n    function computeStackTraceByWalkingCallerChain(ex, depth) {\n        var functionName = /function\\s+([_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*)?\\s*\\(/i,\n            stack = [],\n            funcs = {},\n            recursion = false,\n            parts,\n            item,\n            source;\n\n        for (var curr = computeStackTraceByWalkingCallerChain.caller; curr && !recursion; curr = curr.caller) {\n            if (curr === computeStackTrace || curr === TraceKit.report) {\n                // console.log('skipping internal function');\n                continue;\n            }\n\n            item = {\n                'url': null,\n                'func': UNKNOWN_FUNCTION,\n                'line': null,\n                'column': null\n            };\n\n            if (curr.name) {\n                item.func = curr.name;\n            } else if ((parts = functionName.exec(curr.toString()))) {\n                item.func = parts[1];\n            }\n\n            if (typeof item.func === 'undefined') {\n              try {\n                item.func = parts.input.substring(0, parts.input.indexOf('{'));\n              } catch (e) { }\n            }\n\n            if (funcs['' + curr]) {\n                recursion = true;\n            }else{\n                funcs['' + curr] = true;\n            }\n\n            stack.push(item);\n        }\n\n        if (depth) {\n            // console.log('depth is ' + depth);\n            // console.log('stack is ' + stack.length);\n            stack.splice(0, depth);\n        }\n\n        var result = {\n            'name': ex.name,\n            'message': ex.message,\n            'url': getLocationHref(),\n            'stack': stack\n        };\n        augmentStackTraceWithInitialElement(result, ex.sourceURL || ex.fileName, ex.line || ex.lineNumber, ex.message || ex.description);\n        return result;\n    }\n\n    /**\n     * Computes a stack trace for an exception.\n     * @param {Error} ex\n     * @param {(string|number)=} depth\n     */\n    function computeStackTrace(ex, depth) {\n        var stack = null;\n        depth = (depth == null ? 0 : +depth);\n\n        try {\n            stack = computeStackTraceFromStackProp(ex);\n            if (stack) {\n                return stack;\n            }\n        } catch (e) {\n            if (TraceKit.debug) {\n                throw e;\n            }\n        }\n\n        try {\n            stack = computeStackTraceByWalkingCallerChain(ex, depth + 1);\n            if (stack) {\n                return stack;\n            }\n        } catch (e) {\n            if (TraceKit.debug) {\n                throw e;\n            }\n        }\n\n        return {\n            'name': ex.name,\n            'message': ex.message,\n            'url': getLocationHref()\n        };\n    }\n\n    computeStackTrace.augmentStackTraceWithInitialElement = augmentStackTraceWithInitialElement;\n    computeStackTrace.computeStackTraceFromStackProp = computeStackTraceFromStackProp;\n\n    return computeStackTrace;\n}());\n\nmodule.exports = TraceKit;\n\n},{\"6\":6}]},{},[5])(5)\n});","if (window.sentry_dsn) {\n    Raven.config(window.sentry_dsn, {\n        whitelistUrls: [/([a-z]{1,9})*?\\.?(imgur(-dev)?.com)/],\n        shouldSendCallback: function(data) {\n            //Only send 10% of errors\n            return (Math.random() * 100 <= 10);\n        },\n    }).install();\n}","/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */\njQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn(\"JQMIGRATE: \"+n),e.migrateTrace&&r.trace&&r.trace()))}function a(t,a,i,o){if(Object.defineProperty)try{return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}}),n}catch(s){}e._definePropertyBroken=!0,t[a]=i}var i={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log(\"JQMIGRATE: Logging is active\"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},\"BackCompat\"===document.compatMode&&r(\"jQuery is not compatible with Quirks Mode\");var o=e(\"<input/>\",{size:1}).attr(\"size\")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;a(e,\"attrFn\",o||{},\"jQuery.attrFn is deprecated\"),e.attr=function(t,a,i,u){var c=a.toLowerCase(),g=t&&t.nodeType;return u&&(4>s.length&&r(\"jQuery.fn.attr( props, pass ) is deprecated\"),t&&!d.test(g)&&(o?a in o:e.isFunction(e.fn[a])))?e(t)[a](i):(\"type\"===a&&i!==n&&l.test(t.nodeName)&&t.parentNode&&r(\"Can't change the 'type' of an input or button in IE 6/7/8\"),!e.attrHooks[c]&&p.test(c)&&(e.attrHooks[c]={get:function(t,r){var a,i=e.prop(t,r);return i===!0||\"boolean\"!=typeof i&&(a=t.getAttributeNode(r))&&a.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var a;return n===!1?e.removeAttr(t,r):(a=e.propFix[r]||r,a in t&&(t[a]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(c)&&r(\"jQuery.fn.attr('\"+c+\"') may use property instead of attribute\")),s.call(e,t,a,i))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||\"\").toLowerCase();return\"button\"===n?u.apply(this,arguments):(\"input\"!==n&&\"option\"!==n&&r(\"jQuery.fn.attr('value') no longer gets properties\"),t in e?e.value:null)},set:function(e,t){var a=(e.nodeName||\"\").toLowerCase();return\"button\"===a?c.apply(this,arguments):(\"input\"!==a&&\"option\"!==a&&r(\"jQuery.fn.attr('value', val) no longer sets properties\"),e.value=t,n)}};var g,h,v=e.fn.init,m=e.parseJSON,y=/^([^<]*)(<[\\w\\W]+>)([^>]*)$/;e.fn.init=function(t,n,a){var i;return t&&\"string\"==typeof t&&!e.isPlainObject(n)&&(i=y.exec(e.trim(t)))&&i[0]&&(\"<\"!==t.charAt(0)&&r(\"$(html) HTML strings must start with '<' character\"),i[3]&&r(\"$(html) HTML text after last tag is ignored\"),\"#\"===i[0].charAt(0)&&(r(\"HTML string cannot start with a '#' character\"),e.error(\"JQMIGRATE: Invalid selector string (XSS)\")),n&&n.context&&(n=n.context),e.parseHTML)?v.call(this,e.parseHTML(i[2],n,!0),n,a):v.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(r(\"jQuery.parseJSON requires a valid JSON string\"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \\/]([\\w.]+)/.exec(e)||/(webkit)[ \\/]([\\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(e)||/(msie) ([\\w.]+)/.exec(e)||0>e.indexOf(\"compatible\")&&/(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(e)||[];return{browser:t[1]||\"\",version:t[2]||\"0\"}},e.browser||(g=e.uaMatch(navigator.userAgent),h={},g.browser&&(h[g.browser]=!0,h.version=g.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),a(e,\"browser\",e.browser,\"jQuery.browser is deprecated\"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,a){return a&&a instanceof e&&!(a instanceof t)&&(a=t(a)),e.fn.init.call(this,r,a,n)},t.fn.init.prototype=t.fn;var n=t(document);return r(\"jQuery.sub() is deprecated\"),t},e.ajaxSetup({converters:{\"text json\":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var a,i,o=this[0];return!o||\"events\"!==t||1!==arguments.length||(a=e.data(o,t),i=e._data(o,t),a!==n&&a!==i||i===n)?b.apply(this,arguments):(r(\"Use of jQuery.fn.data('events') is deprecated\"),i)};var j=/\\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r(\"jQuery.fn.andSelf() replaced by jQuery.fn.addBack()\"),w.apply(this,arguments)},e.clean||(e.clean=function(t,a,i,o){a=a||document,a=!a.nodeType&&a[0]||a,a=a.ownerDocument||a,r(\"jQuery.clean() is deprecated\");var s,u,c,l,d=[];if(e.merge(d,e.buildFragment(t,a).childNodes),i)for(c=function(e){return!e.type||j.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):n},s=0;null!=(u=d[s]);s++)e.nodeName(u,\"script\")&&c(u)||(i.appendChild(u),u.getElementsByTagName!==n&&(l=e.grep(e.merge([],u.getElementsByTagName(\"script\")),c),d.splice.apply(d,[s+1,0].concat(l)),s+=l.length));return d});var Q=e.event.add,x=e.event.remove,k=e.event.trigger,N=e.fn.toggle,T=e.fn.live,M=e.fn.die,S=\"ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess\",C=RegExp(\"\\\\b(?:\"+S+\")\\\\b\"),H=/(?:^|\\s)hover(\\.\\S+|)\\b/,A=function(t){return\"string\"!=typeof t||e.event.special.hover?t:(H.test(t)&&r(\"'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'\"),t&&t.replace(H,\"mouseenter$1 mouseleave$1\"))};e.event.props&&\"attrChange\"!==e.event.props[0]&&e.event.props.unshift(\"attrChange\",\"attrName\",\"relatedNode\",\"srcElement\"),e.event.dispatch&&a(e.event,\"handle\",e.event.dispatch,\"jQuery.event.handle is undocumented and deprecated\"),e.event.add=function(e,t,n,a,i){e!==document&&C.test(t)&&r(\"AJAX events should be attached to document: \"+t),Q.call(this,e,A(t||\"\"),n,a,i)},e.event.remove=function(e,t,n,r,a){x.call(this,e,A(t)||\"\",n,r,a)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r(\"jQuery.fn.error() is deprecated\"),e.splice(0,0,\"error\"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r(\"jQuery.fn.toggle(handler, handler...) is deprecated\");var a=arguments,i=t.guid||e.guid++,o=0,s=function(n){var r=(e._data(this,\"lastToggle\"+t.guid)||0)%o;return e._data(this,\"lastToggle\"+t.guid,r+1),n.preventDefault(),a[r].apply(this,arguments)||!1};for(s.guid=i;a.length>o;)a[o++].guid=i;return this.click(s)},e.fn.live=function(t,n,a){return r(\"jQuery.fn.live() is deprecated\"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,a),this)},e.fn.die=function(t,n){return r(\"jQuery.fn.die() is deprecated\"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||\"**\",n),this)},e.event.trigger=function(e,t,n,a){return n||C.test(e)||r(\"Global events are undocumented and deprecated\"),k.call(this,e,t,n||document,a)},e.each(S.split(\"|\"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+\".\"+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+\".\"+e._data(this,n)),!1}}})}(jQuery,window);","/*!\n * jQuery-ajaxTransport-XDomainRequest - v1.0.3 - 2014-06-06\n * https://github.com/MoonScript/jQuery-ajaxTransport-XDomainRequest\n * Copyright (c) 2014 Jason Moon (@JSONMOON)\n * Licensed MIT (/blob/master/LICENSE.txt)\n */\n(function(factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as anonymous module.\n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    // CommonJS\n    module.exports = factory(require('jquery'));\n  } else {\n    // Browser globals.\n    factory(jQuery);\n  }\n}(function($) {\n\n// Only continue if we're on IE8/IE9 with jQuery 1.5+ (contains the ajaxTransport function)\nif ($.support.cors || !$.ajaxTransport || !window.XDomainRequest) {\n  return;\n}\n\nvar httpRegEx = /^https?:\\/\\//i;\nvar getOrPostRegEx = /^get|post$/i;\nvar sameSchemeRegEx = new RegExp('^'+location.protocol, 'i');\n\n// ajaxTransport exists in jQuery 1.5+\n$.ajaxTransport('* text html xml json', function(options, userOptions, jqXHR) {\n  \n  // Only continue if the request is: asynchronous, uses GET or POST method, has HTTP or HTTPS protocol, and has the same scheme as the calling page\n  if (!options.crossDomain || !options.async || !getOrPostRegEx.test(options.type) || !httpRegEx.test(options.url) || !sameSchemeRegEx.test(options.url)) {\n    return;\n  }\n\n  var xdr = null;\n\n  return {\n    send: function(headers, complete) {\n      var postData = '';\n      var userType = (userOptions.dataType || '').toLowerCase();\n\n      xdr = new XDomainRequest();\n      if (/^\\d+$/.test(userOptions.timeout)) {\n        xdr.timeout = userOptions.timeout;\n      }\n\n      xdr.ontimeout = function() {\n        complete(500, 'timeout');\n      };\n\n      xdr.onload = function() {\n        var allResponseHeaders = 'Content-Length: ' + xdr.responseText.length + '\\r\\nContent-Type: ' + xdr.contentType;\n        var status = {\n          code: 200,\n          message: 'success'\n        };\n        var responses = {\n          text: xdr.responseText\n        };\n        try {\n          if (userType === 'html' || /text\\/html/i.test(xdr.contentType)) {\n            responses.html = xdr.responseText;\n          } else if (userType === 'json' || (userType !== 'text' && /\\/json/i.test(xdr.contentType))) {\n            try {\n              responses.json = $.parseJSON(xdr.responseText);\n            } catch(e) {\n              status.code = 500;\n              status.message = 'parseerror';\n              //throw 'Invalid JSON: ' + xdr.responseText;\n            }\n          } else if (userType === 'xml' || (userType !== 'text' && /\\/xml/i.test(xdr.contentType))) {\n            var doc = new ActiveXObject('Microsoft.XMLDOM');\n            doc.async = false;\n            try {\n              doc.loadXML(xdr.responseText);\n            } catch(e) {\n              doc = undefined;\n            }\n            if (!doc || !doc.documentElement || doc.getElementsByTagName('parsererror').length) {\n              status.code = 500;\n              status.message = 'parseerror';\n              throw 'Invalid XML: ' + xdr.responseText;\n            }\n            responses.xml = doc;\n          }\n        } catch(parseMessage) {\n          throw parseMessage;\n        } finally {\n          complete(status.code, status.message, responses, allResponseHeaders);\n        }\n      };\n\n      // set an empty handler for 'onprogress' so requests don't get aborted\n      xdr.onprogress = function(){};\n      xdr.onerror = function() {\n        complete(500, 'error', {\n          text: xdr.responseText\n        });\n      };\n\n      if (userOptions.data) {\n        postData = ($.type(userOptions.data) === 'string') ? userOptions.data : $.param(userOptions.data);\n      }\n      xdr.open(options.type, options.url);\n      xdr.send(postData);\n    },\n    abort: function() {\n      if (xdr) {\n        xdr.abort();\n      }\n    }\n  };\n});\n\n}));","/*\n\tHUMANIZED MESSAGES 1.0\n\thome - http://humanmsg.googlecode.com\n*/\n\nvar humanMsg = {\n\tclassName: undefined, // helps add custom class for errors and action buttons\n\tremove: null,\n\t\n\tsetup: function(appendTo, logName, msgOpacity, msgID) {\n\t\tif(msgID == undefined) {\n\t\t\thumanMsg.msgID = 'humanMsg';\n\t\t} else {\n\t\t\thumanMsg.msgID = msgID;\n\t\t}\n\n\t\t// appendTo is the element the msg is appended to\n\t\tif (appendTo == undefined)\n\t\t\tappendTo = 'body';\n\n\t\t// Opacity of the message\n\t\thumanMsg.msgOpacity = 1;\n\n\t\tif (msgOpacity != undefined) \n\t\t\thumanMsg.msgOpacity = parseFloat(msgOpacity);\n\n\t\t// Inject the message structure\n\t\tjQuery(appendTo).append('<div id=\"'+humanMsg.msgID+'\" class=\"humanMsg\"><p></p></div>')\n\t},\n\n\tdisplayMsg: function(msg, className, callback, instant) {\n\t\tif (msg == '')\n\t\t\treturn;\n\n\t\tclearTimeout(humanMsg.t2);\n\n\t\t// Inject message\n\t\tjQuery('#'+humanMsg.msgID+' p').html(msg);\n\t\n\t\t// Show message\n\t\tvar hum = jQuery('#'+humanMsg.msgID+'').show();\n\n\t\tif (instant) {\n\t\t\thum.css({ opacity: humanMsg.msgOpacity});\n\t\t} else {\n\t\t\thum.animate({ opacity: humanMsg.msgOpacity}, 200);\n\t\t}\n\n        // added by Tony for custom humanMsg stylings\n        this.toggleClasses(hum, className);\n\n\t\thumanMsg.remove = function() { humanMsg.removeMsg(callback) };\n\n\t\t// Watch for mouse & keyboard in 1.5s\n\t\thumanMsg.t1 = setTimeout(function() { humanMsg.bindEvents(callback) }, 1500)\n\t\t// Remove message after 4s\n\t\thumanMsg.t2 = setTimeout(humanMsg.remove, 4000)\n\t},\n\n\tbindEvents: function(callback) {\n\t// Remove message if mouse is moved or key is pressed\n\t\tjQuery(window)\n\t\t\t.mousemove(humanMsg.remove)\n\t\t\t.click(humanMsg.remove)\n\t\t\t.keypress(humanMsg.remove)\n\t},\n\n\tremoveMsg: function(callback) {\n\t\t// Unbind mouse & keyboard\t\t\n\t\tjQuery(window)\n\t\t\t.unbind('mousemove')\n\t\t\t.unbind('click')\n\t\t\t.unbind('keypress');\n\t\t\t\n\t\tclearTimeout(humanMsg.t1);\n\t\tclearTimeout(humanMsg.t2);\n\n\t\t// If message is fully transparent, fade it out\n\t\t$('#'+humanMsg.msgID).fadeOut(function() {\n\t\t\tif(typeof callback == 'function') {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t});\n\t},\n    \n    toggleClasses: function(msgObj, className) {\n        if (this.className !== undefined) {\n            msgObj.removeClass(this.className);\n            this.className = undefined;\n        }\n        \n        if (className !== undefined) {\n            msgObj.addClass(className);\n            this.className = className;   \n        }\n    }\n};\n\njQuery(document).ready(function(){\n\thumanMsg.setup();\n})\n","/*!\n\tColorbox 1.5.14\n\tlicense: MIT\n\thttp://www.jacklmoore.com/colorbox\n\tHI IMGUR DEV! PLEASE DON'T FORGET TO ADD BACK THE CSS ICON-X CLASS ON THE CLOSE BUTTON WHEN YOU EDIT ME\n\tVIDEO SUPPORT IS CURRENTLY CUSTOM TO IMGUR\n*/\n(function ($, document, window) {\n\tvar\n\t// Default settings object.\n\t// See http://jacklmoore.com/colorbox for details.\n\tdefaults = {\n\t\t// data sources\n\t\thtml: false,\n\t\tphoto: false,\n\t\tvideo: false,\n\t\tiframe: false,\n\t\tinline: false,\n\n\t\t// behavior and appearance\n\t\ttransition: \"elastic\",\n\t\tspeed: 300,\n\t\tfadeOut: 300,\n\t\twidth: false,\n\t\tinitialWidth: \"600\",\n\t\tinnerWidth: false,\n\t\tmaxWidth: false,\n\t\theight: false,\n\t\tinitialHeight: \"450\",\n\t\tinnerHeight: false,\n\t\tmaxHeight: false,\n\t\tscalePhotos: true,\n\t\tscrolling: true,\n\t\topacity: 0.9,\n\t\tpreloading: true,\n\t\tclassName: false,\n\t\toverlayClose: true,\n\t\tescKey: true,\n\t\tarrowKey: true,\n\t\ttop: false,\n\t\tbottom: false,\n\t\tleft: false,\n\t\tright: false,\n\t\tfixed: false,\n\t\tdata: undefined,\n\t\tcloseButton: true,\n\t\tfastIframe: true,\n\t\topen: false,\n\t\treposition: true,\n\t\tloop: true,\n\t\tslideshow: false,\n\t\tslideshowAuto: true,\n\t\tslideshowSpeed: 2500,\n\t\tslideshowStart: \"start slideshow\",\n\t\tslideshowStop: \"stop slideshow\",\n\t\tphotoRegex: /\\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\\?).*)?$/i,\n\t\tvideoRegex: /\\.(mp4|webm)((#|\\?).*)?$/i,\n\n\t\t// alternate image paths for high-res displays\n\t\tretinaImage: false,\n\t\tretinaUrl: false,\n\t\tretinaSuffix: '@2x.$1',\n\n\t\t// internationalization\n\t\tcurrent: \"image {current} of {total}\",\n\t\tprevious: \"previous\",\n\t\tnext: \"next\",\n\t\tclose: \"\",\n\t\txhrError: \"This content failed to load.\",\n\t\timgError: \"This image failed to load.\",\n\n\t\t// accessbility\n\t\treturnFocus: true,\n\t\ttrapFocus: true,\n\n\t\t// callbacks\n\t\tonOpen: false,\n\t\tonLoad: false,\n\t\tonComplete: false,\n\t\tonCleanup: false,\n\t\tonClosed: false,\n\n\t\trel: function() {\n\t\t\treturn this.rel;\n\t\t},\n\t\thref: function() {\n\t\t\t// using this.href would give the absolute url, when the href may have been inteded as a selector (e.g. '#container')\n\t\t\treturn $(this).attr('href');\n\t\t},\n\t\ttitle: function() {\n\t\t\treturn this.title;\n\t\t}\n\t},\n\n\t// Abstracting the HTML and event identifiers for easy rebranding\n\tcolorbox = 'colorbox',\n\tprefix = 'cbox',\n\tboxElement = prefix + 'Element',\n\n\t// Events\n\tevent_open = prefix + '_open',\n\tevent_load = prefix + '_load',\n\tevent_complete = prefix + '_complete',\n\tevent_cleanup = prefix + '_cleanup',\n\tevent_closed = prefix + '_closed',\n\tevent_purge = prefix + '_purge',\n\n\t// Cached jQuery Object Variables\n\t$overlay,\n\t$box,\n\t$wrap,\n\t$content,\n\t$topBorder,\n\t$leftBorder,\n\t$rightBorder,\n\t$bottomBorder,\n\t$related,\n\t$window,\n\t$loaded,\n\t$loadingBay,\n\t$loadingOverlay,\n\t$title,\n\t$current,\n\t$slideshow,\n\t$next,\n\t$prev,\n\t$close,\n\t$groupControls,\n\t$events = $('<a/>'), // $({}) would be prefered, but there is an issue with jQuery 1.4.2\n\t\n\t// Variables for cached values or use across multiple functions\n\tsettings,\n\tinterfaceHeight,\n\tinterfaceWidth,\n\tloadedHeight,\n\tloadedWidth,\n\tindex,\n\tphoto,\n\topen,\n\tactive,\n\tclosing,\n\tloadingTimer,\n\tpublicMethod,\n\tdiv = \"div\",\n\trequests = 0,\n\tpreviousCSS = {},\n\tinit;\n\n\t// ****************\n\t// HELPER FUNCTIONS\n\t// ****************\n\t\n\t// Convenience function for creating new jQuery objects\n\tfunction $tag(tag, id, css) {\n\t\tvar element = document.createElement(tag);\n\n\t\tif (id) {\n\t\t\telement.id = prefix + id;\n\t\t}\n\n\t\tif (css) {\n\t\t\telement.style.cssText = css;\n\t\t}\n\n\t\treturn $(element);\n\t}\n\t\n\t// Get the window height using innerHeight when available to avoid an issue with iOS\n\t// http://bugs.jquery.com/ticket/6724\n\tfunction winheight() {\n\t\treturn window.innerHeight ? window.innerHeight : $(window).height();\n\t}\n\n\tfunction Settings(element, options) {\n\t\tif (options !== Object(options)) {\n\t\t\toptions = {};\n\t\t}\n\n\t\tthis.cache = {};\n\t\tthis.el = element;\n\n\t\tthis.value = function(key) {\n\t\t\tvar dataAttr;\n\n\t\t\tif (this.cache[key] === undefined) {\n\t\t\t\tdataAttr = $(this.el).attr('data-cbox-'+key);\n\n\t\t\t\tif (dataAttr !== undefined) {\n\t\t\t\t\tthis.cache[key] = dataAttr;\n\t\t\t\t} else if (options[key] !== undefined) {\n\t\t\t\t\tthis.cache[key] = options[key];\n\t\t\t\t} else if (defaults[key] !== undefined) {\n\t\t\t\t\tthis.cache[key] = defaults[key];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.cache[key];\n\t\t};\n\n\t\tthis.get = function(key) {\n\t\t\tvar value = this.value(key);\n\t\t\treturn $.isFunction(value) ? value.call(this.el, this) : value;\n\t\t};\n\t}\n\n\t// Determine the next and previous members in a group.\n\tfunction getIndex(increment) {\n\t\tvar\n\t\tmax = $related.length,\n\t\tnewIndex = (index + increment) % max;\n\t\t\n\t\treturn (newIndex < 0) ? max + newIndex : newIndex;\n\t}\n\n\t// Convert '%' and 'px' values to integers\n\tfunction setSize(size, dimension) {\n\t\treturn Math.round((/%/.test(size) ? ((dimension === 'x' ? $window.width() : winheight()) / 100) : 1) * parseInt(size, 10));\n\t}\n\t\n\t// Checks an href to see if it is a photo.\n\t// There is a force photo option (photo: true) for hrefs that cannot be matched by the regex.\n\tfunction isImage(settings, url) {\n\t\treturn settings.get('photo') || settings.get('photoRegex').test(url);\n\t}\n\n\tfunction retinaUrl(settings, url) {\n\t\treturn settings.get('retinaUrl') && window.devicePixelRatio > 1 ? url.replace(settings.get('photoRegex'), settings.get('retinaSuffix')) : url;\n\t}\n\t\n\tfunction isVideo(settings, url) {\n\t\treturn settings.get('video') || settings.get('videoRegex').test(url);\n\t}\n\n\tfunction trapFocus(e) {\n\t\tif ('contains' in $box[0] && !$box[0].contains(e.target) && e.target !== $overlay[0]) {\n\t\t\te.stopPropagation();\n\t\t\t$box.focus();\n\t\t}\n\t}\n\n\tfunction setClass(str) {\n\t\tif (setClass.str !== str) {\n\t\t\t$box.add($overlay).removeClass(setClass.str).addClass(str);\n\t\t\tsetClass.str = str;\n\t\t}\n\t}\n\n\tfunction getRelated(rel) {\n\t\tindex = 0;\n\t\t\n\t\tif (rel && rel !== false && rel !== 'nofollow') {\n\t\t\t$related = $('.' + boxElement).filter(function () {\n\t\t\t\tvar options = $.data(this, colorbox);\n\t\t\t\tvar settings = new Settings(this, options);\n\t\t\t\treturn (settings.get('rel') === rel);\n\t\t\t});\n\t\t\tindex = $related.index(settings.el);\n\t\t\t\n\t\t\t// Check direct calls to Colorbox.\n\t\t\tif (index === -1) {\n\t\t\t\t$related = $related.add(settings.el);\n\t\t\t\tindex = $related.length - 1;\n\t\t\t}\n\t\t} else {\n\t\t\t$related = $(settings.el);\n\t\t}\n\t}\n\n\tfunction trigger(event) {\n\t\t// for external use\n\t\t$(document).trigger(event);\n\t\t// for internal use\n\t\t$events.triggerHandler(event);\n\t}\n\n\tvar slideshow = (function(){\n\t\tvar active,\n\t\t\tclassName = prefix + \"Slideshow_\",\n\t\t\tclick = \"click.\" + prefix,\n\t\t\ttimeOut;\n\n\t\tfunction clear () {\n\t\t\tclearTimeout(timeOut);\n\t\t}\n\n\t\tfunction set() {\n\t\t\tif (settings.get('loop') || $related[index + 1]) {\n\t\t\t\tclear();\n\t\t\t\ttimeOut = setTimeout(publicMethod.next, settings.get('slideshowSpeed'));\n\t\t\t}\n\t\t}\n\n\t\tfunction start() {\n\t\t\t$slideshow\n\t\t\t\t.html(settings.get('slideshowStop'))\n\t\t\t\t.unbind(click)\n\t\t\t\t.one(click, stop);\n\n\t\t\t$events\n\t\t\t\t.bind(event_complete, set)\n\t\t\t\t.bind(event_load, clear);\n\n\t\t\t$box.removeClass(className + \"off\").addClass(className + \"on\");\n\t\t}\n\n\t\tfunction stop() {\n\t\t\tclear();\n\t\t\t\n\t\t\t$events\n\t\t\t\t.unbind(event_complete, set)\n\t\t\t\t.unbind(event_load, clear);\n\n\t\t\t$slideshow\n\t\t\t\t.html(settings.get('slideshowStart'))\n\t\t\t\t.unbind(click)\n\t\t\t\t.one(click, function () {\n\t\t\t\t\tpublicMethod.next();\n\t\t\t\t\tstart();\n\t\t\t\t});\n\n\t\t\t$box.removeClass(className + \"on\").addClass(className + \"off\");\n\t\t}\n\n\t\tfunction reset() {\n\t\t\tactive = false;\n\t\t\t$slideshow.hide();\n\t\t\tclear();\n\t\t\t$events\n\t\t\t\t.unbind(event_complete, set)\n\t\t\t\t.unbind(event_load, clear);\n\t\t\t$box.removeClass(className + \"off \" + className + \"on\");\n\t\t}\n\n\t\treturn function(){\n\t\t\tif (active) {\n\t\t\t\tif (!settings.get('slideshow')) {\n\t\t\t\t\t$events.unbind(event_cleanup, reset);\n\t\t\t\t\treset();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (settings.get('slideshow') && $related[1]) {\n\t\t\t\t\tactive = true;\n\t\t\t\t\t$events.one(event_cleanup, reset);\n\t\t\t\t\tif (settings.get('slideshowAuto')) {\n\t\t\t\t\t\tstart();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstop();\n\t\t\t\t\t}\n\t\t\t\t\t$slideshow.show();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t}());\n\n\n\tfunction launch(element) {\n\t\tvar options;\n\n\t\tif (!closing) {\n\n\t\t\toptions = $(element).data(colorbox);\n\n\t\t\tsettings = new Settings(element, options);\n\t\t\t\n\t\t\tgetRelated(settings.get('rel'));\n\n\t\t\tif (!open) {\n\t\t\t\topen = active = true; // Prevents the page-change action from queuing up if the visitor holds down the left or right keys.\n\n\t\t\t\tsetClass(settings.get('className'));\n\t\t\t\t\n\t\t\t\t// Show colorbox so the sizes can be calculated in older versions of jQuery\n\t\t\t\t$box.css({visibility:'hidden', display:'block', opacity:''});\n\t\t\t\t\n\t\t\t\t$loaded = $tag(div, 'LoadedContent', 'width:0; height:0; overflow:hidden; visibility:hidden');\n\t\t\t\t$content.css({width:'', height:''}).append($loaded);\n\n\t\t\t\t// Cache values needed for size calculations\n\t\t\t\tinterfaceHeight = $topBorder.height() + $bottomBorder.height() + $content.outerHeight(true) - $content.height();\n\t\t\t\tinterfaceWidth = $leftBorder.width() + $rightBorder.width() + $content.outerWidth(true) - $content.width();\n\t\t\t\tloadedHeight = $loaded.outerHeight(true);\n\t\t\t\tloadedWidth = $loaded.outerWidth(true);\n\n\t\t\t\t// Opens inital empty Colorbox prior to content being loaded.\n\t\t\t\tvar initialWidth = setSize(settings.get('initialWidth'), 'x');\n\t\t\t\tvar initialHeight = setSize(settings.get('initialHeight'), 'y');\n\t\t\t\tvar maxWidth = settings.get('maxWidth');\n\t\t\t\tvar maxHeight = settings.get('maxHeight');\n\n\t\t\t\tsettings.w = (maxWidth !== false ? Math.min(initialWidth, setSize(maxWidth, 'x')) : initialWidth) - loadedWidth - interfaceWidth;\n\t\t\t\tsettings.h = (maxHeight !== false ? Math.min(initialHeight, setSize(maxHeight, 'y')) : initialHeight) - loadedHeight - interfaceHeight;\n\n\t\t\t\t$loaded.css({width:'', height:settings.h});\n\t\t\t\tpublicMethod.position();\n\n\t\t\t\ttrigger(event_open);\n\t\t\t\tsettings.get('onOpen');\n\n\t\t\t\t$groupControls.add($title).hide();\n\n\t\t\t\t$box.focus();\n\t\t\t\t\n\t\t\t\tif (settings.get('trapFocus')) {\n\t\t\t\t\t// Confine focus to the modal\n\t\t\t\t\t// Uses event capturing that is not supported in IE8-\n\t\t\t\t\tif (document.addEventListener) {\n\n\t\t\t\t\t\tdocument.addEventListener('focus', trapFocus, true);\n\t\t\t\t\t\t\n\t\t\t\t\t\t$events.one(event_closed, function () {\n\t\t\t\t\t\t\tdocument.removeEventListener('focus', trapFocus, true);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Return focus on closing\n\t\t\t\tif (settings.get('returnFocus')) {\n\t\t\t\t\t$events.one(event_closed, function () {\n\t\t\t\t\t\t$(settings.el).focus();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar opacity = parseFloat(settings.get('opacity'));\n\t\t\t$overlay.css({\n\t\t\t\topacity: opacity === opacity ? opacity : '',\n\t\t\t\tcursor: settings.get('overlayClose') ? 'pointer' : '',\n\t\t\t\tvisibility: 'visible'\n\t\t\t}).show();\n\t\t\t\n\t\t\tif (settings.get('closeButton')) {\n\t\t\t\t$close.html(settings.get('close')).appendTo($content);\n\t\t\t} else {\n\t\t\t\t$close.appendTo('<div/>'); // replace with .detach() when dropping jQuery < 1.4\n\t\t\t}\n\n\t\t\tload();\n\t\t}\n\t}\n\n\t// Colorbox's markup needs to be added to the DOM prior to being called\n\t// so that the browser will go ahead and load the CSS background images.\n\tfunction appendHTML() {\n\t\tif (!$box) {\n\t\t\tinit = false;\n\t\t\t$window = $(window);\n\t\t\t$box = $tag(div).attr({\n\t\t\t\tid: colorbox,\n\t\t\t\t'class': $.support.opacity === false ? prefix + 'IE' : '', // class for optional IE8 & lower targeted CSS.\n\t\t\t\trole: 'dialog',\n\t\t\t\ttabindex: '-1'\n\t\t\t}).hide();\n\t\t\t$overlay = $tag(div, \"Overlay\").hide();\n\t\t\t$loadingOverlay = $([$tag(div, \"LoadingOverlay\")[0],$tag(div, \"LoadingGraphic\")[0]]);\n\t\t\t$wrap = $tag(div, \"Wrapper\");\n\t\t\t$content = $tag(div, \"Content\").append(\n\t\t\t\t$title = $tag(div, \"Title\"),\n\t\t\t\t$current = $tag(div, \"Current\"),\n\t\t\t\t$prev = $('<button type=\"button\"/>').attr({id:prefix+'Previous'}),\n\t\t\t\t$next = $('<button type=\"button\"/>').attr({id:prefix+'Next'}),\n\t\t\t\t$slideshow = $tag('button', \"Slideshow\"),\n\t\t\t\t$loadingOverlay\n\t\t\t);\n\n\t\t\t$close = $('<button type=\"button\"/>').attr({id:prefix+'Close', class: 'icon-x'});\n\t\t\t\n\t\t\t$wrap.append( // The 3x3 Grid that makes up Colorbox\n\t\t\t\t$tag(div).append(\n\t\t\t\t\t$tag(div, \"TopLeft\"),\n\t\t\t\t\t$topBorder = $tag(div, \"TopCenter\"),\n\t\t\t\t\t$tag(div, \"TopRight\")\n\t\t\t\t),\n\t\t\t\t$tag(div, false, 'clear:left').append(\n\t\t\t\t\t$leftBorder = $tag(div, \"MiddleLeft\"),\n\t\t\t\t\t$content,\n\t\t\t\t\t$rightBorder = $tag(div, \"MiddleRight\")\n\t\t\t\t),\n\t\t\t\t$tag(div, false, 'clear:left').append(\n\t\t\t\t\t$tag(div, \"BottomLeft\"),\n\t\t\t\t\t$bottomBorder = $tag(div, \"BottomCenter\"),\n\t\t\t\t\t$tag(div, \"BottomRight\")\n\t\t\t\t)\n\t\t\t).find('div div').css({'float': 'left'});\n\t\t\t\n\t\t\t$loadingBay = $tag(div, false, 'position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;');\n\t\t\t\n\t\t\t$groupControls = $next.add($prev).add($current).add($slideshow);\n\t\t}\n\t\tif (document.body && !$box.parent().length) {\n\t\t\t$(document.body).append($overlay, $box.append($wrap, $loadingBay));\n\t\t}\n\t}\n\n\t// Add Colorbox's event bindings\n\tfunction addBindings() {\n\t\tfunction clickHandler(e) {\n\t\t\t// ignore non-left-mouse-clicks and clicks modified with ctrl / command, shift, or alt.\n\t\t\t// See: http://jacklmoore.com/notes/click-events/\n\t\t\tif (!(e.which > 1 || e.shiftKey || e.altKey || e.metaKey || e.ctrlKey)) {\n\t\t\t\te.preventDefault();\n\t\t\t\tlaunch(this);\n\t\t\t}\n\t\t}\n\n\t\tif ($box) {\n\t\t\tif (!init) {\n\t\t\t\tinit = true;\n\n\t\t\t\t// Anonymous functions here keep the public method from being cached, thereby allowing them to be redefined on the fly.\n\t\t\t\t$next.click(function () {\n\t\t\t\t\tpublicMethod.next();\n\t\t\t\t});\n\t\t\t\t$prev.click(function () {\n\t\t\t\t\tpublicMethod.prev();\n\t\t\t\t});\n\t\t\t\t$close.click(function () {\n\t\t\t\t\tpublicMethod.close();\n\t\t\t\t});\n\t\t\t\t$overlay.click(function () {\n\t\t\t\t\tif (settings.get('overlayClose')) {\n\t\t\t\t\t\tpublicMethod.close();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// Key Bindings\n\t\t\t\t$(document).bind('keydown.' + prefix, function (e) {\n\t\t\t\t\tvar key = e.keyCode;\n\t\t\t\t\tif (open && settings.get('escKey') && key === 27) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tpublicMethod.close();\n\t\t\t\t\t}\n\t\t\t\t\tif (open && settings.get('arrowKey') && $related[1] && !e.altKey) {\n\t\t\t\t\t\tif (key === 37) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t$prev.click();\n\t\t\t\t\t\t} else if (key === 39) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t$next.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif ($.isFunction($.fn.on)) {\n\t\t\t\t\t// For jQuery 1.7+\n\t\t\t\t\t$(document).on('click.'+prefix, '.'+boxElement, clickHandler);\n\t\t\t\t} else {\n\t\t\t\t\t// For jQuery 1.3.x -> 1.6.x\n\t\t\t\t\t// This code is never reached in jQuery 1.9, so do not contact me about 'live' being removed.\n\t\t\t\t\t// This is not here for jQuery 1.9, it's here for legacy users.\n\t\t\t\t\t$('.'+boxElement).live('click.'+prefix, clickHandler);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t// Don't do anything if Colorbox already exists.\n\tif ($[colorbox]) {\n\t\treturn;\n\t}\n\n\t// Append the HTML when the DOM loads\n\t$(appendHTML);\n\n\n\t// ****************\n\t// PUBLIC FUNCTIONS\n\t// Usage format: $.colorbox.close();\n\t// Usage from within an iframe: parent.jQuery.colorbox.close();\n\t// ****************\n\t\n\tpublicMethod = $.fn[colorbox] = $[colorbox] = function (options, callback) {\n\t\tvar settings;\n\t\tvar $obj = this;\n\n\t\toptions = options || {};\n\n\t\tif ($.isFunction($obj)) { // assume a call to $.colorbox\n\t\t\t$obj = $('<a/>');\n\t\t\toptions.open = true;\n\t\t} else if (!$obj[0]) { // colorbox being applied to empty collection\n\t\t\treturn $obj;\n\t\t}\n\n\n\t\tif (!$obj[0]) { // colorbox being applied to empty collection\n\t\t\treturn $obj;\n\t\t}\n\t\t\n\t\tappendHTML();\n\n\t\tif (addBindings()) {\n\n\t\t\tif (callback) {\n\t\t\t\toptions.onComplete = callback;\n\t\t\t}\n\n\t\t\t$obj.each(function () {\n\t\t\t\tvar old = $.data(this, colorbox) || {};\n\t\t\t\t$.data(this, colorbox, $.extend(old, options));\n\t\t\t}).addClass(boxElement);\n\n\t\t\tsettings = new Settings($obj[0], options);\n\t\t\t\n\t\t\tif (settings.get('open')) {\n\t\t\t\tlaunch($obj[0]);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn $obj;\n\t};\n\n\tpublicMethod.position = function (speed, loadedCallback) {\n\t\tvar\n\t\tcss,\n\t\ttop = 0,\n\t\tleft = 0,\n\t\toffset = $box.offset(),\n\t\tscrollTop,\n\t\tscrollLeft;\n\t\t\n\t\t$window.unbind('resize.' + prefix);\n\n\t\t// remove the modal so that it doesn't influence the document width/height\n\t\t$box.css({top: -9e4, left: -9e4});\n\n\t\tscrollTop = $window.scrollTop();\n\t\tscrollLeft = $window.scrollLeft();\n\n\t\tif (settings.get('fixed')) {\n\t\t\toffset.top -= scrollTop;\n\t\t\toffset.left -= scrollLeft;\n\t\t\t$box.css({position: 'fixed'});\n\t\t} else {\n\t\t\ttop = scrollTop;\n\t\t\tleft = scrollLeft;\n\t\t\t$box.css({position: 'absolute'});\n\t\t}\n\n\t\t// keeps the top and left positions within the browser's viewport.\n\t\tif (settings.get('right') !== false) {\n\t\t\tleft += Math.max($window.width() - settings.w - loadedWidth - interfaceWidth - setSize(settings.get('right'), 'x'), 0);\n\t\t} else if (settings.get('left') !== false) {\n\t\t\tleft += setSize(settings.get('left'), 'x');\n\t\t} else {\n\t\t\tleft += Math.round(Math.max($window.width() - settings.w - loadedWidth - interfaceWidth, 0) / 2);\n\t\t}\n\t\t\n\t\tif (settings.get('bottom') !== false) {\n\t\t\ttop += Math.max(winheight() - settings.h - loadedHeight - interfaceHeight - setSize(settings.get('bottom'), 'y'), 0);\n\t\t} else if (settings.get('top') !== false) {\n\t\t\ttop += setSize(settings.get('top'), 'y');\n\t\t} else {\n\t\t\ttop += Math.round(Math.max(winheight() - settings.h - loadedHeight - interfaceHeight, 0) / 2);\n\t\t}\n\n\t\t$box.css({top: offset.top, left: offset.left, visibility:'visible'});\n\t\t\n\t\t// this gives the wrapper plenty of breathing room so it's floated contents can move around smoothly,\n\t\t// but it has to be shrank down around the size of div#colorbox when it's done.  If not,\n\t\t// it can invoke an obscure IE bug when using iframes.\n\t\t$wrap[0].style.width = $wrap[0].style.height = \"9999px\";\n\t\t\n\t\tfunction modalDimensions() {\n\t\t\t$topBorder[0].style.width = $bottomBorder[0].style.width = $content[0].style.width = (parseInt($box[0].style.width,10) - interfaceWidth)+'px';\n\t\t\t$content[0].style.height = $leftBorder[0].style.height = $rightBorder[0].style.height = (parseInt($box[0].style.height,10) - interfaceHeight)+'px';\n\t\t}\n\n\t\tcss = {width: settings.w + loadedWidth + interfaceWidth, height: settings.h + loadedHeight + interfaceHeight, top: top, left: left};\n\n\t\t// setting the speed to 0 if the content hasn't changed size or position\n\t\tif (speed) {\n\t\t\tvar tempSpeed = 0;\n\t\t\t$.each(css, function(i){\n\t\t\t\tif (css[i] !== previousCSS[i]) {\n\t\t\t\t\ttempSpeed = speed;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t\tspeed = tempSpeed;\n\t\t}\n\n\t\tpreviousCSS = css;\n\n\t\tif (!speed) {\n\t\t\t$box.css(css);\n\t\t}\n\n\t\t$box.dequeue().animate(css, {\n\t\t\tduration: speed || 0,\n\t\t\tcomplete: function () {\n\t\t\t\tmodalDimensions();\n\t\t\t\t\n\t\t\t\tactive = false;\n\t\t\t\t\n\t\t\t\t// shrink the wrapper down to exactly the size of colorbox to avoid a bug in IE's iframe implementation.\n\t\t\t\t$wrap[0].style.width = (settings.w + loadedWidth + interfaceWidth) + \"px\";\n\t\t\t\t$wrap[0].style.height = (settings.h + loadedHeight + interfaceHeight) + \"px\";\n\t\t\t\t\n\t\t\t\tif (settings.get('reposition')) {\n\t\t\t\t\tsetTimeout(function () {  // small delay before binding onresize due to an IE8 bug.\n\t\t\t\t\t\t$window.bind('resize.' + prefix, publicMethod.position);\n\t\t\t\t\t}, 1);\n\t\t\t\t}\n\n\t\t\t\tif ($.isFunction(loadedCallback)) {\n\t\t\t\t\tloadedCallback();\n\t\t\t\t}\n\t\t\t},\n\t\t\tstep: modalDimensions\n\t\t});\n\t};\n\n\tpublicMethod.resize = function (options) {\n\t\tvar scrolltop;\n\t\t\n\t\tif (open) {\n\t\t\toptions = options || {};\n\t\t\t\n\t\t\tif (options.width) {\n\t\t\t\tsettings.w = setSize(options.width, 'x') - loadedWidth - interfaceWidth;\n\t\t\t}\n\n\t\t\tif (options.innerWidth) {\n\t\t\t\tsettings.w = setSize(options.innerWidth, 'x');\n\t\t\t}\n\n\t\t\t$loaded.css({width: settings.w});\n\t\t\t\n\t\t\tif (options.height) {\n\t\t\t\tsettings.h = setSize(options.height, 'y') - loadedHeight - interfaceHeight;\n\t\t\t}\n\n\t\t\tif (options.innerHeight) {\n\t\t\t\tsettings.h = setSize(options.innerHeight, 'y');\n\t\t\t}\n\n\t\t\tif (!options.innerHeight && !options.height) {\n\t\t\t\tscrolltop = $loaded.scrollTop();\n\t\t\t\t$loaded.css({height: \"auto\"});\n\t\t\t\tsettings.h = $loaded.height();\n\t\t\t}\n\n\t\t\t$loaded.css({height: settings.h});\n\n\t\t\tif(scrolltop) {\n\t\t\t\t$loaded.scrollTop(scrolltop);\n\t\t\t}\n\t\t\t\n\t\t\tpublicMethod.position(settings.get('transition') === \"none\" ? 0 : settings.get('speed'));\n\t\t}\n\t};\n\n\tpublicMethod.prep = function (object) {\n\t\tif (!open) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tvar callback, speed = settings.get('transition') === \"none\" ? 0 : settings.get('speed');\n\n\t\t$loaded.remove();\n\n\t\t$loaded = $tag(div, 'LoadedContent').append(object);\n\t\t\n\t\tfunction getWidth() {\n\t\t\tsettings.w = settings.w || $loaded.width();\n\t\t\tsettings.w = settings.mw && settings.mw < settings.w ? settings.mw : settings.w;\n\t\t\treturn settings.w;\n\t\t}\n\t\tfunction getHeight() {\n\t\t\tsettings.h = settings.h || $loaded.height();\n\t\t\tsettings.h = settings.mh && settings.mh < settings.h ? settings.mh : settings.h;\n\t\t\treturn settings.h;\n\t\t}\n\t\t\n\t\t$loaded.hide()\n\t\t.appendTo($loadingBay.show())// content has to be appended to the DOM for accurate size calculations.\n\t\t.css({overflow: settings.get('scrolling') ? 'auto' : 'hidden'})\n\t\t.css({width: getWidth()})\n\t\t.css({height: getHeight()})// sets the height independently from the width in case the new width influences the value of height.\n\t\t.prependTo($content);\n\n\t\t$loadingBay.hide();\n\t\t\n\t\t// floating the IMG removes the bottom line-height and fixed a problem where IE miscalculates the width of the parent element as 100% of the document width.\n\t\t\n\t\t$(photo).css({'float': 'none'});\n\n\t\tsetClass(settings.get('className'));\n\n\t\tcallback = function () {\n\t\t\tvar total = $related.length,\n\t\t\t\tiframe,\n\t\t\t\tcomplete;\n\t\t\t\n\t\t\tif (!open) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tfunction removeFilter() { // Needed for IE8 in versions of jQuery prior to 1.7.2\n\t\t\t\tif ($.support.opacity === false) {\n\t\t\t\t\t$box[0].style.removeAttribute('filter');\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcomplete = function () {\n\t\t\t\tclearTimeout(loadingTimer);\n\t\t\t\t$loadingOverlay.hide();\n\t\t\t\ttrigger(event_complete);\n\t\t\t\tsettings.get('onComplete');\n\t\t\t};\n\n\t\t\t\n\t\t\t$title.html(settings.get('title')).show();\n\t\t\t$loaded.show();\n\t\t\t\n\t\t\tif (total > 1) { // handle grouping\n\t\t\t\tif (typeof settings.get('current') === \"string\") {\n\t\t\t\t\t$current.html(settings.get('current').replace('{current}', index + 1).replace('{total}', total)).show();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$next[(settings.get('loop') || index < total - 1) ? \"show\" : \"hide\"]().html(settings.get('next'));\n\t\t\t\t$prev[(settings.get('loop') || index) ? \"show\" : \"hide\"]().html(settings.get('previous'));\n\t\t\t\t\n\t\t\t\tslideshow();\n\t\t\t\t\n\t\t\t\t// Preloads images within a rel group\n\t\t\t\tif (settings.get('preloading')) {\n\t\t\t\t\t$.each([getIndex(-1), getIndex(1)], function(){\n\t\t\t\t\t\tvar img,\n\t\t\t\t\t\t    video,\n\t\t\t\t\t\t\ti = $related[this],\n\t\t\t\t\t\t\tsettings = new Settings(i, $.data(i, colorbox)),\n\t\t\t\t\t\t\tsrc = settings.get('href');\n\n\t\t\t\t\t\tif (src && isImage(settings, src)) {\n\t\t\t\t\t\t\tsrc = retinaUrl(settings, src);\n\t\t\t\t\t\t\timg = document.createElement('img');\n\t\t\t\t\t\t\timg.src = src;\n\t\t\t\t\t\t} else if (src && isVideo(settings, src)) {\n\t\t\t\t\t\t\tvideo = document.createElement('video');\n\t\t\t\t\t\t\tvideo.src = src;\n                        }\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$groupControls.hide();\n\t\t\t}\n\n\t\t\tif (settings.get('iframe')) {\n\t\t\t\tiframe = document.createElement('iframe');\n\t\t\t\t\n\t\t\t\tif ('frameBorder' in iframe) {\n\t\t\t\t\tiframe.frameBorder = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ('allowTransparency' in iframe) {\n\t\t\t\t\tiframe.allowTransparency = \"true\";\n\t\t\t\t}\n\n\t\t\t\tif (!settings.get('scrolling')) {\n\t\t\t\t\tiframe.scrolling = \"no\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$(iframe)\n\t\t\t\t\t.attr({\n\t\t\t\t\t\tsrc: settings.get('href'),\n\t\t\t\t\t\tname: (new Date()).getTime(), // give the iframe a unique name to prevent caching\n\t\t\t\t\t\t'class': prefix + 'Iframe',\n\t\t\t\t\t\tallowFullScreen : true // allow HTML5 video to go fullscreen\n\t\t\t\t\t})\n\t\t\t\t\t.one('load', complete)\n\t\t\t\t\t.appendTo($loaded);\n\t\t\t\t\n\t\t\t\t$events.one(event_purge, function () {\n\t\t\t\t\tiframe.src = \"//about:blank\";\n\t\t\t\t});\n\n\t\t\t\tif (settings.get('fastIframe')) {\n\t\t\t\t\t$(iframe).trigger('load');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcomplete();\n\t\t\t}\n\t\t\t\n\t\t\tif (settings.get('transition') === 'fade') {\n\t\t\t\t$box.fadeTo(speed, 1, removeFilter);\n\t\t\t} else {\n\t\t\t\tremoveFilter();\n\t\t\t}\n\t\t};\n\t\t\n\t\tif (settings.get('transition') === 'fade') {\n\t\t\t$box.fadeTo(speed, 0, function () {\n\t\t\t\tpublicMethod.position(0, callback);\n\t\t\t});\n\t\t} else {\n\t\t\tpublicMethod.position(speed, callback);\n\t\t}\n\t};\n\n\tfunction load () {\n\t\tvar href, setResize, prep = publicMethod.prep, $inline, request = ++requests;\n\t\t\n\t\tactive = true;\n\t\t\n\t\tphoto = false;\n\t\tvideo = false;\n\t\t\n\t\ttrigger(event_purge);\n\t\ttrigger(event_load);\n\t\tsettings.get('onLoad');\n\t\t\n\t\tsettings.h = settings.get('height') ?\n\t\t\t\tsetSize(settings.get('height'), 'y') - loadedHeight - interfaceHeight :\n\t\t\t\tsettings.get('innerHeight') && setSize(settings.get('innerHeight'), 'y');\n\t\t\n\t\tsettings.w = settings.get('width') ?\n\t\t\t\tsetSize(settings.get('width'), 'x') - loadedWidth - interfaceWidth :\n\t\t\t\tsettings.get('innerWidth') && setSize(settings.get('innerWidth'), 'x');\n\t\t\n\t\t// Sets the minimum dimensions for use in image scaling\n\t\tsettings.mw = settings.w;\n\t\tsettings.mh = settings.h;\n\t\t\n\t\t// Re-evaluate the minimum width and height based on maxWidth and maxHeight values.\n\t\t// If the width or height exceed the maxWidth or maxHeight, use the maximum values instead.\n\t\tif (settings.get('maxWidth')) {\n\t\t\tsettings.mw = setSize(settings.get('maxWidth'), 'x') - loadedWidth - interfaceWidth;\n\t\t\tsettings.mw = settings.w && settings.w < settings.mw ? settings.w : settings.mw;\n\t\t}\n\t\tif (settings.get('maxHeight')) {\n\t\t\tsettings.mh = setSize(settings.get('maxHeight'), 'y') - loadedHeight - interfaceHeight;\n\t\t\tsettings.mh = settings.h && settings.h < settings.mh ? settings.h : settings.mh;\n\t\t}\n\t\t\n\t\thref = settings.get('href');\n\t\t\n\t\tloadingTimer = setTimeout(function () {\n\t\t\t$loadingOverlay.show();\n\t\t}, 100);\n\t\t\n\t\tif (settings.get('inline')) {\n\t\t\tvar $target = $(href);\n\t\t\t// Inserts an empty placeholder where inline content is being pulled from.\n\t\t\t// An event is bound to put inline content back when Colorbox closes or loads new content.\n\t\t\t$inline = $('<div>').hide().insertBefore($target);\n\n\t\t\t$events.one(event_purge, function () {\n\t\t\t\t$inline.replaceWith($target);\n\t\t\t});\n\n\t\t\tprep($target);\n\t\t} else if (settings.get('iframe')) {\n\t\t\t// IFrame element won't be added to the DOM until it is ready to be displayed,\n\t\t\t// to avoid problems with DOM-ready JS that might be trying to run in that iframe.\n\t\t\tprep(\" \");\n\t\t} else if (settings.get('html')) {\n\t\t\tprep(settings.get('html'));\n\t\t} else if (isImage(settings, href)) {\n\n\t\t\thref = retinaUrl(settings, href);\n\n\t\t\tphoto = new Image();\n\n\t\t\t$(photo)\n\t\t\t.addClass(prefix + 'Photo')\n\t\t\t.bind('error',function () {\n\t\t\t\tprep($tag(div, 'Error').html(settings.get('imgError')));\n\t\t\t})\n\t\t\t.one('load', function () {\n\t\t\t\tif (request !== requests) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// A small pause because some browsers will occassionaly report a \n\t\t\t\t// img.width and img.height of zero immediately after the img.onload fires\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tvar percent;\n\n\t\t\t\t\t$.each(['alt', 'longdesc', 'aria-describedby'], function(i,val){\n\t\t\t\t\t\tvar attr = $(settings.el).attr(val) || $(settings.el).attr('data-'+val);\n\t\t\t\t\t\tif (attr) {\n\t\t\t\t\t\t\tphoto.setAttribute(val, attr);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (settings.get('retinaImage') && window.devicePixelRatio > 1) {\n\t\t\t\t\t\tphoto.height = photo.height / window.devicePixelRatio;\n\t\t\t\t\t\tphoto.width = photo.width / window.devicePixelRatio;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (settings.get('scalePhotos')) {\n\t\t\t\t\t\tsetResize = function () {\n\t\t\t\t\t\t\tphoto.height -= photo.height * percent;\n\t\t\t\t\t\t\tphoto.width -= photo.width * percent;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (settings.mw && photo.width > settings.mw) {\n\t\t\t\t\t\t\tpercent = (photo.width - settings.mw) / photo.width;\n\t\t\t\t\t\t\tsetResize();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (settings.mh && photo.height > settings.mh) {\n\t\t\t\t\t\t\tpercent = (photo.height - settings.mh) / photo.height;\n\t\t\t\t\t\t\tsetResize();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (settings.h) {\n\t\t\t\t\t\tphoto.style.marginTop = Math.max(settings.mh - photo.height, 0) / 2 + 'px';\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif ($related[1] && (settings.get('loop') || $related[index + 1])) {\n\t\t\t\t\t\tphoto.style.cursor = 'pointer';\n\t\t\t\t\t\tphoto.onclick = function () {\n\t\t\t\t\t\t\tpublicMethod.next();\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tphoto.style.width = photo.width + 'px';\n\t\t\t\t\tphoto.style.height = photo.height + 'px';\n\t\t\t\t\tprep(photo);\n\t\t\t\t}, 1);\n\t\t\t});\n\t\t\t\n\t\t\tphoto.src = href;\n\n\t\t} else if (isVideo(settings, href)) {\n\n\t\t\tvideo = document.createElement('video');\n\t\t\tvideo.autoplay = true;\n\t\t\tvideo.loop = true;\n\n\t\t\t$(video)\n\t\t\t.addClass(prefix + 'Video')\n\t\t\t.bind('error',function () {\n\t\t\t\tprep($tag(div, 'Error').html(settings.get('imgError')));\n\t\t\t})\n\t\t\t.one('canplaythrough', function () {\n\t\t\t\tif (request !== requests) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// A small pause because some browsers will occassionaly report a \n\t\t\t\t// video.width and video.height of zero immediately after the video.onload fires\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tvar percent,\n\t\t\t\t\t\tvideoHeight = video.videoHeight,\n\t\t\t\t\t\tvideoWidth = video.videoWidth;\n\n\t\t\t\t\t$.each(['alt', 'longdesc', 'aria-describedby'], function(i,val){\n\t\t\t\t\t\tvar attr = $(settings.el).attr(val) || $(settings.el).attr('data-'+val);\n\t\t\t\t\t\tif (attr) {\n\t\t\t\t\t\t\tvideo.setAttribute(val, attr);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (settings.get('scalePhotos')) {\n\t\t\t\t\t\tsetResize = function () {\n\t\t\t\t\t\t\tvideoHeight -= video.videoHeight * percent;\n\t\t\t\t\t\t\tvideoWidth -= video.videoWidth * percent;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (settings.mw && video.videoWidth > settings.mw) {\n\t\t\t\t\t\t\tpercent = (video.videoWidth - settings.mw) / video.videoWidth;\n\t\t\t\t\t\t\tsetResize();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (settings.mh && video.videoHeight > settings.mh) {\n\t\t\t\t\t\t\tpercent = (video.videoHeight - settings.mh) / video.videoHeight;\n\t\t\t\t\t\t\tsetResize();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (settings.h) {\n\t\t\t\t\t\tvideo.style.marginTop = Math.max(settings.mh - video.videoHeight, 0) / 2 + 'px';\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif ($related[1] && (settings.get('loop') || $related[index + 1])) {\n\t\t\t\t\t\tvideo.style.cursor = 'pointer';\n\t\t\t\t\t\tvideo.onclick = function () {\n\t\t\t\t\t\t\tpublicMethod.next();\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tvideo.style.width = videoWidth + 'px';\n\t\t\t\t\tvideo.style.height = videoHeight + 'px';\n\t\t\t\t\tprep(video);\n\n\t\t\t\t\t//Resizing can pause video\n\t\t\t\t\tvideo.play();\n\t\t\t\t}, 1);\n\t\t\t});\n\t\t\t\n\t\t\tvideo.src = href;\n\t\t} else if (href) {\n\t\t\t$loadingBay.load(href, settings.get('data'), function (data, status) {\n\t\t\t\tif (request === requests) {\n\t\t\t\t\tprep(status === 'error' ? $tag(div, 'Error').html(settings.get('xhrError')) : $(this).contents());\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\t\n\t// Navigates to the next page/image in a set.\n\tpublicMethod.next = function () {\n\t\tif (!active && $related[1] && (settings.get('loop') || $related[index + 1])) {\n\t\t\tindex = getIndex(1);\n\t\t\tlaunch($related[index]);\n\t\t}\n\t};\n\t\n\tpublicMethod.prev = function () {\n\t\tif (!active && $related[1] && (settings.get('loop') || index)) {\n\t\t\tindex = getIndex(-1);\n\t\t\tlaunch($related[index]);\n\t\t}\n\t};\n\n\t// Note: to use this within an iframe use the following format: parent.jQuery.colorbox.close();\n\tpublicMethod.close = function () {\n\t\tif (open && !closing) {\n\t\t\t\n\t\t\tclosing = true;\n\t\t\topen = false;\n\t\t\ttrigger(event_cleanup);\n\t\t\tsettings.get('onCleanup');\n\t\t\t$window.unbind('.' + prefix);\n\t\t\t$overlay.fadeTo(settings.get('fadeOut') || 0, 0);\n\t\t\t\n\t\t\t$box.stop().fadeTo(settings.get('fadeOut') || 0, 0, function () {\n\t\t\t\t$box.hide();\n\t\t\t\t$overlay.hide();\n\t\t\t\ttrigger(event_purge);\n\t\t\t\t$loaded.remove();\n\t\t\t\t\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tclosing = false;\n\t\t\t\t\ttrigger(event_closed);\n\t\t\t\t\tsettings.get('onClosed');\n\t\t\t\t}, 1);\n\t\t\t});\n\t\t}\n\t};\n\n\t// Removes changes Colorbox made to the document, but does not remove the plugin.\n\tpublicMethod.remove = function () {\n\t\tif (!$box) { return; }\n\n\t\t$box.stop();\n\t\t$[colorbox].close();\n\t\t$box.stop(false, true).remove();\n\t\t$overlay.remove();\n\t\tclosing = false;\n\t\t$box = null;\n\t\t$('.' + boxElement)\n\t\t\t.removeData(colorbox)\n\t\t\t.removeClass(boxElement);\n\n\t\t$(document).unbind('click.'+prefix).unbind('keydown.'+prefix);\n\t};\n\n\t// A method for fetching the current element Colorbox is referencing.\n\t// returns a jQuery object.\n\tpublicMethod.element = function () {\n\t\treturn $(settings.el);\n\t};\n\n\tpublicMethod.settings = defaults;\n\n}(jQuery, document, window));","// tipsy, facebook style tooltips for jquery\n// version 1.0.0a\n// (c) 2008-2010 jason frame [jason@onehackoranother.com]\n// released under the MIT license\n\n(function($) {\n\n    function Tipsy(element, options) {\n        this.$element = $(element);\n        this.options = options;\n        this.enabled = true;\n        this.fixTitle();\n    }\n\n    Tipsy.prototype = {\n        show: function() {\n            var title = this.getTitle();\n            if (title && this.enabled) {\n                var $tip = this.tip();\n\n                $tip.find('.tipsy-inner')[this.options.html ? 'html' : 'text'](title);\n                $tip[0].className = 'tipsy ' + (this.options.cls ? this.options.cls : ''); // reset classname in case of dynamic gravity\n                $tip.remove().css({top: 0, left: 0, visibility: 'hidden', display: 'block'}).appendTo(document.body);\n\n                var pos = $.extend({}, this.$element.offset(), {\n                    width: this.$element[0].offsetWidth,\n                    height: this.$element[0].offsetHeight\n                });\n\n                var actualWidth = $tip[0].offsetWidth, actualHeight = $tip[0].offsetHeight;\n                var gravity = (typeof this.options.gravity == 'function')\n                                ? this.options.gravity.call(this.$element[0], this.$element[0])\n                                : this.options.gravity;\n\n                var tp;\n                switch (gravity.charAt(0)) {\n                    case 'n':\n                        tp = {top: pos.top + pos.height + this.options.offset, left: pos.left + pos.width / 2 - actualWidth / 2};\n                        break;\n                    case 's':\n                        tp = {top: pos.top - actualHeight - this.options.offset, left: pos.left + pos.width / 2 - actualWidth / 2};\n                        break;\n                    case 'e':\n                        tp = {top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth - this.options.offset};\n                        break;\n                    case 'w':\n                        tp = {top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width + this.options.offset};\n                        break;\n                }\n\n                if (gravity.length == 2) {\n                    if (gravity.charAt(1) == 'w') {\n                        tp.left = pos.left + pos.width / 2 - 15;\n                    } else {\n                        tp.left = pos.left + pos.width / 2 - actualWidth + 15;\n                    }\n                }\n\n                $tip.css(tp).addClass('tipsy-' + gravity);\n\n                if (this.options.fade) {\n                    $tip.stop().css({opacity: 0, display: 'block', visibility: 'visible'}).animate({opacity: this.options.opacity}, this.options.duration);\n                } else {\n                    $tip.css({visibility: 'visible', opacity: this.options.opacity});\n                }\n            }\n        },\n\n        hide: function() {\n            if (this.options.fade) {\n                this.tip().stop().fadeOut(this.options.duration, function() { $(this).remove(); });\n            } else {\n                this.tip().remove();\n            }\n        },\n\n        fixTitle: function() {\n            var $e = this.$element;\n            if ($e.attr('title') || typeof($e.attr('original-title')) != 'string') {\n                $e.attr('original-title', $e.attr('title') || '').removeAttr('title');\n            }\n        },\n\n        getTitle: function() {\n            var title, $e = this.$element, o = this.options;\n            this.fixTitle();\n            var title, o = this.options;\n            if (typeof o.title == 'string') {\n                title = $e.attr(o.title == 'title' ? 'original-title' : o.title);\n            } else if (typeof o.title == 'function') {\n                title = o.title.call($e[0]);\n            }\n            title = ('' + title).replace(/(^\\s*|\\s*$)/, \"\");\n            return title || o.fallback;\n        },\n\n        tip: function() {\n            if (!this.$tip) {\n                this.$tip = $('<div class=\"tipsy\"></div>').html('<div class=\"tipsy-arrow\"></div><div class=\"tipsy-inner\"></div>');\n            }\n\t\t\t\n            return this.$tip;\n        },\n\n        validate: function() {\n            if (!this.$element[0].parentNode) {\n                this.hide();\n                this.$element = null;\n                this.options = null;\n            }\n        },\n\n        enable: function() { this.enabled = true; },\n        disable: function() { this.enabled = false; },\n        toggleEnabled: function() { this.enabled = !this.enabled; }\n    };\n\n    $.fn.tipsy = function(options) {\n\n        if (options === true) {\n            return this.data('tipsy');\n        } else if (typeof options == 'string') {\n            var tipsy = this.data('tipsy');\n            if (tipsy) tipsy[options]();\n            return this;\n        }\n\n        options = $.extend({}, $.fn.tipsy.defaults, options);\n\n        function get(ele) {\n            var tipsy = $.data(ele, 'tipsy');\n            if (!tipsy) {\n                tipsy = new Tipsy(ele, $.fn.tipsy.elementOptions(ele, options));\n                $.data(ele, 'tipsy', tipsy);\n            }\n            return tipsy;\n        }\n\n        function enter() {\n            var tipsy = get(this);\n            tipsy.hoverState = 'in';\n            if (options.delayIn == 0) {\n                tipsy.show();\n            } else {\n                tipsy.fixTitle();\n                setTimeout(function() { if (tipsy.hoverState == 'in') tipsy.show(); }, options.delayIn);\n            }\n        };\n\n        function leave() {\n            var tipsy = get(this);\n            tipsy.hoverState = 'out';\n            if (options.delayOut == 0) {\n                tipsy.hide();\n            } else {\n                setTimeout(function() { if (tipsy.hoverState == 'out') tipsy.hide(); }, options.delayOut);\n            }\n        };\n\n        if (!options.live) this.each(function() { get(this); });\n\n        if (options.trigger != 'manual') {\n            var eventIn  = options.trigger == 'hover' ? 'mouseenter' : 'focus',\n                eventOut = options.trigger == 'hover' ? 'mouseleave' : 'blur';\n            if(options.live){\n                $(this.context).on(eventIn, this.selector, enter).on(eventOut, this.selector, leave);\n            } else {\n                this.on(eventIn, enter).on(eventOut, leave);\n            }\n        }\n\n        return this;\n\n    };\n\n    $.fn.tipsy.defaults = {\n        delayIn: 0,\n        delayOut: 20,\n        fade: false,\n        fallback: '',\n        gravity: 'n',\n        html: false,\n        live: false,\n        offset: 0,\n        opacity: 0.8,\n        title: 'title',\n        trigger: 'hover',\n\t\tduration: 100\n    };\n\n    // Overwrite this method to provide options on a per-element basis.\n    // For example, you could store the gravity in a 'tipsy-gravity' attribute:\n    // return $.extend({}, options, {gravity: $(ele).attr('tipsy-gravity') || 'n' });\n    // (remember - do not modify 'options' in place!)\n    $.fn.tipsy.elementOptions = function(ele, options) {\n        return $.metadata ? $.extend({}, options, $(ele).metadata()) : options;\n    };\n\n    $.fn.tipsy.autoNS = function() {\n        $('.tipsy').addClass('autoNS');\n        return $(this).offset().top > ($(document).scrollTop() + $(window).height() / 2) ? 's' : 'n';\n    };\n\n    $.fn.tipsy.autoWE = function() {\n        return $(this).offset().left > ($(document).scrollLeft() + $(window).width() / 2) ? 'e' : 'w';\n    };\n\n})(jQuery);\n","/*!\n * jQuery Cookie Plugin v1.4.1\n * https://github.com/carhartl/jquery-cookie\n *\n * Copyright 2013 Klaus Hartl\n * Released under the MIT license\n */\n(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object') {\n        // CommonJS\n        factory(require('jquery'));\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n\n    var pluses = /\\+/g;\n\n    function encode(s) {\n        return config.raw ? s : encodeURIComponent(s);\n    }\n\n    function decode(s) {\n        return config.raw ? s : decodeURIComponent(s);\n    }\n\n    function stringifyCookieValue(value) {\n        return encode(config.json ? JSON.stringify(value) : String(value));\n    }\n\n    function parseCookieValue(s) {\n        if (s.indexOf('\"') === 0) {\n            // This is a quoted cookie as according to RFC2068, unescape...\n            s = s.slice(1, -1).replace(/\\\\\"/g, '\"').replace(/\\\\\\\\/g, '\\\\');\n        }\n\n        try {\n            // Replace server-side written pluses with spaces.\n            // If we can't decode the cookie, ignore it, it's unusable.\n            // If we can't parse the cookie, ignore it, it's unusable.\n            s = decodeURIComponent(s.replace(pluses, ' '));\n            return config.json ? JSON.parse(s) : s;\n        } catch(e) {}\n    }\n\n    function read(s, converter) {\n        var value = config.raw ? s : parseCookieValue(s);\n        return $.isFunction(converter) ? converter(value) : value;\n    }\n\n    var config = $.cookie = function (key, value, options) {\n\n        // Write\n\n        if (value !== undefined && !$.isFunction(value)) {\n            options = $.extend({}, config.defaults, options);\n\n            if (typeof options.expires === 'number') {\n                var days = options.expires, t = options.expires = new Date();\n                t.setTime(+t + days * 864e+5);\n            }\n\n            return (document.cookie = [\n                encode(key), '=', stringifyCookieValue(value),\n                options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE\n                options.path    ? '; path=' + options.path : '',\n                options.domain  ? '; domain=' + options.domain : '',\n                options.secure  ? '; secure' : ''\n            ].join(''));\n        }\n\n        // Read\n\n        var result = key ? undefined : {};\n\n        // To prevent the for loop in the first place assign an empty array\n        // in case there are no cookies at all. Also prevents odd result when\n        // calling $.cookie().\n        var cookies = document.cookie ? document.cookie.split('; ') : [];\n\n        for (var i = 0, l = cookies.length; i < l; i++) {\n            var parts = cookies[i].split('=');\n            var name = decode(parts.shift());\n            var cookie = parts.join('=');\n\n            if (key && key === name) {\n                // If second argument (value) is a function it's a converter...\n                result = read(cookie, value);\n                break;\n            }\n\n            // Prevent storing a cookie that we couldn't decode.\n            if (!key && (cookie = read(cookie)) !== undefined) {\n                result[name] = cookie;\n            }\n        }\n\n        return result;\n    };\n\n    config.defaults = {};\n\n    $.removeCookie = function (key, options) {\n        if ($.cookie(key) === undefined) {\n            return false;\n        }\n\n        // Must not alter options, thus extending a fresh object...\n        $.cookie(key, '', $.extend({}, options, { expires: -1 }));\n        return !$.cookie(key);\n    };\n\n}));",";(function($) {\n    var cache = [];\n  \n    // Arguments are image paths relative to the current page.\n    $.preloadImages = function() {\n        var args_len = arguments.length;\n        \n        for (var i = args_len; i--;) {\n            var cacheImage = document.createElement('img');\n            cacheImage.src = arguments[i];\n            cache.push(cacheImage);\n        }\n    }\n})(jQuery);\n\n$.fn.disable = function () {\n    $(this).attr('disabled', true);\n    return $(this);\n}\n\n$.fn.enable = function () {\n    $(this).removeAttr('disabled');\n    return $(this);\n}\n\n$.fn.setCursorPosition = function (a) {\n    try{\n        if ($(this).get(0).setSelectionRange) {\n            $(this).get(0).setSelectionRange(a, a)\n        } else if ($(this).get(0).createTextRange) {\n            var b = $(this).get(0).createTextRange();\n            b.collapse(true);\n            b.moveEnd('character', a);\n            b.moveStart('character', a);\n            b.select()\n        }\n        \n        return $(this);\n    } catch(e) {}\n}\n\n$.fn.showPlaceholder = function() {\n    try{\n        var a = $(this);\n        var b = a.attr('title');\n    \n        if(a.val() === '' || a.val() === b) {\n            a.addClass('placeholder');\n            a.val(b);\n            \n            //if(a.hasClass('placeholder-onkeydown')) {\n            //    a.setCursorPosition(0);\n            //}\n        }\n\n        return $(this);\n    } catch(e) {}\n}\n        \n$.fn.hidePlaceholder = function() {\n    try{\n        var a = $(this);\n    \n        if((a.is('[title]') && a.val() === a.attr('title')) || a.val() === a.attr('original-title')) {\n            a.removeClass('placeholder');\n            a.val('');\n        }\n        \n        return $(this);\n    } catch(e) {}\n}\n\n$.fn.selectAll = function() {\n    var $me = $(this);\n\n    try{\n        if(!$me.is(':focus')) {\n            _.defer(function() {\n                $me.focus();\n            });\n        }\n\n        $me.select();\n    } catch(e) {}\n}\n\n$.getScript = function(url, callback, cache){\n    $.ajax({\n        type: \"GET\",\n        url: url,\n        success: callback,\n        dataType: \"script\",\n        cache: cache\n    });\n};\n\n$.fn.number_format = function(){ \n    return this.each(function(){ \n        $(this).text( $(this).text().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\") ); \n    })\n};\n","(function($) {\n  var defaults;\n  $.event.fix = (function(originalFix) {\n    return function(event) {\n      event = originalFix.apply(this, arguments);\n      if (event.type.indexOf('copy') === 0 || event.type.indexOf('paste') === 0) {\n        event.clipboardData = event.originalEvent.clipboardData;\n      }\n      return event;\n    };\n  })($.event.fix);\n  defaults = {\n    preventPropagation: false,\n    callback: $.noop,\n    matchType: /image.*/\n  };\n  return $.fn.pasteImageReader = function(options) {\n    if (typeof options === \"function\") {\n      options = {\n        callback: options\n      };\n    }\n    options = $.extend({}, defaults, options);\n    return this.each(function() {\n      var $this, element;\n      element = this;\n      $this = $(this);\n      return $this.bind('paste', function(event) {\n        var clipboardData;\n        items = (event.clipboardData && event.clipboardData.items) || (window.clipboardData && window.clipboardData.files);\n        return jQuery.each(items, function(i, item) {\n          var file, reader;\n\n          if (item.type.match(options.matchType)) {\n            if(item instanceof File) {\n                file = items[i]; \n            } else {\n                file = items[i].getAsFile();\n            }\n\n            reader = new FileReader();\n            reader.onload = function(e) {\n              options.callback.call(element, {\n                dataURL: \te.target.result,\n                event: \t\te,\n                file: \t\tfile,\n                name: \t\tfile.name\n              });\n            };\n            reader.readAsDataURL(file);\n\n            if(options.preventPropagation) {\n                event.stopPropagation();\n            }\n            return false;\n          }\n        });\n      });\n    });\n  };\n})(jQuery);\n","/*\n\nTooltipster 2.2.3 | 10/29/13\nA rockin' custom tooltip jQuery plugin\n\nDeveloped by Caleb Jacob uner the MIT license http://opensource.org/licenses/MIT\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n;(function ($, window, document, undefined) {\n\n\tvar pluginName = \"tooltipster\",\n\t\tdefaults = {\n\t\t\tanimation: 'fade',\n\t\t\tarrow: true,\n\t\t\tarrowColor: '',\n\t\t\tcontent: '',\n\t\t\tdelay: 200,\n\t\t\tfixedWidth: 0,\n\t\t\tmaxWidth: 0,\n\t\t\tfunctionInit: function(origin, content) {},\n\t\t\tfunctionBefore: function(origin, continueTooltip) {\n\t\t\t\tcontinueTooltip();\n\t\t\t},\n\t\t\tfunctionReady: function(origin, tooltip) {},\n\t\t\tfunctionAfter: function(origin) {},\n\t\t\ticon: '(?)',\n\t\t\ticonDesktop: false,\n\t\t\ticonTouch: false,\n\t\t\ticonTheme: '.tooltipster-icon',\n\t\t\tinteractive: false,\n\t\t\tinteractiveTolerance: 350,\n\t\t\tinteractiveAutoClose: true,\n\t\t\toffsetX: 0,\n\t\t\toffsetY: 0,\n\t\t\tonlyOne: true,\n\t\t\tposition: 'top',\n\t\t\tspeed: 350,\n\t\t\ttimer: 0,\n\t\t\ttheme: '.tooltipster-default',\n\t\t\ttouchDevices: true,\n\t\t\ttrigger: 'hover',\n\t\t\tupdateAnimation: true\n\t\t};\n\t\n\tfunction Plugin(element, options) {\n\t\tthis.element = element;\n\t\t\n\t\tthis.options = $.extend( {}, defaults, options );\n\t\t\n\t\tthis._defaults = defaults;\n\t\tthis._name = pluginName;\n\t\t\n\t\tthis.init();\n\t}\n\t\n\t// we'll use this to detect for mobile devices\n\tfunction is_touch_device() {\n\t\treturn !!('ontouchstart' in window);\n\t}\n\n\t// detecting support for CSS transitions\n\tfunction supportsTransitions() {\n\t\tvar b = document.body || document.documentElement;\n\t\tvar s = b.style;\n\t\tvar p = 'transition';\n\t\tif(typeof s[p] == 'string') {return true; }\n\n\t\tv = ['Moz', 'Webkit', 'Khtml', 'O', 'ms'],\n\t\tp = p.charAt(0).toUpperCase() + p.substr(1);\n\t\tfor(var i=0; i<v.length; i++) {\n\t\t\tif(typeof s[v[i] + p] == 'string') { return true; }\n\t\t}\n\t\treturn false;\n\t}\n\tvar transitionSupport = true;\n\tif (!supportsTransitions()) {\n\t\ttransitionSupport = false;\n\t}\n\n\t// detect if this device is mouse driven over purely touch\n\tvar touchDevice = is_touch_device();\n\n\t// on mousemove, double confirm that this is a desktop - not a touch device\n\t$(window).on('mousemove.tooltipster', function() {\n\t\ttouchDevice = false;\n\t\t$(window).off('mousemove.tooltipster');\n\t});\n\n\tPlugin.prototype = {\n\t\t\n\t\tinit: function() {\n\t\t\tvar $this = $(this.element);\n\t\t\tvar object = this;\n\t\t\tvar run = true;\n\t\t\t\n\t\t\t// if this is a touch device and touch devices are disabled, disable the plugin\n\t\t\tif (!object.options.touchDevices && touchDevice) {\n\t\t\t\trun = false;\n\t\t\t}\n\t\t\t\n\t\t\t// if IE7 or lower, disable the plugin\n\t\t\tif (document.all && !document.querySelector) {\n\t\t\t\trun = false;\n\t\t\t}\n\n\t\t\tif (run) {\n\t\t\t\t// first, strip the title off of the element and set it as a data attribute to prevent the default tooltips from popping up\n\t\t\t\tvar tooltipsterContent = $.trim(object.options.content).length > 0 ? object.options.content : $this.attr('title');\n\t\t\t\t\n\t\t\t\tvar c = object.options.functionInit($this, tooltipsterContent);\n\t\t\t\tif(c) tooltipsterContent = c;\n\t\t\t\t\n\t\t\t\t$this.data('tooltipsterContent', tooltipsterContent);\n\t\t\t\t$this.removeAttr('title');\n\n\t\t\t\t// detect if we're changing the tooltip origin to an icon\n\t\t\t\tif ((object.options.iconDesktop) && (!touchDevice) || ((object.options.iconTouch) && (touchDevice))) {\n\t\t\t\t\tvar theme = object.options.iconTheme;\n\t\t\t\t\tvar icon = $('<span class=\"'+ theme.replace('.', '') +'\"></span>');\n\t\t\t\t\ticon\n\t\t\t\t\t\t.data('tooltipsterContent', tooltipsterContent)\n\t\t\t\t\t\t.append(object.options.icon)\n\t\t\t\t\t\t.insertAfter($this);\n\t\t\t\t\t$this.data('tooltipsterIcon', icon);\n\t\t\t\t\t$this = icon;\n\t\t\t\t}\n\n\t\t\t\t// if this is a touch device, add some touch events to launch the tooltip\n\t\t\t\tif ((object.options.touchDevices) && (touchDevice) && ((object.options.trigger == 'click') || (object.options.trigger == 'hover'))) {\n\t\t\t\t\t$this.on('touchstart.tooltipster', function(element, options) {\n\t\t\t\t\t\tobject.showTooltip();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// if this is a desktop, deal with adding regular mouse events\n\t\t\t\telse {\n\t\t\t\t\n\t\t\t\t\t// if hover events are set to show and hide the tooltip, attach those events respectively\n\t\t\t\t\tif (object.options.trigger == 'hover') {\n\t\t\t\t\t\t$this.on('mouseenter.tooltipster', function() {\n\t\t\t\t\t\t\tobject.showTooltip();\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t// if this is an interactive tooltip, delay getting rid of the tooltip right away so you have a chance to hover on the tooltip\n\t\t\t\t\t\tif (object.options.interactive) {\n\t\t\t\t\t\t\t$this.on('mouseleave.tooltipster', function() {\n\t\t\t\t\t\t\t\tvar tooltipster = $this.data('tooltipster');\n\t\t\t\t\t\t\t\tvar keepAlive = false;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif ((tooltipster !== undefined) && (tooltipster !== '')) {\n\t\t\t\t\t\t\t\t\ttooltipster.mouseenter(function() {\n\t\t\t\t\t\t\t\t\t\tkeepAlive = true;\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\ttooltipster.mouseleave(function() {\n\t\t\t\t\t\t\t\t\t\tkeepAlive = false;\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tvar tolerance = setTimeout(function() {\n\n\t\t\t\t\t\t\t\t\t\tif (keepAlive) {\n\t\t\t\t\t\t\t\t\t\t\tif (object.options.interactiveAutoClose) {\n\t\t\t\t\t\t\t\t\t\t\t\ttooltipster.find('select').on('change', function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\tobject.hideTooltip();\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\t\ttooltipster.mouseleave(function(e) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar $target = $(e.target);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ($target.parents('.tooltipster-base').length === 0 || $target.hasClass('tooltipster-base')) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tobject.hideTooltip();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$target.on('mouseleave', function(e) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tobject.hideTooltip();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\tobject.hideTooltip();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}, object.options.interactiveTolerance);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tobject.hideTooltip();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// if this is a dumb tooltip, just get rid of it on mouseleave\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t$this.on('mouseleave.tooltipster', function() {\n\t\t\t\t\t\t\t\tobject.hideTooltip();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// if click events are set to show and hide the tooltip, attach those events respectively\n\t\t\t\t\tif (object.options.trigger == 'click') {\n\t\t\t\t\t\t$this.on('click.tooltipster', function() {\n\t\t\t\t\t\t\tif (($this.data('tooltipster') === '') || ($this.data('tooltipster') === undefined)) {\n\t\t\t\t\t\t\t\tobject.showTooltip();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tobject.hideTooltip();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\tshowTooltip: function(options) {\n\t\t\tvar $this = $(this.element);\n\t\t\tvar object = this;\n\t\t\t\t\t\t\n\t\t\t// detect if we're actually dealing with an icon or the origin itself\n\t\t\tif ($this.data('tooltipsterIcon') !== undefined) {\n\t\t\t\t$this = $this.data('tooltipsterIcon');\n\t\t\t}\n\t\t\t\n\t\t\t// continue if this tooltip is enabled\n\t\t\tif (!$this.hasClass('tooltipster-disable')) {\n\t\t\t\n\t\t\t\t// if we only want one tooltip open at a time, close all tooltips currently open\n\t\t\t\tif (($('.tooltipster-base').not('.tooltipster-dying').length > 0) && (object.options.onlyOne)) {\n\t\t\t\t\t$('.tooltipster-base').not('.tooltipster-dying').not($this.data('tooltipster')).each(function() {\n\t\t\t\t\t\t$(this).addClass('tooltipster-kill');\n\t\t\t\t\t\tvar origin = $(this).data('origin');\n\t\t\t\t\t\torigin.data('plugin_tooltipster').hideTooltip();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t// delay the showing of the tooltip according to the delay time\n\t\t\t\t$this.clearQueue().delay(object.options.delay).queue(function() {\n\t\t\t\t\n\t\t\t\t\t// call our custom function before continuing\n\t\t\t\t\tobject.options.functionBefore($this, function() {\n\t\t\t\t\t\t\n\t\t\t\t\t\t// if this origin already has its tooltip open, keep it open and do nothing else\n\t\t\t\t\t\tif (($this.data('tooltipster') !== undefined) && ($this.data('tooltipster') !== '')) {\n\t\t\t\t\t\t\tvar tooltipster = $this.data('tooltipster');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (!tooltipster.hasClass('tooltipster-kill')) {\n\t\n\t\t\t\t\t\t\t\tvar animation = 'tooltipster-'+ object.options.animation;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\ttooltipster.removeClass('tooltipster-dying');\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (transitionSupport) {\n\t\t\t\t\t\t\t\t\ttooltipster.clearQueue().addClass(animation +'-show');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// if we have a timer set, we need to reset it\n\t\t\t\t\t\t\t\tif (object.options.timer > 0) {\n\t\t\t\t\t\t\t\t\tvar timer = tooltipster.data('tooltipsterTimer');\n\t\t\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\ttimer = setTimeout(function() {\n\t\t\t\t\t\t\t\t\t\ttooltipster.data('tooltipsterTimer', undefined);\n\t\t\t\t\t\t\t\t\t\tobject.hideTooltip();\n\t\t\t\t\t\t\t\t\t}, object.options.timer);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\ttooltipster.data('tooltipsterTimer', timer);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// if this is a touch device, hide the tooltip on body touch\n\t\t\t\t\t\t\t\tif ((object.options.touchDevices) && (touchDevice)) {\n\t\t\t\t\t\t\t\t\t$('body').bind('touchstart', function(event) {\n\t\t\t\t\t\t\t\t\t\tif (object.options.interactive) {\n\t\t\t\t\t\t\t\t\t\t\tvar touchTarget = $(event.target);\n\t\t\t\t\t\t\t\t\t\t\tvar closeTooltip = true;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\ttouchTarget.parents().each(function() {\n\t\t\t\t\t\t\t\t\t\t\t\tif ($(this).hasClass('tooltipster-base')) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcloseTooltip = false;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tif (closeTooltip) {\n\t\t\t\t\t\t\t\t\t\t\t\tobject.hideTooltip();\n\t\t\t\t\t\t\t\t\t\t\t\t$('body').unbind('touchstart');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\tobject.hideTooltip();\n\t\t\t\t\t\t\t\t\t\t\t$('body').unbind('touchstart');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// if the tooltip isn't already open, open that sucker up!\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// disable horizontal scrollbar to keep overflowing tooltips from jacking with it and then restore it to it's previous value\n\t\t\t\t\t\t\tobject.options._bodyOverflowX = $('body').css('overflow-x');\n\t\t\t\t\t\t\t$('body').css('overflow-x', 'hidden');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// get the content for the tooltip\n\t\t\t\t\t\t\tvar content = object.getContent($this);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// get some other settings related to building the tooltip\n\t\t\t\t\t\t\tvar theme = object.options.theme;\n\t\t\t\t\t\t\tvar themeClass = theme.replace('.', '');\n\t\t\t\t\t\t\tvar animation = 'tooltipster-' + object.options.animation;\n\t\t\t\t\t\t\tvar animationSpeed = '-webkit-transition-duration: '+ object.options.speed +'ms; -webkit-animation-duration: '+ object.options.speed +'ms; -moz-transition-duration: '+ object.options.speed +'ms; -moz-animation-duration: '+ object.options.speed +'ms; -o-transition-duration: '+ object.options.speed +'ms; -o-animation-duration: '+ object.options.speed +'ms; -ms-transition-duration: '+ object.options.speed +'ms; -ms-animation-duration: '+ object.options.speed +'ms; transition-duration: '+ object.options.speed +'ms; animation-duration: '+ object.options.speed +'ms;';\n\t\t\t\t\t\t\tvar fixedWidth = object.options.fixedWidth > 0 ? 'width:'+ Math.round(object.options.fixedWidth) +'px;' : '';\n\t\t\t\t\t\t\tvar maxWidth = object.options.maxWidth > 0 ? 'max-width:'+ Math.round(object.options.maxWidth) +'px;' : '';\n\t\t\t\t\t\t\tvar pointerEvents = object.options.interactive ? 'pointer-events: auto;' : '';\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// build the base of our tooltip\n\t\t\t\t\t\t\tvar tooltipster = $('<div class=\"tooltipster-base '+ themeClass +' '+ animation +'\" style=\"'+ fixedWidth +' '+ maxWidth +' '+ pointerEvents +' '+ animationSpeed +'\"></div>');\n\t\t\t\t\t\t\tvar tooltipsterHTML = $('<div class=\"tooltipster-content\"></div>');\n\t\t\t\t\t\t\ttooltipsterHTML.html(content);\n\t\t\t\t\t\t\ttooltipster.append(tooltipsterHTML);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttooltipster.appendTo('body');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// attach the tooltip to its origin\n\t\t\t\t\t\t\t$this.data('tooltipster', tooltipster);\n\t\t\t\t\t\t\ttooltipster.data('origin', $this);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// do all the crazy calculations and positioning\n\t\t\t\t\t\t\tobject.positionTooltip();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// call our custom callback since the content of the tooltip is now part of the DOM\n\t\t\t\t\t\t\tobject.options.functionReady($this, tooltipster);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// animate in the tooltip\n\t\t\t\t\t\t\tif (transitionSupport) {\n\t\t\t\t\t\t\t\ttooltipster.addClass(animation + '-show');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\ttooltipster.css('display', 'none').removeClass(animation).fadeIn(object.options.speed);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// check to see if our tooltip content changes or its origin is removed while the tooltip is alive\n\t\t\t\t\t\t\tvar currentTooltipContent = content;\n\t\t\t\t\t\t\tvar contentUpdateChecker = setInterval(function() {\n\t\t\t\t\t\t\t\tvar newTooltipContent = object.getContent($this);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// if this tooltip's origin is removed, remove the tooltip\n\t\t\t\t\t\t\t\tif ($('body').find($this).length === 0) {\n\t\t\t\t\t\t\t\t\ttooltipster.addClass('tooltipster-dying');\n\t\t\t\t\t\t\t\t\tobject.hideTooltip();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// if the content changed for the tooltip, update it\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\telse if ((currentTooltipContent !== newTooltipContent) && (newTooltipContent !== '')) {\n\t\t\t\t\t\t\t\t\tcurrentTooltipContent = newTooltipContent;\n\n\t\t\t\t\t\t\t\t\t// set the new content in the tooltip\n\t\t\t\t\t\t\t\t\ttooltipster.find('.tooltipster-content').html(newTooltipContent);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t// if we want to play a little animation showing the content changed\n\t\t\t\t\t\t\t\t\tif (object.options.updateAnimation) {\n\t\t\t\t\t\t\t\t\t\tif (supportsTransitions()) {\n\t\t\t\t\t\t\t\t\t\t\ttooltipster.css({\n\t\t\t\t\t\t\t\t\t\t\t\t'width': '',\n\t\t\t\t\t\t\t\t\t\t\t\t'-webkit-transition': 'all ' + object.options.speed + 'ms, width 0ms, height 0ms, left 0ms, top 0ms',\n\t\t\t\t\t\t\t\t\t\t\t\t'-moz-transition': 'all ' + object.options.speed + 'ms, width 0ms, height 0ms, left 0ms, top 0ms',\n\t\t\t\t\t\t\t\t\t\t\t\t'-o-transition': 'all ' + object.options.speed + 'ms, width 0ms, height 0ms, left 0ms, top 0ms',\n\t\t\t\t\t\t\t\t\t\t\t\t'-ms-transition': 'all ' + object.options.speed + 'ms, width 0ms, height 0ms, left 0ms, top 0ms',\n\t\t\t\t\t\t\t\t\t\t\t\t'transition': 'all ' + object.options.speed + 'ms, width 0ms, height 0ms, left 0ms, top 0ms'\n\t\t\t\t\t\t\t\t\t\t\t}).addClass('tooltipster-content-changing');\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t// reset the CSS transitions and finish the change animation\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\t\ttooltipster.removeClass('tooltipster-content-changing');\n\t\t\t\t\t\t\t\t\t\t\t\t// after the changing animation has completed, reset the CSS transitions\n\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltipster.css({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'-webkit-transition': object.options.speed + 'ms',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'-moz-transition': object.options.speed + 'ms',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'-o-transition': object.options.speed + 'ms',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'-ms-transition': object.options.speed + 'ms',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'transition': object.options.speed + 'ms'\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}, object.options.speed);\n\t\t\t\t\t\t\t\t\t\t\t}, object.options.speed);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\ttooltipster.fadeTo(object.options.speed, 0.5, function() {\n\t\t\t\t\t\t\t\t\t\t\t\ttooltipster.fadeTo(object.options.speed, 1);\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t// reposition and resize the tooltip\n\t\t\t\t\t\t\t\t\tobject.positionTooltip();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// if the tooltip is closed or origin is removed, clear this interval\n\t\t\t\t\t\t\t\tif (($('body').find(tooltipster).length === 0) || ($('body').find($this).length === 0)) {\n\t\t\t\t\t\t\t\t\tclearInterval(contentUpdateChecker);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 200);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// if we have a timer set, let the countdown begin!\n\t\t\t\t\t\t\tif (object.options.timer > 0) {\n\t\t\t\t\t\t\t\tvar timer = setTimeout(function() {\n\t\t\t\t\t\t\t\t\ttooltipster.data('tooltipsterTimer', undefined);\n\t\t\t\t\t\t\t\t\tobject.hideTooltip();\n\t\t\t\t\t\t\t\t}, object.options.timer + object.options.speed);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\ttooltipster.data('tooltipsterTimer', timer);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// if this is a touch device, hide the tooltip on body touch\n\t\t\t\t\t\t\tif ((object.options.touchDevices) && (touchDevice)) {\n\t\t\t\t\t\t\t\t$('body').bind('touchstart', function(event) {\n\t\t\t\t\t\t\t\t\tif (object.options.interactive) {\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tvar touchTarget = $(event.target);\n\t\t\t\t\t\t\t\t\t\tvar closeTooltip = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\ttouchTarget.parents().each(function() {\n\t\t\t\t\t\t\t\t\t\t\tif ($(this).hasClass('tooltipster-base')) {\n\t\t\t\t\t\t\t\t\t\t\t\tcloseTooltip = false;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tif (closeTooltip) {\n\t\t\t\t\t\t\t\t\t\t\tobject.hideTooltip();\n\t\t\t\t\t\t\t\t\t\t\t$('body').unbind('touchstart');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\tobject.hideTooltip();\n\t\t\t\t\t\t\t\t\t\t$('body').unbind('touchstart');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t$this.dequeue();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t\n\t\thideTooltip: function(options) {\n\t\t\t\t\t\t\n\t\t\tvar $this = $(this.element);\n\t\t\tvar object = this;\n\t\t\t\n\t\t\t// detect if we're actually dealing with an icon or the origin itself\n\t\t\tif ($this.data('tooltipsterIcon') !== undefined) {\n\t\t\t\t$this = $this.data('tooltipsterIcon');\n\t\t\t}\n\t\t\t\n\t\t\tvar tooltipster = $this.data('tooltipster');\n\t\t\t\n\t\t\t// if the origin has been removed, find all tooltips assigned to death\n\t\t\tif (tooltipster === undefined) {\n\t\t\t\ttooltipster = $('.tooltipster-dying');\n\t\t\t}\n\t\t\t\n\t\t\t// clear any possible queues handling delays and such\n\t\t\t$this.clearQueue();\n\t\t\t\n\t\t\tif ((tooltipster !== undefined) && (tooltipster !== '')) {\n\t\t\t\t\n\t\t\t\t// detect if we need to clear a timer\n\t\t\t\tvar timer = tooltipster.data('tooltipsterTimer');\n\t\t\t\tif (timer !== undefined) {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t}\n\n\t\t\t\tvar animation = 'tooltipster-'+ object.options.animation;\n\t\t\t\t\n\t\t\t\tif (transitionSupport) {\n\t\t\t\t\ttooltipster.clearQueue().removeClass(animation +'-show').addClass('tooltipster-dying').delay(object.options.speed).queue(function() {\n\t\t\t\t\t\ttooltipster.remove();\n\t\t\t\t\t\t$this.data('tooltipster', '');\n\t\t\t\t\t\t$('body').css('overflow-x', object.options._bodyOverflowX);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// finally, call our custom callback function\n\t\t\t\t\t\tobject.options.functionAfter($this);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttooltipster.clearQueue().addClass('tooltipster-dying').fadeOut(object.options.speed, function() {\n\t\t\t\t\t\ttooltipster.remove();\n\t\t\t\t\t\t$this.data('tooltipster', '');\n\t\t\t\t\t\t$('body').css('overflow-x', object.options._bodyOverflowX);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// finally, call our custom callback function\n\t\t\t\t\t\tobject.options.functionAfter($this);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tpositionTooltip: function(options) {\n\n\t\t\tvar $this = $(this.element);\n\t\t\tvar object = this;\n\t\t\t\t\t\t\t\t\t\n\t\t\t// detect if we're actually dealing with an icon or the origin itself\n\t\t\tif ($this.data('tooltipsterIcon') !== undefined) {\n\t\t\t\t$this = $this.data('tooltipsterIcon');\n\t\t\t}\n\t\t\t\n\t\t\tif (($this.data('tooltipster') !== undefined) && ($this.data('tooltipster') !== '')) {\n\t\t\t\t\t\t\n\t\t\t\t// find tooltipster and reset its width\n\t\t\t\tvar tooltipster = $this.data('tooltipster');\n\t\t\t\ttooltipster.css('width', '');\n\t\t\t\t\n\t\t\t\t// find variables to determine placement\n\t\t\t\tvar windowWidth = $(window).width();\n\t\t\t\tvar containerWidth = $this.outerWidth(false);\n\t\t\t\tvar containerHeight = $this.outerHeight(false);\n\t\t\t\tvar tooltipWidth = tooltipster.outerWidth(false);\n\t\t\t\tvar tooltipInnerWidth = tooltipster.innerWidth() + 1; // this +1 stops FireFox from sometimes forcing an additional text line\n\t\t\t\tvar tooltipHeight = tooltipster.outerHeight(false);\n\t\t\t\tvar offset = $this.offset();\n\t\t\t\tvar offsetTop = offset.top;\n\t\t\t\tvar offsetLeft = offset.left;\n\t\t\t\tvar resetPosition = undefined;\n\t\t\t\t\n\t\t\t\t// if this is an <area> tag inside a <map>, all hell breaks loose. Recaclulate all the measurements based on coordinates\n\t\t\t\tif ($this.is('area')) {\n\t\t\t\t\tvar areaShape = $this.attr('shape');\n\t\t\t\t\tvar mapName = $this.parent().attr('name');\n\t\t\t\t\tvar map = $('img[usemap=\"#'+ mapName +'\"]');\n\t\t\t\t\tvar mapOffsetLeft = map.offset().left;\n\t\t\t\t\tvar mapOffsetTop = map.offset().top;\n\t\t\t\t\tvar areaMeasurements = $this.attr('coords') !== undefined ? $this.attr('coords').split(',') : undefined;\n\t\t\t\t\t\n\t\t\t\t\tif (areaShape == 'circle') {\n\t\t\t\t\t\tvar areaLeft = parseInt(areaMeasurements[0]);\n\t\t\t\t\t\tvar areaTop = parseInt(areaMeasurements[1]);\n\t\t\t\t\t\tvar areaWidth = parseInt(areaMeasurements[2]);\n\t\t\t\t\t\tcontainerHeight = areaWidth * 2;\n\t\t\t\t\t\tcontainerWidth = areaWidth * 2;\n\t\t\t\t\t\toffsetTop = mapOffsetTop + areaTop - areaWidth;\n\t\t\t\t\t\toffsetLeft = mapOffsetLeft + areaLeft - areaWidth;\n\t\t\t\t\t}\n\t\t\t\t\telse if (areaShape == 'rect') {\n\t\t\t\t\t\tvar areaLeft = parseInt(areaMeasurements[0]);\n\t\t\t\t\t\tvar areaTop = parseInt(areaMeasurements[1]);\n\t\t\t\t\t\tvar areaRight = parseInt(areaMeasurements[2]);\n\t\t\t\t\t\tvar areaBottom = parseInt(areaMeasurements[3]);\n\t\t\t\t\t\tcontainerHeight = areaBottom - areaTop;\n\t\t\t\t\t\tcontainerWidth = areaRight - areaLeft;\n\t\t\t\t\t\toffsetTop = mapOffsetTop + areaTop;\n\t\t\t\t\t\toffsetLeft = mapOffsetLeft + areaLeft;\n\t\t\t\t\t}\n\t\t\t\t\telse if (areaShape == 'poly') {\n\t\t\t\t\t\tvar areaXs = [];\n\t\t\t\t\t\tvar areaYs = [];\n\t\t\t\t\t\tvar areaSmallestX = 0,\n\t\t\t\t\t\t\tareaSmallestY = 0,\n\t\t\t\t\t\t\tareaGreatestX = 0,\n\t\t\t\t\t\t\tareaGreatestY = 0;\n\t\t\t\t\t\tvar arrayAlternate = 'even';\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor (i = 0; i < areaMeasurements.length; i++) {\n\t\t\t\t\t\t\tvar areaNumber = parseInt(areaMeasurements[i]);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (arrayAlternate == 'even') {\n\t\t\t\t\t\t\t\tif (areaNumber > areaGreatestX) {\n\t\t\t\t\t\t\t\t\tareaGreatestX = areaNumber;\n\t\t\t\t\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\t\t\t\t\tareaSmallestX = areaGreatestX;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (areaNumber < areaSmallestX) {\n\t\t\t\t\t\t\t\t\tareaSmallestX = areaNumber;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tarrayAlternate = 'odd';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tif (areaNumber > areaGreatestY) {\n\t\t\t\t\t\t\t\t\tareaGreatestY = areaNumber;\n\t\t\t\t\t\t\t\t\tif (i == 1) {\n\t\t\t\t\t\t\t\t\t\tareaSmallestY = areaGreatestY;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (areaNumber < areaSmallestY) {\n\t\t\t\t\t\t\t\t\tareaSmallestY = areaNumber;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tarrayAlternate = 'even';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\tcontainerHeight = areaGreatestY - areaSmallestY;\n\t\t\t\t\t\tcontainerWidth = areaGreatestX - areaSmallestX;\n\t\t\t\t\t\toffsetTop = mapOffsetTop + areaSmallestY;\n\t\t\t\t\t\toffsetLeft = mapOffsetLeft + areaSmallestX;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcontainerHeight = map.outerHeight(false);\n\t\t\t\t\t\tcontainerWidth = map.outerWidth(false);\n\t\t\t\t\t\toffsetTop = mapOffsetTop;\n\t\t\t\t\t\toffsetLeft = mapOffsetLeft;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t// hardcoding the width and removing the padding fixed an issue with the tooltip width collapsing when the window size is small\n\t\t\t\tif(object.options.fixedWidth === 0) {\n\t\t\t\t\ttooltipster.css({\n\t\t\t\t\t\t'width': Math.round(tooltipInnerWidth) + 'px',\n\t\t\t\t\t\t'padding-left': '0px',\n\t\t\t\t\t\t'padding-right': '0px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// our function and global vars for positioning our tooltip\n\t\t\t\tvar myLeft = 0,\n\t\t\t\t\tmyLeftMirror = 0,\n\t\t\t\t\tmyTop = 0;\n\t\t\t\tvar offsetY = parseInt(object.options.offsetY);\n\t\t\t\tvar offsetX = parseInt(object.options.offsetX);\n\t\t\t\tvar arrowConstruct = '';\n\t\t\t\t\n\t\t\t\t// A function to detect if the tooltip is going off the screen horizontally. If so, reposition the crap out of it!\n\t\t\t\tfunction dontGoOffScreenX() {\n\t\t\t\t\n\t\t\t\t\tvar windowLeft = $(window).scrollLeft();\n\t\t\t\t\t\n\t\t\t\t\t// If the tooltip goes off the left side of the screen, line it up with the left side of the window\n\t\t\t\t\tif((myLeft - windowLeft) < 0) {\n\t\t\t\t\t\tvar arrowReposition = myLeft - windowLeft;\n\t\t\t\t\t\tmyLeft = windowLeft;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\ttooltipster.data('arrow-reposition', arrowReposition);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// If the tooltip goes off the right of the screen, line it up with the right side of the window\n\t\t\t\t\tif (((myLeft + tooltipWidth) - windowLeft) > windowWidth) {\n\t\t\t\t\t\tvar arrowReposition = myLeft - ((windowWidth + windowLeft) - tooltipWidth);\n\t\t\t\t\t\tmyLeft = (windowWidth + windowLeft) - tooltipWidth;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\ttooltipster.data('arrow-reposition', arrowReposition);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// A function to detect if the tooltip is going off the screen vertically. If so, switch to the opposite!\n\t\t\t\tfunction dontGoOffScreenY(switchTo, resetTo) {\n\t\t\t\t\t// if it goes off the top off the page\n\t\t\t\t\tif(((offsetTop - $(window).scrollTop() - tooltipHeight - offsetY - 12) < 0) && (resetTo.indexOf('top') > -1)) {\n\t\t\t\t\t\tobject.options.position = switchTo;\n\t\t\t\t\t\tresetPosition = resetTo;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// if it goes off the bottom of the page\n\t\t\t\t\tif (((offsetTop + containerHeight + tooltipHeight + 12 + offsetY) > ($(window).scrollTop() + $(window).height())) && (resetTo.indexOf('bottom') > -1)) {\n\t\t\t\t\t\tobject.options.position = switchTo;\n\t\t\t\t\t\tresetPosition = resetTo;\n\t\t\t\t\t\tmyTop = (offsetTop - tooltipHeight) - offsetY - 12;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\tif(object.options.position == 'top') {\n\t\t\t\t\tvar leftDifference = (offsetLeft + tooltipWidth) - (offsetLeft + containerWidth);\n\t\t\t\t\tmyLeft =  (offsetLeft + offsetX) - (leftDifference / 2);\n\t\t\t\t\tmyTop = (offsetTop - tooltipHeight) - offsetY - 12;\n\t\t\t\t\tdontGoOffScreenX();\n\t\t\t\t\tdontGoOffScreenY('bottom', 'top');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(object.options.position == 'top-left') {\n\t\t\t\t\tmyLeft = offsetLeft + offsetX;\n\t\t\t\t\tmyTop = (offsetTop - tooltipHeight) - offsetY - 12;\n\t\t\t\t\tdontGoOffScreenX();\n\t\t\t\t\tdontGoOffScreenY('bottom-left', 'top-left');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(object.options.position == 'top-right') {\n\t\t\t\t\tmyLeft = (offsetLeft + containerWidth + offsetX) - tooltipWidth;\n\t\t\t\t\tmyTop = (offsetTop - tooltipHeight) - offsetY - 12;\n\t\t\t\t\tdontGoOffScreenX();\n\t\t\t\t\tdontGoOffScreenY('bottom-right', 'top-right');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(object.options.position == 'bottom') {\n\t\t\t\t\tvar leftDifference = (offsetLeft + tooltipWidth) - (offsetLeft + containerWidth);\n\t\t\t\t\tmyLeft =  offsetLeft - (leftDifference / 2) + offsetX;\n\t\t\t\t\tmyTop = (offsetTop + containerHeight) + offsetY + 12;\n\t\t\t\t\tdontGoOffScreenX();\n\t\t\t\t\tdontGoOffScreenY('top', 'bottom');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(object.options.position == 'bottom-left') {\n\t\t\t\t\tmyLeft = offsetLeft + offsetX;\n\t\t\t\t\tmyTop = (offsetTop + containerHeight) + offsetY + 12;\n\t\t\t\t\tdontGoOffScreenX();\n\t\t\t\t\tdontGoOffScreenY('top-left', 'bottom-left');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(object.options.position == 'bottom-right') {\n\t\t\t\t\tmyLeft = (offsetLeft + containerWidth + offsetX) - tooltipWidth;\n\t\t\t\t\tmyTop = (offsetTop + containerHeight) + offsetY + 12;\n\t\t\t\t\tdontGoOffScreenX();\n\t\t\t\t\tdontGoOffScreenY('top-right', 'bottom-right');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(object.options.position == 'left') {\n\t\t\t\t\tmyLeft = offsetLeft - offsetX - tooltipWidth - 12;\n\t\t\t\t\tmyLeftMirror = offsetLeft + offsetX + containerWidth + 12;\n\t\t\t\t\tvar topDifference = (offsetTop + tooltipHeight) - (offsetTop + $this.outerHeight(false));\n\t\t\t\t\tmyTop =  offsetTop - (topDifference / 2) - offsetY;\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t// If the tooltip goes off boths sides of the page\n\t\t\t\t\tif((myLeft < 0) && ((myLeftMirror + tooltipWidth) > windowWidth)) {\n\t\t\t\t\t\tvar borderWidth = parseFloat(tooltipster.css('border-width')) * 2;\n\t\t\t\t\t\tvar newWidth = (tooltipWidth + myLeft) - borderWidth;\n\t\t\t\t\t\ttooltipster.css('width', newWidth + 'px');\n\t\t\t\t\t\t\n\t\t\t\t\t\ttooltipHeight = tooltipster.outerHeight(false);\n\t\t\t\t\t\tmyLeft = offsetLeft - offsetX - newWidth - 12 - borderWidth;\n\t\t\t\t\t\ttopDifference = (offsetTop + tooltipHeight) - (offsetTop + $this.outerHeight(false));\n\t\t\t\t\t\tmyTop =  offsetTop - (topDifference / 2) - offsetY;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// If it only goes off one side, flip it to the other side\n\t\t\t\t\telse if(myLeft < 0) {\n\t\t\t\t\t\tmyLeft = offsetLeft + offsetX + containerWidth + 12;\n\t\t\t\t\t\ttooltipster.data('arrow-reposition', 'left');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(object.options.position == 'right') {\n\t\t\t\t\tmyLeft = offsetLeft + offsetX + containerWidth + 12;\n\t\t\t\t\tmyLeftMirror = offsetLeft - offsetX - tooltipWidth - 12;\n\t\t\t\t\tvar topDifference = (offsetTop + tooltipHeight) - (offsetTop + $this.outerHeight(false));\n\t\t\t\t\tmyTop =  offsetTop - (topDifference / 2) - offsetY;\n\t\t\t\t\t\n\t\t\t\t\t// If the tooltip goes off boths sides of the page\n\t\t\t\t\tif(((myLeft + tooltipWidth) > windowWidth) && (myLeftMirror < 0)) {\n\t\t\t\t\t\tvar borderWidth = parseFloat(tooltipster.css('border-width')) * 2;\n\t\t\t\t\t\tvar newWidth = (windowWidth - myLeft) - borderWidth;\n\t\t\t\t\t\ttooltipster.css('width', newWidth + 'px');\n\t\t\t\t\t\t\n\t\t\t\t\t\ttooltipHeight = tooltipster.outerHeight(false);\n\t\t\t\t\t\ttopDifference = (offsetTop + tooltipHeight) - (offsetTop + $this.outerHeight(false));\n\t\t\t\t\t\tmyTop =  offsetTop - (topDifference / 2) - offsetY;\n\t\n\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t// If it only goes off one side, flip it to the other side\n\t\t\t\t\telse if((myLeft + tooltipWidth) > windowWidth) {\n\t\t\t\t\t\tmyLeft = offsetLeft - offsetX - tooltipWidth - 12;\n\t\t\t\t\t\ttooltipster.data('arrow-reposition', 'right');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// if arrow is set true, style it and append it\n\t\t\t\tif (object.options.arrow) {\n\t\n\t\t\t\t\tvar arrowClass = 'tooltipster-arrow-' + object.options.position;\n\t\t\t\t\t\n\t\t\t\t\t// set color of the arrow\n\t\t\t\t\tif(object.options.arrowColor.length < 1) {\n\t\t\t\t\t\tvar arrowColor = tooltipster.css('background-color');\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar arrowColor = object.options.arrowColor;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// if the tooltip was going off the page and had to re-adjust, we need to update the arrow's position\n\t\t\t\t\tvar arrowReposition = tooltipster.data('arrow-reposition');\n\t\t\t\t\tif (!arrowReposition) {\n\t\t\t\t\t\tarrowReposition = '';\n\t\t\t\t\t}\n\t\t\t\t\telse if (arrowReposition == 'left') {\n\t\t\t\t\t\tarrowClass = 'tooltipster-arrow-right';\n\t\t\t\t\t\tarrowReposition = '';\n\t\t\t\t\t}\n\t\t\t\t\telse if (arrowReposition == 'right') {\n\t\t\t\t\t\tarrowClass = 'tooltipster-arrow-left';\n\t\t\t\t\t\tarrowReposition = '';\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tarrowReposition = 'left:'+ Math.round(arrowReposition) +'px;';\n\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t// building the logic to create the border around the arrow of the tooltip\n\t\t\t\t\tif ((object.options.position == 'top') || (object.options.position == 'top-left') || (object.options.position == 'top-right')) {\n\t\t\t\t\t\tvar tooltipBorderWidth = parseFloat(tooltipster.css('border-bottom-width'));\n\t\t\t\t\t\tvar tooltipBorderColor = tooltipster.css('border-bottom-color');\n\t\t\t\t\t}\n\t\t\t\t\telse if ((object.options.position == 'bottom') || (object.options.position == 'bottom-left') || (object.options.position == 'bottom-right')) {\n\t\t\t\t\t\tvar tooltipBorderWidth = parseFloat(tooltipster.css('border-top-width'));\n\t\t\t\t\t\tvar tooltipBorderColor = tooltipster.css('border-top-color');\n\t\t\t\t\t}\n\t\t\t\t\telse if (object.options.position == 'left') {\n\t\t\t\t\t\tvar tooltipBorderWidth = parseFloat(tooltipster.css('border-right-width'));\n\t\t\t\t\t\tvar tooltipBorderColor = tooltipster.css('border-right-color');\n\t\t\t\t\t}\n\t\t\t\t\telse if (object.options.position == 'right') {\n\t\t\t\t\t\tvar tooltipBorderWidth = parseFloat(tooltipster.css('border-left-width'));\n\t\t\t\t\t\tvar tooltipBorderColor = tooltipster.css('border-left-color');\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tvar tooltipBorderWidth = parseFloat(tooltipster.css('border-bottom-width'));\n\t\t\t\t\t\tvar tooltipBorderColor = tooltipster.css('border-bottom-color');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (tooltipBorderWidth > 1) {\n\t\t\t\t\t\ttooltipBorderWidth++;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar arrowBorder = '';\n\t\t\t\t\tif (tooltipBorderWidth !== 0) {\n\t\t\t\t\t\tvar arrowBorderSize = '';\n\t\t\t\t\t\tvar arrowBorderColor = 'border-color: '+ tooltipBorderColor +';';\n\t\t\t\t\t\tif (arrowClass.indexOf('bottom') !== -1) {\n\t\t\t\t\t\t\tarrowBorderSize = 'margin-top: -'+ Math.round(tooltipBorderWidth) +'px;';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (arrowClass.indexOf('top') !== -1) {\n\t\t\t\t\t\t\tarrowBorderSize = 'margin-bottom: -'+ Math.round(tooltipBorderWidth) +'px;';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (arrowClass.indexOf('left') !== -1) {\n\t\t\t\t\t\t\tarrowBorderSize = 'margin-right: -'+ Math.round(tooltipBorderWidth) +'px;';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (arrowClass.indexOf('right') !== -1) {\n\t\t\t\t\t\t\tarrowBorderSize = 'margin-left: -'+ Math.round(tooltipBorderWidth) +'px;';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tarrowBorder = '<span class=\"tooltipster-arrow-border\" style=\"'+ arrowBorderSize +' '+ arrowBorderColor +';\"></span>';\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// if the arrow already exists, remove and replace it\n\t\t\t\t\ttooltipster.find('.tooltipster-arrow').remove();\n\t\t\t\t\t\n\t\t\t\t\t// build out the arrow and append it\t\t\n\t\t\t\t\tarrowConstruct = '<div class=\"'+ arrowClass +' tooltipster-arrow\" style=\"'+ arrowReposition +'\">'+ arrowBorder +'<span style=\"border-color:'+ arrowColor +';\"></span></div>';\n\t\t\t\t\ttooltipster.append(arrowConstruct);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// position the tooltip\n\t\t\t\ttooltipster.css({'top': Math.round(myTop) + 'px', 'left': Math.round(myLeft) + 'px'});\n\t\t\t\t\n\t\t\t\t// if we had to change the position of the tooltip so it wouldn't go off screen, reset it\n\t\t\t\tif (resetPosition !== undefined) {\n\t\t\t\t\tobject.options.position = resetPosition;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n    getContent: function(element) {\n      var content = element.data('tooltipsterContent');\n      // will remove <script> tags to prevent XSS (execution of JS for dynamic tooltips)\n      content = $($.parseHTML('<div>' + content + '</div>')).html();\n\n      return content;\n    }\n\t};\n\t\t\n\t$.fn[pluginName] = function (options) {\t\t\n\t\t// change default options for all future instances, using $.fn.tooltipster('setDefaults', myOptions)\n\t\tif(options && options === 'setDefaults'){\n\t\t\t$.extend(defaults, arguments[1]);\n\t\t}\n\n\t\telse {\n\t\t\t// better API name spacing by glebtv\n\t\t\tif (typeof options === 'string') {\n\t\t\t\tvar $t = this;\n\t\t\t\tvar arg = arguments[1];\n\t\t\t\tvar v = null;\n\t\t\t\t\n\t\t\t\t// if we're calling a container to interact with API's of tooltips inside it - select all those tooltip origins first\n\t\t\t\tif ($t.data('plugin_tooltipster') === undefined) {\n\t\t\t\t\tvar query = $t.find('*');\n\t\t\t\t\t$t = $();\n\t\t\t\t\tquery.each(function() {\n\t\t\t\t\t\tif ($(this).data('plugin_tooltipster') !== undefined) {\n\t\t\t\t\t\t\t$t.push($(this));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$t.each(function() {\n\t\t\t\t\tswitch (options.toLowerCase()) {\n\t\t\t\t\t\tcase 'show':\n\t\t\t\t\t\t\t$(this).data('plugin_tooltipster').showTooltip();\n\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\tcase 'hide':\n\t\t\t\t\t\t\t$(this).data('plugin_tooltipster').hideTooltip();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase 'disable':\n\t\t\t\t\t\t\t$(this).addClass('tooltipster-disable');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase 'enable':\n\t\t\t\t\t\t\t$(this).removeClass('tooltipster-disable');\n\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\tcase 'destroy':\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t$(this).data('plugin_tooltipster').hideTooltip();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar icon = $(this).data('tooltipsterIcon');\n\t\t\t\t\t\t\tif(icon) icon.remove();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t$(this)\n\t\t\t\t\t\t\t\t.attr('title', $t.data('tooltipsterContent'))\n\t\t\t\t\t\t\t\t.removeData('plugin_tooltipster')\n\t\t\t\t\t\t\t\t.removeData('tooltipsterContent')\n\t\t\t\t\t\t\t\t.removeData('tooltipsterIcon')\n\t\t\t\t\t\t\t\t.off('.tooltipster');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tcase 'elementicon':\n\t\t\t\t\t\t\tv = $(this).data('tooltipsterIcon');\n\t\t\t\t\t\t\t// we will return the raw HTML element if there is an icon, undefined otherwise\n\t\t\t\t\t\t\tv = v ? v[0] : undefined;\n\t\t\t\t\t\t\t//return false to stop .each iteration on the first element matched by the selector. No need for a 'break;' after that.\n\t\t\t\t\t\t\treturn false;\n\t\t\n\t\t\t\t\t\tcase 'update':\n\t\t\t\t\t\t\tvar content = arg;\n\n\t\t\t\t\t\t\tif ($(this).data('tooltipsterIcon') === undefined) {\n\t\t\t\t\t\t\t\t$(this).data('tooltipsterContent', content);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tvar $this = $(this).data('tooltipsterIcon');\n\t\t\t\t\t\t\t\t$this.data('tooltipsterContent', content);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tcase 'reposition':\n\t\t\t\t\t\t\t$(this).data('plugin_tooltipster').positionTooltip();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'val':\n\t\t\t\t\t\t\tv = $(this).data('tooltipsterContent');\n\t\t\t\t\t\t\tconsole.log(v);\n\t\t\t\t\t\t\t//return false : same as above\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn (v !== null) ? v : this;\n\t\t\t}\n\n\t\t\telse {\n\t\t\t\t// attach a tooltipster object to each element if it doesn't already have one\n\t\t\t\treturn this.each(function () {\n\n\t\t\t\t\tif (!$.data(this, \"plugin_\" + pluginName)) {\n\t\t\t\t\t\t$.data(this, \"plugin_\" + pluginName, new Plugin(this, options));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\t\n\t// hide tooltips on orientation change\n\tif (touchDevice) {\n\t\twindow.addEventListener(\"orientationchange\", function() {\n\t\t\tif ($('.tooltipster-base').length > 0) {\n\t\t\t\t$('.tooltipster-base').each(function() {\n\t\t\t\t\tvar origin = $(this).data('origin');\n\t\t\t\t\torigin.data('plugin_tooltipster').hideTooltip();\n\t\t\t\t});\n\t\t\t}\n\t\t}, false);\n  }\n\n\t// on scroll reposition - otherwise position:fixed element's tooltips will 'scroll-away'\n\t$(window).on('scroll.tooltipster', function() {\n\t\tvar origin = $('.tooltipster-base').data('origin');\n\n\t\tif (origin) {\n\t\t\torigin.tooltipster('reposition');\n\t\t}\n\t});\n\n\t// on window resize, reposition and open tooltips\n\t$(window).on('resize.tooltipster', function() {\n\t\tvar origin = $('.tooltipster-base').data('origin');\n\n\t\tif ((origin !== null) && (origin !== undefined)) {\n\t\t\torigin.tooltipster('reposition');\n\t\t}\n\t});\n})( jQuery, window, document );\n","/*\n *\n * Date picker\n * Author: Stefan Petre www.eyecon.ro\n *\n * Dual licensed under the MIT and GPL licenses\n *\n */\n(function ($) {\n\tvar DatePicker = function () {\n\t\tvar\tids = {},\n\t\t\tviews = {\n\t\t\t\tyears: 'datepickerViewYears',\n\t\t\t\tmoths: 'datepickerViewMonths',\n\t\t\t\tdays: 'datepickerViewDays'\n\t\t\t},\n\t\t\ttpl = {\n\t\t\t\twrapper: '<div class=\"datepicker\"><div class=\"datepickerBorderT\" /><div class=\"datepickerBorderB\" /><div class=\"datepickerBorderL\" /><div class=\"datepickerBorderR\" /><div class=\"datepickerBorderTL\" /><div class=\"datepickerBorderTR\" /><div class=\"datepickerBorderBL\" /><div class=\"datepickerBorderBR\" /><div class=\"datepickerContainer\"><table cellspacing=\"0\" cellpadding=\"0\"><tbody><tr></tr></tbody></table></div></div>',\n\t\t\t\thead: [\n\t\t\t\t\t'<td>',\n\t\t\t\t\t'<table cellspacing=\"0\" cellpadding=\"0\">',\n\t\t\t\t\t\t'<thead>',\n\t\t\t\t\t\t\t'<tr>',\n\t\t\t\t\t\t\t\t'<th class=\"datepickerGoPrev\"><a href=\"#\"><span><%=prev%></span></a></th>',\n\t\t\t\t\t\t\t\t'<th colspan=\"5\" class=\"datepickerMonth\"><a href=\"#\"><span></span></a></th>',\n\t\t\t\t\t\t\t\t'<th class=\"datepickerGoNext\"><a href=\"#\"><span><%=next%></span></a></th>',\n\t\t\t\t\t\t\t'</tr>',\n\t\t\t\t\t\t\t'<tr class=\"datepickerDoW\">',\n\t\t\t\t\t\t\t\t'<th><span><%=day1%></span></th>',\n\t\t\t\t\t\t\t\t'<th><span><%=day2%></span></th>',\n\t\t\t\t\t\t\t\t'<th><span><%=day3%></span></th>',\n\t\t\t\t\t\t\t\t'<th><span><%=day4%></span></th>',\n\t\t\t\t\t\t\t\t'<th><span><%=day5%></span></th>',\n\t\t\t\t\t\t\t\t'<th><span><%=day6%></span></th>',\n\t\t\t\t\t\t\t\t'<th><span><%=day7%></span></th>',\n\t\t\t\t\t\t\t'</tr>',\n\t\t\t\t\t\t'</thead>',\n\t\t\t\t\t'</table></td>'\n\t\t\t\t],\n\t\t\t\tspace : '<td class=\"datepickerSpace\"><div></div></td>',\n\t\t\t\tdays: [\n\t\t\t\t\t'<tbody class=\"datepickerDays\">',\n\t\t\t\t\t\t'<tr>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[0].days[0].classname%>\"><a href=\"#\"><span><%=weeks[0].days[0].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[0].days[1].classname%>\"><a href=\"#\"><span><%=weeks[0].days[1].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[0].days[2].classname%>\"><a href=\"#\"><span><%=weeks[0].days[2].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[0].days[3].classname%>\"><a href=\"#\"><span><%=weeks[0].days[3].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[0].days[4].classname%>\"><a href=\"#\"><span><%=weeks[0].days[4].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[0].days[5].classname%>\"><a href=\"#\"><span><%=weeks[0].days[5].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[0].days[6].classname%>\"><a href=\"#\"><span><%=weeks[0].days[6].text%></span></a></td>',\n\t\t\t\t\t\t'</tr>',\n\t\t\t\t\t\t'<tr>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[1].days[0].classname%>\"><a href=\"#\"><span><%=weeks[1].days[0].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[1].days[1].classname%>\"><a href=\"#\"><span><%=weeks[1].days[1].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[1].days[2].classname%>\"><a href=\"#\"><span><%=weeks[1].days[2].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[1].days[3].classname%>\"><a href=\"#\"><span><%=weeks[1].days[3].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[1].days[4].classname%>\"><a href=\"#\"><span><%=weeks[1].days[4].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[1].days[5].classname%>\"><a href=\"#\"><span><%=weeks[1].days[5].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[1].days[6].classname%>\"><a href=\"#\"><span><%=weeks[1].days[6].text%></span></a></td>',\n\t\t\t\t\t\t'</tr>',\n\t\t\t\t\t\t'<tr>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[2].days[0].classname%>\"><a href=\"#\"><span><%=weeks[2].days[0].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[2].days[1].classname%>\"><a href=\"#\"><span><%=weeks[2].days[1].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[2].days[2].classname%>\"><a href=\"#\"><span><%=weeks[2].days[2].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[2].days[3].classname%>\"><a href=\"#\"><span><%=weeks[2].days[3].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[2].days[4].classname%>\"><a href=\"#\"><span><%=weeks[2].days[4].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[2].days[5].classname%>\"><a href=\"#\"><span><%=weeks[2].days[5].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[2].days[6].classname%>\"><a href=\"#\"><span><%=weeks[2].days[6].text%></span></a></td>',\n\t\t\t\t\t\t'</tr>',\n\t\t\t\t\t\t'<tr>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[3].days[0].classname%>\"><a href=\"#\"><span><%=weeks[3].days[0].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[3].days[1].classname%>\"><a href=\"#\"><span><%=weeks[3].days[1].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[3].days[2].classname%>\"><a href=\"#\"><span><%=weeks[3].days[2].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[3].days[3].classname%>\"><a href=\"#\"><span><%=weeks[3].days[3].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[3].days[4].classname%>\"><a href=\"#\"><span><%=weeks[3].days[4].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[3].days[5].classname%>\"><a href=\"#\"><span><%=weeks[3].days[5].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[3].days[6].classname%>\"><a href=\"#\"><span><%=weeks[3].days[6].text%></span></a></td>',\n\t\t\t\t\t\t'</tr>',\n\t\t\t\t\t\t'<tr>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[4].days[0].classname%>\"><a href=\"#\"><span><%=weeks[4].days[0].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[4].days[1].classname%>\"><a href=\"#\"><span><%=weeks[4].days[1].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[4].days[2].classname%>\"><a href=\"#\"><span><%=weeks[4].days[2].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[4].days[3].classname%>\"><a href=\"#\"><span><%=weeks[4].days[3].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[4].days[4].classname%>\"><a href=\"#\"><span><%=weeks[4].days[4].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[4].days[5].classname%>\"><a href=\"#\"><span><%=weeks[4].days[5].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[4].days[6].classname%>\"><a href=\"#\"><span><%=weeks[4].days[6].text%></span></a></td>',\n\t\t\t\t\t\t'</tr>',\n\t\t\t\t\t\t'<tr>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[5].days[0].classname%>\"><a href=\"#\"><span><%=weeks[5].days[0].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[5].days[1].classname%>\"><a href=\"#\"><span><%=weeks[5].days[1].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[5].days[2].classname%>\"><a href=\"#\"><span><%=weeks[5].days[2].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[5].days[3].classname%>\"><a href=\"#\"><span><%=weeks[5].days[3].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[5].days[4].classname%>\"><a href=\"#\"><span><%=weeks[5].days[4].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[5].days[5].classname%>\"><a href=\"#\"><span><%=weeks[5].days[5].text%></span></a></td>',\n\t\t\t\t\t\t\t'<td class=\"<%=weeks[5].days[6].classname%>\"><a href=\"#\"><span><%=weeks[5].days[6].text%></span></a></td>',\n\t\t\t\t\t\t'</tr>',\n\t\t\t\t\t'</tbody>'\n\t\t\t\t],\n\t\t\t\tmonths: [\n\t\t\t\t\t'<tbody class=\"<%=className%>\">',\n\t\t\t\t\t\t'<tr>',\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[0]%></span></a></td>',\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[1]%></span></a></td>',\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[2]%></span></a></td>',\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[3]%></span></a></td>',\n\t\t\t\t\t\t'</tr>',\n\t\t\t\t\t\t'<tr>',\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[4]%></span></a></td>',\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[5]%></span></a></td>',\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[6]%></span></a></td>',\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[7]%></span></a></td>',\n\t\t\t\t\t\t'</tr>',\n\t\t\t\t\t\t'<tr>',\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[8]%></span></a></td>',\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[9]%></span></a></td>',\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[10]%></span></a></td>',\n\t\t\t\t\t\t\t'<td colspan=\"2\"><a href=\"#\"><span><%=data[11]%></span></a></td>',\n\t\t\t\t\t\t'</tr>',\n\t\t\t\t\t'</tbody>'\n\t\t\t\t]\n\t\t\t},\n\t\t\tdefaults = {\n\t\t\t\tflat: false,\n\t\t\t\tstarts: 1,\n\t\t\t\tprev: '&#9664;',\n\t\t\t\tnext: '&#9654;',\n\t\t\t\tlastSel: false,\n\t\t\t\tmode: 'single',\n\t\t\t\tview: 'days',\n\t\t\t\tcalendars: 1,\n\t\t\t\tformat: 'Y-m-d',\n\t\t\t\tposition: 'bottom',\n\t\t\t\teventName: 'click',\n\t\t\t\tonRender: function(){return {};},\n\t\t\t\tonChange: function(){return true;},\n\t\t\t\tonShow: function(){return true;},\n\t\t\t\tonBeforeShow: function(){return true;},\n\t\t\t\tonHide: function(){return true;},\n\t\t\t\tlocale: {\n\t\t\t\t\tdays: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n\t\t\t\t\tdaysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n\t\t\t\t\tdaysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"],\n\t\t\t\t\tmonths: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\t\t\t\tmonthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\t\t\t\tweekMin: 'wk'\n\t\t\t\t}\n\t\t\t},\n\t\t\tfill = function(el) {\n\t\t\t\tvar options = $(el).data('datepicker');\n\t\t\t\tvar cal = $(el);\n\t\t\t\tvar currentCal = Math.floor(options.calendars/2), date, data, dow, month, cnt = 0, week, days, indic, indic2, html, tblCal;\n\t\t\t\tcal.find('td>table tbody').remove();\n\t\t\t\tfor (var i = 0; i < options.calendars; i++) {\n\t\t\t\t\tdate = new Date(options.current);\n\t\t\t\t\tdate.addMonths(-currentCal + i);\n\t\t\t\t\ttblCal = cal.find('table').eq(i+1);\n\t\t\t\t\tswitch (tblCal[0].className) {\n\t\t\t\t\t\tcase 'datepickerViewDays':\n\t\t\t\t\t\t\tdow = formatDate(date, 'B, Y');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'datepickerViewMonths':\n\t\t\t\t\t\t\tdow = date.getFullYear();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'datepickerViewYears':\n\t\t\t\t\t\t\tdow = (date.getFullYear()-6) + ' - ' + (date.getFullYear()+5);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\ttblCal.find('thead tr:first th:eq(1) span').text(dow);\n\t\t\t\t\tdow = date.getFullYear()-6;\n\t\t\t\t\tdata = {\n\t\t\t\t\t\tdata: [],\n\t\t\t\t\t\tclassName: 'datepickerYears'\n\t\t\t\t\t}\n\t\t\t\t\tfor ( var j = 0; j < 12; j++) {\n\t\t\t\t\t\tdata.data.push(dow + j);\n\t\t\t\t\t}\n\t\t\t\t\thtml = tmpl(tpl.months.join(''), data);\n\t\t\t\t\tdate.setDate(1);\n\t\t\t\t\tdata = {weeks:[], test: 10};\n\t\t\t\t\tmonth = date.getMonth();\n\t\t\t\t\tvar dow = (date.getDay() - options.starts) % 7;\n\t\t\t\t\tdate.addDays(-(dow + (dow < 0 ? 7 : 0)));\n\t\t\t\t\tweek = -1;\n\t\t\t\t\tcnt = 0;\n\t\t\t\t\twhile (cnt < 42) {\n\t\t\t\t\t\tindic = parseInt(cnt/7,10);\n\t\t\t\t\t\tindic2 = cnt%7;\n\t\t\t\t\t\tif (!data.weeks[indic]) {\n\t\t\t\t\t\t\tweek = date.getWeekNumber();\n\t\t\t\t\t\t\tdata.weeks[indic] = {\n\t\t\t\t\t\t\t\tweek: week,\n\t\t\t\t\t\t\t\tdays: []\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata.weeks[indic].days[indic2] = {\n\t\t\t\t\t\t\ttext: date.getDate(),\n\t\t\t\t\t\t\tclassname: []\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (month != date.getMonth()) {\n\t\t\t\t\t\t\tdata.weeks[indic].days[indic2].classname.push('datepickerNotInMonth');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (date.getDay() == 0) {\n\t\t\t\t\t\t\tdata.weeks[indic].days[indic2].classname.push('datepickerSunday');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (date.getDay() == 6) {\n\t\t\t\t\t\t\tdata.weeks[indic].days[indic2].classname.push('datepickerSaturday');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar fromUser = options.onRender(date);\n\t\t\t\t\t\tvar val = date.valueOf();\n\t\t\t\t\t\tif (fromUser.selected || options.date == val || $.inArray(val, options.date) > -1 || (options.mode == 'range' && val >= options.date[0] && val <= options.date[1])) {\n\t\t\t\t\t\t\tdata.weeks[indic].days[indic2].classname.push('datepickerSelected');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (fromUser.disabled) {\n\t\t\t\t\t\t\tdata.weeks[indic].days[indic2].classname.push('datepickerDisabled');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (fromUser.className) {\n\t\t\t\t\t\t\tdata.weeks[indic].days[indic2].classname.push(fromUser.className);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata.weeks[indic].days[indic2].classname = data.weeks[indic].days[indic2].classname.join(' ');\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t\tdate.addDays(1);\n\t\t\t\t\t}\n\t\t\t\t\thtml = tmpl(tpl.days.join(''), data) + html;\n\t\t\t\t\tdata = {\n\t\t\t\t\t\tdata: options.locale.monthsShort,\n\t\t\t\t\t\tclassName: 'datepickerMonths'\n\t\t\t\t\t};\n\t\t\t\t\thtml = tmpl(tpl.months.join(''), data) + html;\n\t\t\t\t\ttblCal.append(html);\n\t\t\t\t}\n\t\t\t},\n\t\t\tparseDate = function (date, format) {\n\t\t\t\tif (date.constructor == Date) {\n\t\t\t\t\treturn new Date(date);\n\t\t\t\t}\n\t\t\t\tvar parts = date.split(/\\W+/);\n\t\t\t\tvar against = format.split(/\\W+/), d, m, y, h, min, now = new Date();\n\t\t\t\tfor (var i = 0; i < parts.length; i++) {\n\t\t\t\t\tswitch (against[i]) {\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\tcase 'e':\n\t\t\t\t\t\t\td = parseInt(parts[i],10);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\tm = parseInt(parts[i], 10)-1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Y':\n\t\t\t\t\t\tcase 'y':\n\t\t\t\t\t\t\ty = parseInt(parts[i], 10);\n\t\t\t\t\t\t\ty += y > 100 ? 0 : (y < 29 ? 2000 : 1900);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'H':\n\t\t\t\t\t\tcase 'I':\n\t\t\t\t\t\tcase 'k':\n\t\t\t\t\t\tcase 'l':\n\t\t\t\t\t\t\th = parseInt(parts[i], 10);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'P':\n\t\t\t\t\t\tcase 'p':\n\t\t\t\t\t\t\tif (/pm/i.test(parts[i]) && h < 12) {\n\t\t\t\t\t\t\t\th += 12;\n\t\t\t\t\t\t\t} else if (/am/i.test(parts[i]) && h >= 12) {\n\t\t\t\t\t\t\t\th -= 12;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'M':\n\t\t\t\t\t\t\tmin = parseInt(parts[i], 10);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn new Date(\n\t\t\t\t\ty === undefined ? now.getFullYear() : y,\n\t\t\t\t\tm === undefined ? now.getMonth() : m,\n\t\t\t\t\td === undefined ? now.getDate() : d,\n\t\t\t\t\th === undefined ? now.getHours() : h,\n\t\t\t\t\tmin === undefined ? now.getMinutes() : min,\n\t\t\t\t\t0\n\t\t\t\t);\n\t\t\t},\n\t\t\tformatDate = function(date, format) {\n\t\t\t\tvar m = date.getMonth();\n\t\t\t\tvar d = date.getDate();\n\t\t\t\tvar y = date.getFullYear();\n\t\t\t\tvar wn = date.getWeekNumber();\n\t\t\t\tvar w = date.getDay();\n\t\t\t\tvar s = {};\n\t\t\t\tvar hr = date.getHours();\n\t\t\t\tvar pm = (hr >= 12);\n\t\t\t\tvar ir = (pm) ? (hr - 12) : hr;\n\t\t\t\tvar dy = date.getDayOfYear();\n\t\t\t\tif (ir == 0) {\n\t\t\t\t\tir = 12;\n\t\t\t\t}\n\t\t\t\tvar min = date.getMinutes();\n\t\t\t\tvar sec = date.getSeconds();\n\t\t\t\tvar parts = format.split(''), part;\n\t\t\t\tfor ( var i = 0; i < parts.length; i++ ) {\n\t\t\t\t\tpart = parts[i];\n\t\t\t\t\tswitch (parts[i]) {\n\t\t\t\t\t\tcase 'a':\n\t\t\t\t\t\t\tpart = date.getDayName();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'A':\n\t\t\t\t\t\t\tpart = date.getDayName(true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'b':\n\t\t\t\t\t\t\tpart = date.getMonthName();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'B':\n\t\t\t\t\t\t\tpart = date.getMonthName(true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'C':\n\t\t\t\t\t\t\tpart = 1 + Math.floor(y / 100);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\tpart = (d < 10) ? (\"0\" + d) : d;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'e':\n\t\t\t\t\t\t\tpart = d;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'H':\n\t\t\t\t\t\t\tpart = (hr < 10) ? (\"0\" + hr) : hr;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'I':\n\t\t\t\t\t\t\tpart = (ir < 10) ? (\"0\" + ir) : ir;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'j':\n\t\t\t\t\t\t\tpart = (dy < 100) ? ((dy < 10) ? (\"00\" + dy) : (\"0\" + dy)) : dy;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'k':\n\t\t\t\t\t\t\tpart = hr;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'l':\n\t\t\t\t\t\t\tpart = ir;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\tpart = (m < 9) ? (\"0\" + (1+m)) : (1+m);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'M':\n\t\t\t\t\t\t\tpart = (min < 10) ? (\"0\" + min) : min;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'p':\n\t\t\t\t\t\tcase 'P':\n\t\t\t\t\t\t\tpart = pm ? \"PM\" : \"AM\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 's':\n\t\t\t\t\t\t\tpart = Math.floor(date.getTime() / 1000);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'S':\n\t\t\t\t\t\t\tpart = (sec < 10) ? (\"0\" + sec) : sec;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'u':\n\t\t\t\t\t\t\tpart = w + 1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'w':\n\t\t\t\t\t\t\tpart = w;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'y':\n\t\t\t\t\t\t\tpart = ('' + y).substr(2, 2);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Y':\n\t\t\t\t\t\t\tpart = y;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tparts[i] = part;\n\t\t\t\t}\n\t\t\t\treturn parts.join('');\n\t\t\t},\n\t\t\textendDate = function(options) {\n\t\t\t\tif (Date.prototype.tempDate) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tDate.prototype.tempDate = null;\n\t\t\t\tDate.prototype.months = options.months;\n\t\t\t\tDate.prototype.monthsShort = options.monthsShort;\n\t\t\t\tDate.prototype.days = options.days;\n\t\t\t\tDate.prototype.daysShort = options.daysShort;\n\t\t\t\tDate.prototype.getMonthName = function(fullName) {\n\t\t\t\t\treturn this[fullName ? 'months' : 'monthsShort'][this.getMonth()];\n\t\t\t\t};\n\t\t\t\tDate.prototype.getDayName = function(fullName) {\n\t\t\t\t\treturn this[fullName ? 'days' : 'daysShort'][this.getDay()];\n\t\t\t\t};\n\t\t\t\tDate.prototype.addDays = function (n) {\n\t\t\t\t\tthis.setDate(this.getDate() + n);\n\t\t\t\t\tthis.tempDate = this.getDate();\n\t\t\t\t};\n\t\t\t\tDate.prototype.addMonths = function (n) {\n\t\t\t\t\tif (this.tempDate == null) {\n\t\t\t\t\t\tthis.tempDate = this.getDate();\n\t\t\t\t\t}\n\t\t\t\t\tthis.setDate(1);\n\t\t\t\t\tthis.setMonth(this.getMonth() + n);\n\t\t\t\t\tthis.setDate(Math.min(this.tempDate, this.getMaxDays()));\n\t\t\t\t};\n\t\t\t\tDate.prototype.addYears = function (n) {\n\t\t\t\t\tif (this.tempDate == null) {\n\t\t\t\t\t\tthis.tempDate = this.getDate();\n\t\t\t\t\t}\n\t\t\t\t\tthis.setDate(1);\n\t\t\t\t\tthis.setFullYear(this.getFullYear() + n);\n\t\t\t\t\tthis.setDate(Math.min(this.tempDate, this.getMaxDays()));\n\t\t\t\t};\n\t\t\t\tDate.prototype.getMaxDays = function() {\n\t\t\t\t\tvar tmpDate = new Date(Date.parse(this)),\n\t\t\t\t\t\td = 28, m;\n\t\t\t\t\tm = tmpDate.getMonth();\n\t\t\t\t\td = 28;\n\t\t\t\t\twhile (tmpDate.getMonth() == m) {\n\t\t\t\t\t\td ++;\n\t\t\t\t\t\ttmpDate.setDate(d);\n\t\t\t\t\t}\n\t\t\t\t\treturn d - 1;\n\t\t\t\t};\n\t\t\t\tDate.prototype.getFirstDay = function() {\n\t\t\t\t\tvar tmpDate = new Date(Date.parse(this));\n\t\t\t\t\ttmpDate.setDate(1);\n\t\t\t\t\treturn tmpDate.getDay();\n\t\t\t\t};\n\t\t\t\tDate.prototype.getWeekNumber = function() {\n\t\t\t\t\tvar tempDate = new Date(this);\n\t\t\t\t\ttempDate.setDate(tempDate.getDate() - (tempDate.getDay() + 6) % 7 + 3);\n\t\t\t\t\tvar dms = tempDate.valueOf();\n\t\t\t\t\ttempDate.setMonth(0);\n\t\t\t\t\ttempDate.setDate(4);\n\t\t\t\t\treturn Math.round((dms - tempDate.valueOf()) / (604800000)) + 1;\n\t\t\t\t};\n\t\t\t\tDate.prototype.getDayOfYear = function() {\n\t\t\t\t\tvar now = new Date(this.getFullYear(), this.getMonth(), this.getDate(), 0, 0, 0);\n\t\t\t\t\tvar then = new Date(this.getFullYear(), 0, 0, 0, 0, 0);\n\t\t\t\t\tvar time = now - then;\n\t\t\t\t\treturn Math.floor(time / 24*60*60*1000);\n\t\t\t\t};\n\t\t\t},\n\t\t\tlayout = function (el) {\n\t\t\t\tvar options = $(el).data('datepicker');\n\t\t\t\tvar cal = $('#' + options.id);\n\t\t\t\tif (!options.extraHeight) {\n\t\t\t\t\tvar divs = $(el).find('div');\n\t\t\t\t\toptions.extraHeight = divs.get(0).offsetHeight + divs.get(1).offsetHeight;\n\t\t\t\t\toptions.extraWidth = divs.get(2).offsetWidth + divs.get(3).offsetWidth;\n\t\t\t\t}\n\t\t\t\tvar tbl = cal.find('table:first').get(0);\n\t\t\t\tvar width = tbl.offsetWidth;\n\t\t\t\tvar height = tbl.offsetHeight;\n\t\t\t\tcal.css({\n\t\t\t\t\twidth: width + options.extraWidth + 'px',\n\t\t\t\t\theight: height + options.extraHeight + 'px'\n\t\t\t\t}).find('div.datepickerContainer').css({\n\t\t\t\t\twidth: width + 'px',\n\t\t\t\t\theight: height + 'px'\n\t\t\t\t});\n\t\t\t},\n\t\t\tclick = function(ev) {\n\t\t\t\tif ($(ev.target).is('span')) {\n\t\t\t\t\tev.target = ev.target.parentNode;\n\t\t\t\t}\n\t\t\t\tvar el = $(ev.target);\n\t\t\t\tif (el.is('a')) {\n\t\t\t\t\tev.target.blur();\n\t\t\t\t\tif (el.hasClass('datepickerDisabled')) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tvar options = $(this).data('datepicker');\n\t\t\t\t\tvar parentEl = el.parent();\n\t\t\t\t\tvar tblEl = parentEl.parent().parent().parent();\n\t\t\t\t\tvar tblIndex = $('table', this).index(tblEl.get(0)) - 1;\n\t\t\t\t\tvar tmp = new Date(options.current);\n\t\t\t\t\tvar changed = false;\n\t\t\t\t\tvar fillIt = false;\n\t\t\t\t\tif (parentEl.is('th')) {\n\t\t\t\t\t\tif (parentEl.hasClass('datepickerWeek') && options.mode == 'range' && !parentEl.next().hasClass('datepickerDisabled')) {\n\t\t\t\t\t\t\tvar val = parseInt(parentEl.next().text(), 10);\n\t\t\t\t\t\t\ttmp.addMonths(tblIndex - Math.floor(options.calendars/2));\n\t\t\t\t\t\t\tif (parentEl.next().hasClass('datepickerNotInMonth')) {\n\t\t\t\t\t\t\t\ttmp.addMonths(val > 15 ? -1 : 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttmp.setDate(val);\n\t\t\t\t\t\t\toptions.date[0] = (tmp.setHours(0,0,0,0)).valueOf();\n\t\t\t\t\t\t\ttmp.setHours(23,59,59,0);\n\t\t\t\t\t\t\ttmp.addDays(6);\n\t\t\t\t\t\t\toptions.date[1] = tmp.valueOf();\n\t\t\t\t\t\t\tfillIt = true;\n\t\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t\t\toptions.lastSel = false;\n\t\t\t\t\t\t} else if (parentEl.hasClass('datepickerMonth')) {\n\t\t\t\t\t\t\ttmp.addMonths(tblIndex - Math.floor(options.calendars/2));\n\t\t\t\t\t\t\tswitch (tblEl.get(0).className) {\n\t\t\t\t\t\t\t\tcase 'datepickerViewDays':\n\t\t\t\t\t\t\t\t\ttblEl.get(0).className = 'datepickerViewMonths';\n\t\t\t\t\t\t\t\t\tel.find('span').text(tmp.getFullYear());\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'datepickerViewMonths':\n\t\t\t\t\t\t\t\t\ttblEl.get(0).className = 'datepickerViewYears';\n\t\t\t\t\t\t\t\t\tel.find('span').text((tmp.getFullYear()-6) + ' - ' + (tmp.getFullYear()+5));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'datepickerViewYears':\n\t\t\t\t\t\t\t\t\ttblEl.get(0).className = 'datepickerViewDays';\n\t\t\t\t\t\t\t\t\tel.find('span').text(formatDate(tmp, 'B, Y'));\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (parentEl.parent().parent().is('thead')) {\n\t\t\t\t\t\t\tswitch (tblEl.get(0).className) {\n\t\t\t\t\t\t\t\tcase 'datepickerViewDays':\n\t\t\t\t\t\t\t\t\toptions.current.addMonths(parentEl.hasClass('datepickerGoPrev') ? -1 : 1);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'datepickerViewMonths':\n\t\t\t\t\t\t\t\t\toptions.current.addYears(parentEl.hasClass('datepickerGoPrev') ? -1 : 1);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'datepickerViewYears':\n\t\t\t\t\t\t\t\t\toptions.current.addYears(parentEl.hasClass('datepickerGoPrev') ? -12 : 12);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfillIt = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (parentEl.is('td') && !parentEl.hasClass('datepickerDisabled')) {\n\t\t\t\t\t\tswitch (tblEl.get(0).className) {\n\t\t\t\t\t\t\tcase 'datepickerViewMonths':\n\t\t\t\t\t\t\t\toptions.current.setMonth(tblEl.find('tbody.datepickerMonths td').index(parentEl));\n\t\t\t\t\t\t\t\toptions.current.setFullYear(parseInt(tblEl.find('thead th.datepickerMonth span').text(), 10));\n\t\t\t\t\t\t\t\toptions.current.addMonths(Math.floor(options.calendars/2) - tblIndex);\n\t\t\t\t\t\t\t\ttblEl.get(0).className = 'datepickerViewDays';\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'datepickerViewYears':\n\t\t\t\t\t\t\t\toptions.current.setFullYear(parseInt(el.text(), 10));\n\t\t\t\t\t\t\t\ttblEl.get(0).className = 'datepickerViewMonths';\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tvar val = parseInt(el.text(), 10);\n\t\t\t\t\t\t\t\ttmp.addMonths(tblIndex - Math.floor(options.calendars/2));\n\t\t\t\t\t\t\t\tif (parentEl.hasClass('datepickerNotInMonth')) {\n\t\t\t\t\t\t\t\t\ttmp.addMonths(val > 15 ? -1 : 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttmp.setDate(val);\n\t\t\t\t\t\t\t\tswitch (options.mode) {\n\t\t\t\t\t\t\t\t\tcase 'multiple':\n\t\t\t\t\t\t\t\t\t\tval = (tmp.setHours(0,0,0,0)).valueOf();\n\t\t\t\t\t\t\t\t\t\tif ($.inArray(val, options.date) > -1) {\n\t\t\t\t\t\t\t\t\t\t\t$.each(options.date, function(nr, dat){\n\t\t\t\t\t\t\t\t\t\t\t\tif (dat == val) {\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions.date.splice(nr,1);\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\toptions.date.push(val);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'range':\n\t\t\t\t\t\t\t\t\t\tif (!options.lastSel) {\n\t\t\t\t\t\t\t\t\t\t\toptions.date[0] = (tmp.setHours(0,0,0,0)).valueOf();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tval = (tmp.setHours(23,59,59,0)).valueOf();\n\t\t\t\t\t\t\t\t\t\tif (val < options.date[0]) {\n\t\t\t\t\t\t\t\t\t\t\toptions.date[1] = options.date[0] + 86399000;\n\t\t\t\t\t\t\t\t\t\t\toptions.date[0] = val - 86399000;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\toptions.date[1] = val;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\toptions.lastSel = !options.lastSel;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\toptions.date = tmp.valueOf();\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfillIt = true;\n\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (fillIt) {\n\t\t\t\t\t\tfill(this);\n\t\t\t\t\t}\n\t\t\t\t\tif (changed) {\n\t\t\t\t\t\toptions.onChange.apply(this, prepareDate(options));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tprepareDate = function (options) {\n\t\t\t\tvar tmp;\n\t\t\t\tif (options.mode == 'single') {\n\t\t\t\t\ttmp = new Date(options.date);\n\t\t\t\t\treturn [formatDate(tmp, options.format), tmp, options.el];\n\t\t\t\t} else {\n\t\t\t\t\ttmp = [[],[], options.el];\n\t\t\t\t\t$.each(options.date, function(nr, val){\n\t\t\t\t\t\tvar date = new Date(val);\n\t\t\t\t\t\ttmp[0].push(formatDate(date, options.format));\n\t\t\t\t\t\ttmp[1].push(date);\n\t\t\t\t\t});\n\t\t\t\t\treturn tmp;\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetViewport = function () {\n\t\t\t\tvar m = document.compatMode == 'CSS1Compat';\n\t\t\t\treturn {\n\t\t\t\t\tl : window.pageXOffset || (m ? document.documentElement.scrollLeft : document.body.scrollLeft),\n\t\t\t\t\tt : window.pageYOffset || (m ? document.documentElement.scrollTop : document.body.scrollTop),\n\t\t\t\t\tw : window.innerWidth || (m ? document.documentElement.clientWidth : document.body.clientWidth),\n\t\t\t\t\th : window.innerHeight || (m ? document.documentElement.clientHeight : document.body.clientHeight)\n\t\t\t\t};\n\t\t\t},\n\t\t\tisChildOf = function(parentEl, el, container) {\n\t\t\t\tif (parentEl == el) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (parentEl.contains) {\n\t\t\t\t\treturn parentEl.contains(el);\n\t\t\t\t}\n\t\t\t\tif ( parentEl.compareDocumentPosition ) {\n\t\t\t\t\treturn !!(parentEl.compareDocumentPosition(el) & 16);\n\t\t\t\t}\n\t\t\t\tvar prEl = el.parentNode;\n\t\t\t\twhile(prEl && prEl != container) {\n\t\t\t\t\tif (prEl == parentEl)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tprEl = prEl.parentNode;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tshow = function (ev) {\n\t\t\t\tvar cal = $('#' + $(this).data('datepickerId'));\n\t\t\t\tif (!cal.is(':visible')) {\n\t\t\t\t\tvar calEl = cal.get(0);\n\t\t\t\t\tfill(calEl);\n\t\t\t\t\tvar options = cal.data('datepicker');\n\t\t\t\t\toptions.onBeforeShow.apply(this, [cal.get(0)]);\n\t\t\t\t\tvar pos = $(this).offset();\n\t\t\t\t\tvar viewPort = getViewport();\n\t\t\t\t\tvar top = pos.top;\n\t\t\t\t\tvar left = pos.left;\n\t\t\t\t\tvar oldDisplay = $.css(calEl, 'display');\n\t\t\t\t\tcal.css({\n\t\t\t\t\t\tvisibility: 'hidden',\n\t\t\t\t\t\tdisplay: 'block'\n\t\t\t\t\t});\n\t\t\t\t\tlayout(calEl);\n\t\t\t\t\tswitch (options.position){\n\t\t\t\t\t\tcase 'top':\n\t\t\t\t\t\t\ttop -= calEl.offsetHeight;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'left':\n\t\t\t\t\t\t\tleft -= calEl.offsetWidth;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'right':\n\t\t\t\t\t\t\tleft += this.offsetWidth;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\t\ttop += this.offsetHeight;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (top + calEl.offsetHeight > viewPort.t + viewPort.h) {\n\t\t\t\t\t\ttop = pos.top  - calEl.offsetHeight;\n\t\t\t\t\t}\n\t\t\t\t\tif (top < viewPort.t) {\n\t\t\t\t\t\ttop = pos.top + this.offsetHeight + calEl.offsetHeight;\n\t\t\t\t\t}\n\t\t\t\t\tif (left + calEl.offsetWidth > viewPort.l + viewPort.w) {\n\t\t\t\t\t\tleft = pos.left - calEl.offsetWidth;\n\t\t\t\t\t}\n\t\t\t\t\tif (left < viewPort.l) {\n\t\t\t\t\t\tleft = pos.left + this.offsetWidth\n\t\t\t\t\t}\n\t\t\t\t\tcal.css({\n\t\t\t\t\t\tvisibility: 'visible',\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\ttop: top + 'px',\n\t\t\t\t\t\tleft: left + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tif (options.onShow.apply(this, [cal.get(0)]) != false) {\n\t\t\t\t\t\tcal.show();\n\t\t\t\t\t}\n\t\t\t\t\t$(document).bind('mousedown', {cal: cal, trigger: this}, hide);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\thide = function (ev) {\n\t\t\t\tif (ev.target != ev.data.trigger && !isChildOf(ev.data.cal.get(0), ev.target, ev.data.cal.get(0))) {\n\t\t\t\t\tif (ev.data.cal.data('datepicker').onHide.apply(this, [ev.data.cal.get(0)]) != false) {\n\t\t\t\t\t\tev.data.cal.hide();\n\t\t\t\t\t}\n\t\t\t\t\t$(document).unbind('mousedown', hide);\n\t\t\t\t}\n\t\t\t};\n\t\treturn {\n\t\t\tinit: function(options){\n\t\t\t\toptions = $.extend({}, defaults, options||{});\n\t\t\t\textendDate(options.locale);\n\t\t\t\toptions.calendars = Math.max(1, parseInt(options.calendars,10)||1);\n\t\t\t\toptions.mode = /single|multiple|range/.test(options.mode) ? options.mode : 'single';\n\t\t\t\treturn this.each(function(){\n\t\t\t\t\tif (!$(this).data('datepicker')) {\n\t\t\t\t\t\toptions.el = this;\n\t\t\t\t\t\tif (options.date.constructor == String) {\n\t\t\t\t\t\t\toptions.date = parseDate(options.date, options.format);\n\t\t\t\t\t\t\toptions.date.setHours(0,0,0,0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (options.mode != 'single') {\n\t\t\t\t\t\t\tif (options.date.constructor != Array) {\n\t\t\t\t\t\t\t\toptions.date = [options.date.valueOf()];\n\t\t\t\t\t\t\t\tif (options.mode == 'range') {\n\t\t\t\t\t\t\t\t\toptions.date.push(((new Date(options.date[0])).setHours(23,59,59,0)).valueOf());\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfor (var i = 0; i < options.date.length; i++) {\n\t\t\t\t\t\t\t\t\toptions.date[i] = (parseDate(options.date[i], options.format).setHours(0,0,0,0)).valueOf();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (options.mode == 'range') {\n\t\t\t\t\t\t\t\t\toptions.date[1] = ((new Date(options.date[1])).setHours(23,59,59,0)).valueOf();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\toptions.date = options.date.valueOf();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!options.current) {\n\t\t\t\t\t\t\toptions.current = new Date();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\toptions.current = parseDate(options.current, options.format);\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions.current.setDate(1);\n\t\t\t\t\t\toptions.current.setHours(0,0,0,0);\n\t\t\t\t\t\tvar id = 'datepicker_' + parseInt(Math.random() * 1000), cnt;\n\t\t\t\t\t\toptions.id = id;\n\t\t\t\t\t\t$(this).data('datepickerId', options.id);\n\t\t\t\t\t\tvar cal = $(tpl.wrapper).attr('id', id).bind('click', click).data('datepicker', options);\n\t\t\t\t\t\tif (options.className) {\n\t\t\t\t\t\t\tcal.addClass(options.className);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar html = '';\n\t\t\t\t\t\tfor (var i = 0; i < options.calendars; i++) {\n\t\t\t\t\t\t\tcnt = options.starts;\n\t\t\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\t\t\thtml += tpl.space;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thtml += tmpl(tpl.head.join(''), {\n\t\t\t\t\t\t\t\t\tweek: options.locale.weekMin,\n\t\t\t\t\t\t\t\t\tprev: options.prev,\n\t\t\t\t\t\t\t\t\tnext: options.next,\n\t\t\t\t\t\t\t\t\tday1: options.locale.daysMin[(cnt++)%7],\n\t\t\t\t\t\t\t\t\tday2: options.locale.daysMin[(cnt++)%7],\n\t\t\t\t\t\t\t\t\tday3: options.locale.daysMin[(cnt++)%7],\n\t\t\t\t\t\t\t\t\tday4: options.locale.daysMin[(cnt++)%7],\n\t\t\t\t\t\t\t\t\tday5: options.locale.daysMin[(cnt++)%7],\n\t\t\t\t\t\t\t\t\tday6: options.locale.daysMin[(cnt++)%7],\n\t\t\t\t\t\t\t\t\tday7: options.locale.daysMin[(cnt++)%7]\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcal\n\t\t\t\t\t\t\t.find('tr:first').append(html)\n\t\t\t\t\t\t\t\t.find('table').addClass(views[options.view]);\n\t\t\t\t\t\tfill(cal.get(0));\n\t\t\t\t\t\tif (options.flat) {\n\t\t\t\t\t\t\tcal.appendTo(this).show().css('position', 'relative');\n\t\t\t\t\t\t\tlayout(cal.get(0));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcal.appendTo(document.body);\n\t\t\t\t\t\t\t$(this).bind(options.eventName, show);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tshowPicker: function() {\n\t\t\t\treturn this.each( function () {\n\t\t\t\t\tif ($(this).data('datepickerId')) {\n\t\t\t\t\t\tshow.apply(this);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\thidePicker: function() {\n\t\t\t\treturn this.each( function () {\n\t\t\t\t\tif ($(this).data('datepickerId')) {\n\t\t\t\t\t\t$('#' + $(this).data('datepickerId')).hide();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tsetDate: function(date, shiftTo){\n\t\t\t\treturn this.each(function(){\n\t\t\t\t\tif ($(this).data('datepickerId')) {\n\t\t\t\t\t\tvar cal = $('#' + $(this).data('datepickerId'));\n\t\t\t\t\t\tvar options = cal.data('datepicker');\n\t\t\t\t\t\toptions.date = date;\n\t\t\t\t\t\tif (options.date.constructor == String) {\n\t\t\t\t\t\t\toptions.date = parseDate(options.date, options.format);\n\t\t\t\t\t\t\toptions.date.setHours(0,0,0,0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (options.mode != 'single') {\n\t\t\t\t\t\t\tif (options.date.constructor != Array) {\n\t\t\t\t\t\t\t\toptions.date = [options.date.valueOf()];\n\t\t\t\t\t\t\t\tif (options.mode == 'range') {\n\t\t\t\t\t\t\t\t\toptions.date.push(((new Date(options.date[0])).setHours(23,59,59,0)).valueOf());\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfor (var i = 0; i < options.date.length; i++) {\n\t\t\t\t\t\t\t\t\toptions.date[i] = (parseDate(options.date[i], options.format).setHours(0,0,0,0)).valueOf();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (options.mode == 'range') {\n\t\t\t\t\t\t\t\t\toptions.date[1] = ((new Date(options.date[1])).setHours(23,59,59,0)).valueOf();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\toptions.date = options.date.valueOf();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (shiftTo) {\n\t\t\t\t\t\t\toptions.current = new Date (options.mode != 'single' ? options.date[0] : options.date);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfill(cal.get(0));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tgetDate: function(formated) {\n\t\t\t\tif (this.size() > 0) {\n\t\t\t\t\treturn prepareDate($('#' + $(this).data('datepickerId')).data('datepicker'))[formated ? 0 : 1];\n\t\t\t\t}\n\t\t\t},\n\t\t\tclear: function(){\n\t\t\t\treturn this.each(function(){\n\t\t\t\t\tif ($(this).data('datepickerId')) {\n\t\t\t\t\t\tvar cal = $('#' + $(this).data('datepickerId'));\n\t\t\t\t\t\tvar options = cal.data('datepicker');\n\t\t\t\t\t\tif (options.mode != 'single') {\n\t\t\t\t\t\t\toptions.date = [];\n\t\t\t\t\t\t\tfill(cal.get(0));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tfixLayout: function(){\n\t\t\t\treturn this.each(function(){\n\t\t\t\t\tif ($(this).data('datepickerId')) {\n\t\t\t\t\t\tvar cal = $('#' + $(this).data('datepickerId'));\n\t\t\t\t\t\tvar options = cal.data('datepicker');\n\t\t\t\t\t\tif (options.flat) {\n\t\t\t\t\t\t\tlayout(cal.get(0));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}();\n\t$.fn.extend({\n\t\tDatePicker: DatePicker.init,\n\t\tDatePickerHide: DatePicker.hidePicker,\n\t\tDatePickerShow: DatePicker.showPicker,\n\t\tDatePickerSetDate: DatePicker.setDate,\n\t\tDatePickerGetDate: DatePicker.getDate,\n\t\tDatePickerClear: DatePicker.clear,\n\t\tDatePickerLayout: DatePicker.fixLayout\n\t});\n})(jQuery);\n\n(function(){\n  var cache = {};\n\n  this.tmpl = function tmpl(str, data){\n    // Figure out if we're getting a template, or if we need to\n    // load the template - and be sure to cache the result.\n    var fn = !/\\W/.test(str) ?\n      cache[str] = cache[str] ||\n        tmpl(document.getElementById(str).innerHTML) :\n\n      // Generate a reusable function that will serve as a template\n      // generator (and which will be cached).\n      new Function(\"obj\",\n        \"var p=[],print=function(){p.push.apply(p,arguments);};\" +\n\n        // Introduce the data as local variables using with(){}\n        \"with(obj){p.push('\" +\n\n        // Convert the template into pure JavaScript\n        str\n          .replace(/[\\r\\t\\n]/g, \" \")\n          .split(\"<%\").join(\"\\t\")\n          .replace(/((^|%>)[^\\t]*)'/g, \"$1\\r\")\n          .replace(/\\t=(.*?)%>/g, \"',$1,'\")\n          .split(\"\\t\").join(\"');\")\n          .split(\"%>\").join(\"p.push('\")\n          .split(\"\\r\").join(\"\\\\'\")\n      + \"');}return p.join('');\");\n\n    // Provide some basic currying to the user\n    return data ? fn( data ) : fn;\n  };\n})();\n","/*! nanoScrollerJS - v0.7.2\n * * http://jamesflorentino.github.com/nanoScrollerJS/\n * * Copyright (c) 2013 James Florentino; Licensed MIT */\n\n\n(function($, window, document) {\n  \"use strict\";\n\n  var BROWSER_IS_IE7, BROWSER_SCROLLBAR_WIDTH, DOMSCROLL, DOWN, DRAG, KEYDOWN, KEYUP, MOUSEDOWN, MOUSEMOVE, MOUSEUP, MOUSEWHEEL, NanoScroll, PANEDOWN, RESIZE, SCROLL, SCROLLBAR, TOUCHMOVE, UP, WHEEL, defaults, getBrowserScrollbarWidth;\n  defaults = {\n    /**\n *       a classname for the pane element.\n *             @property paneClass\n *                   @type String\n *                         @default 'pane'\n *                             */\n\n    paneClass: 'pane',\n    /**\n *       a classname for the slider element.\n *             @property sliderClass\n *                   @type String\n *                         @default 'slider'\n *                             */\n\n    sliderClass: 'slider',\n    /**\n *       a classname for the content element.\n *             @property contentClass\n *                   @type String\n *                         @default 'content'\n *                             */\n\n    contentClass: 'content',\n    /**\n *       a setting to enable native scrolling in iOS devices.\n *             @property iOSNativeScrolling\n *                   @type Boolean\n *                         @default false\n *                             */\n\n    iOSNativeScrolling: false,\n    /**\n *       a setting to prevent the rest of the page being\n *             scrolled when user scrolls the `.content` element.\n *                   @property preventPageScrolling\n *                         @type Boolean\n *                               @default false\n *                                   */\n\n    preventPageScrolling: false,\n    /**\n *       a setting to disable binding to the resize event.\n *             @property disableResize\n *                   @type Boolean\n *                         @default false\n *                             */\n\n    disableResize: false,\n    /**\n *       a setting to make the scrollbar always visible.\n *             @property alwaysVisible\n *                   @type Boolean\n *                         @default false\n *                             */\n\n    alwaysVisible: false,\n    /**\n *       a default timeout for the `flash()` method.\n *             @property flashDelay\n *                   @type Number\n *                         @default 1500\n *                             */\n\n    flashDelay: 1500,\n    /**\n *       a minimum height for the `.slider` element.\n *             @property sliderMinHeight\n *                   @type Number\n *                         @default 20\n *                             */\n\n    sliderMinHeight: 20,\n    /**\n *       a maximum height for the `.slider` element.\n *             @property sliderMaxHeight\n *                   @type Number\n *                         @default null\n *                             */\n\n    sliderMaxHeight: null,\n    /**\n *       an alternate document context.\n *             @property documentContext\n *                   @type Document\n *                         @default null\n *                             */\n\n    documentContext: null,\n    /**\n *       an alternate window context.\n *             @property windowContext\n *                   @type Window\n *                         @default null\n *                             */\n\n    windowContext: null\n  };\n  /**\n *     @property SCROLLBAR\n *         @type String\n *             @static\n *                 @final\n *                     @private\n *                       */\n\n  SCROLLBAR = 'scrollbar';\n  /**\n *     @property SCROLL\n *         @type String\n *             @static\n *                 @final\n *                     @private\n *                       */\n\n  SCROLL = 'scroll';\n  /**\n *     @property MOUSEDOWN\n *         @type String\n *             @final\n *                 @private\n *                   */\n\n  MOUSEDOWN = 'mousedown';\n  /**\n *     @property MOUSEMOVE\n *         @type String\n *             @static\n *                 @final\n *                     @private\n *                       */\n\n  MOUSEMOVE = 'mousemove';\n  /**\n *     @property MOUSEWHEEL\n *         @type String\n *             @final\n *                 @private\n *                   */\n\n  MOUSEWHEEL = 'mousewheel';\n  /**\n *     @property MOUSEUP\n *         @type String\n *             @static\n *                 @final\n *                     @private\n *                       */\n\n  MOUSEUP = 'mouseup';\n  /**\n *     @property RESIZE\n *         @type String\n *             @final\n *                 @private\n *                   */\n\n  RESIZE = 'resize';\n  /**\n *     @property DRAG\n *         @type String\n *             @static\n *                 @final\n *                     @private\n *                       */\n\n  DRAG = 'drag';\n  /**\n *     @property UP\n *         @type String\n *             @static\n *                 @final\n *                     @private\n *                       */\n\n  UP = 'up';\n  /**\n *     @property PANEDOWN\n *         @type String\n *             @static\n *                 @final\n *                     @private\n *                       */\n\n  PANEDOWN = 'panedown';\n  /**\n *     @property DOMSCROLL\n *         @type String\n *             @static\n *                 @final\n *                     @private\n *                       */\n\n  DOMSCROLL = 'DOMMouseScroll';\n  /**\n *     @property DOWN\n *         @type String\n *             @static\n *                 @final\n *                     @private\n *                       */\n\n  DOWN = 'down';\n  /**\n *     @property WHEEL\n *         @type String\n *             @static\n *                 @final\n *                     @private\n *                       */\n\n  WHEEL = 'wheel';\n  /**\n *     @property KEYDOWN\n *         @type String\n *             @static\n *                 @final\n *                     @private\n *                       */\n\n  KEYDOWN = 'keydown';\n  /**\n *     @property KEYUP\n *         @type String\n *             @static\n *                 @final\n *                     @private\n *                       */\n\n  KEYUP = 'keyup';\n  /**\n *     @property TOUCHMOVE\n *         @type String\n *             @static\n *                 @final\n *                     @private\n *                       */\n\n  TOUCHMOVE = 'touchmove';\n  /**\n *     @property BROWSER_IS_IE7\n *         @type Boolean\n *             @static\n *                 @final\n *                     @private\n *                       */\n\n  BROWSER_IS_IE7 = window.navigator.appName === 'Microsoft Internet Explorer' && /msie 7./i.test(window.navigator.appVersion) && window.ActiveXObject;\n  /**\n *     @property BROWSER_SCROLLBAR_WIDTH\n *         @type Number\n *             @static\n *                 @default null\n *                     @private\n *                       */\n\n  BROWSER_SCROLLBAR_WIDTH = null;\n  /**\n *     Returns browser's native scrollbar width\n *         @method getBrowserScrollbarWidth\n *             @return {Number} the scrollbar width in pixels\n *                 @static\n *                     @private\n *                       */\n\n  getBrowserScrollbarWidth = function() {\n    var outer, outerStyle, scrollbarWidth;\n    outer = document.createElement('div');\n    outerStyle = outer.style;\n    outerStyle.position = 'absolute';\n    outerStyle.width = '100px';\n    outerStyle.height = '100px';\n    outerStyle.overflow = SCROLL;\n    outerStyle.top = '-9999px';\n    document.body.appendChild(outer);\n    scrollbarWidth = outer.offsetWidth - outer.clientWidth;\n    document.body.removeChild(outer);\n    return scrollbarWidth;\n  };\n  /**\n *     @class NanoScroll\n *         @param element {HTMLElement|Node} the main element\n *             @param options {Object} nanoScroller's options\n *                 @constructor\n *                   */\n\n  NanoScroll = (function() {\n\n    function NanoScroll(el, options) {\n      this.el = el;\n      this.options = options;\n      BROWSER_SCROLLBAR_WIDTH || (BROWSER_SCROLLBAR_WIDTH = getBrowserScrollbarWidth());\n      this.$el = $(this.el);\n      this.doc = $(this.options.documentContext || document);\n      this.win = $(this.options.windowContext || window);\n      this.$content = this.$el.children(\".\" + options.contentClass);\n      this.$content.attr('tabindex', 0);\n      this.content = this.$content[0];\n      if (this.options.iOSNativeScrolling && (this.el.style.WebkitOverflowScrolling != null)) {\n        this.nativeScrolling();\n      } else {\n        this.generate();\n      }\n      this.createEvents();\n      this.addEvents();\n      this.reset();\n    }\n\n    /**\n *       Prevents the rest of the page being scrolled\n *             when user scrolls the `.content` element.\n *                   @method preventScrolling\n *                         @param event {Event}\n *                               @param direction {String} Scroll direction (up or down)\n *                                     @private\n *                                         */\n\n\n    NanoScroll.prototype.preventScrolling = function(e, direction) {\n      if (!this.isActive) {\n        return;\n      }\n      if (e.type === DOMSCROLL) {\n        if (direction === DOWN && e.originalEvent.detail > 0 || direction === UP && e.originalEvent.detail < 0) {\n          e.preventDefault();\n        }\n      } else if (e.type === MOUSEWHEEL) {\n        if (!e.originalEvent || !e.originalEvent.wheelDelta) {\n          return;\n        }\n        if (direction === DOWN && e.originalEvent.wheelDelta < 0 || direction === UP && e.originalEvent.wheelDelta > 0) {\n          e.preventDefault();\n        }\n      }\n    };\n\n    /**\n *       Enable iOS native scrolling\n *           */\n\n\n    NanoScroll.prototype.nativeScrolling = function() {\n      this.$content.css({\n        WebkitOverflowScrolling: 'touch'\n      });\n      this.iOSNativeScrolling = true;\n      this.isActive = true;\n    };\n\n    /**\n *       Updates those nanoScroller properties that\n *             are related to current scrollbar position.\n *                   @method updateScrollValues\n *                         @private\n *                             */\n\n\n    NanoScroll.prototype.updateScrollValues = function() {\n      var content;\n      content = this.content;\n      this.maxScrollTop = content.scrollHeight - content.clientHeight;\n      this.contentScrollTop = content.scrollTop;\n      if (!this.iOSNativeScrolling) {\n        this.maxSliderTop = this.paneHeight - this.sliderHeight;\n        this.sliderTop = this.contentScrollTop * this.maxSliderTop / this.maxScrollTop;\n      }\n    };\n\n    /**\n *       Creates event related methods\n *             @method createEvents\n *                   @private\n *                       */\n\n\n    NanoScroll.prototype.createEvents = function() {\n      var _this = this;\n      this.events = {\n        down: function(e) {\n          _this.isBeingDragged = true;\n          _this.offsetY = e.pageY - _this.slider.offset().top;\n          _this.pane.addClass('active');\n          _this.doc.bind(MOUSEMOVE, _this.events[DRAG]).bind(MOUSEUP, _this.events[UP]);\n          return false;\n        },\n        drag: function(e) {\n          _this.sliderY = e.pageY - _this.$el.offset().top - _this.offsetY;\n          _this.scroll();\n          _this.updateScrollValues();\n          if (_this.contentScrollTop >= _this.maxScrollTop) {\n            _this.$el.trigger('scrollend');\n          } else if (_this.contentScrollTop === 0) {\n            _this.$el.trigger('scrolltop');\n          }\n          return false;\n        },\n        up: function(e) {\n          _this.isBeingDragged = false;\n          _this.pane.removeClass('active');\n          _this.doc.unbind(MOUSEMOVE, _this.events[DRAG]).unbind(MOUSEUP, _this.events[UP]);\n          return false;\n        },\n        resize: function(e) {\n          _this.reset();\n        },\n        panedown: function(e) {\n          _this.sliderY = (e.offsetY || e.originalEvent.layerY) - (_this.sliderHeight * 0.5);\n          _this.scroll();\n          _this.events.down(e);\n          return false;\n        },\n        scroll: function(e) {\n          if (_this.isBeingDragged) {\n            return;\n          }\n          _this.updateScrollValues();\n          if (!_this.iOSNativeScrolling) {\n            _this.sliderY = _this.sliderTop;\n            _this.slider.css({\n              top: _this.sliderTop\n            });\n          }\n          if (e == null) {\n            return;\n          }\n          if (_this.contentScrollTop >= _this.maxScrollTop) {\n            if (_this.options.preventPageScrolling) {\n              _this.preventScrolling(e, DOWN);\n            }\n            _this.$el.trigger('scrollend');\n          } else if (_this.contentScrollTop === 0) {\n            if (_this.options.preventPageScrolling) {\n              _this.preventScrolling(e, UP);\n            }\n            _this.$el.trigger('scrolltop');\n          }\n        },\n        wheel: function(e) {\n          if (e == null) {\n            return;\n          }\n          _this.sliderY += -e.wheelDeltaY || -e.delta;\n          _this.scroll();\n          return false;\n        }\n      };\n    };\n\n    /**\n *       Adds event listeners with jQuery.\n *             @method addEvents\n *                   @private\n *                       */\n\n\n    NanoScroll.prototype.addEvents = function() {\n      var events;\n      this.removeEvents();\n      events = this.events;\n      if (!this.options.disableResize) {\n        this.win.bind(RESIZE, events[RESIZE]);\n      }\n      if (!this.iOSNativeScrolling) {\n        this.slider.bind(MOUSEDOWN, events[DOWN]);\n        this.pane.bind(MOUSEDOWN, events[PANEDOWN]).bind(\"\" + MOUSEWHEEL + \" \" + DOMSCROLL, events[WHEEL]);\n      }\n      this.$content.bind(\"\" + SCROLL + \" \" + MOUSEWHEEL + \" \" + DOMSCROLL + \" \" + TOUCHMOVE, events[SCROLL]);\n    };\n\n    /**\n *       Removes event listeners with jQuery.\n *             @method removeEvents\n *                   @private\n *                       */\n\n\n    NanoScroll.prototype.removeEvents = function() {\n      var events;\n      events = this.events;\n      this.win.unbind(RESIZE, events[RESIZE]);\n      if (!this.iOSNativeScrolling) {\n        this.slider.unbind();\n        this.pane.unbind();\n      }\n      this.$content.unbind(\"\" + SCROLL + \" \" + MOUSEWHEEL + \" \" + DOMSCROLL + \" \" + TOUCHMOVE, events[SCROLL]);\n    };\n\n    /**\n *       Generates nanoScroller's scrollbar and elements for it.\n *             @method generate\n *                   @chainable\n *                         @private\n *                             */\n\n\n    NanoScroll.prototype.generate = function() {\n      var contentClass, cssRule, options, paneClass, sliderClass;\n      options = this.options;\n      paneClass = options.paneClass, sliderClass = options.sliderClass, contentClass = options.contentClass;\n      if (!this.$el.find(\".\" + paneClass).length && !this.$el.find(\".\" + sliderClass).length) {\n        this.$el.append(\"<div class=\\\"\" + paneClass + \"\\\"><div class=\\\"\" + sliderClass + \"\\\" /></div>\");\n      }\n      this.pane = this.$el.children(\".\" + paneClass);\n      this.slider = this.pane.find(\".\" + sliderClass);\n      if (BROWSER_SCROLLBAR_WIDTH) {\n        cssRule = this.$el.css('direction') === 'rtl' ? {\n          left: -BROWSER_SCROLLBAR_WIDTH\n        } : {\n          right: -BROWSER_SCROLLBAR_WIDTH\n        };\n        this.$el.addClass('has-scrollbar');\n      }\n      if (cssRule != null) {\n        this.$content.css(cssRule);\n      }\n      return this;\n    };\n\n    /**\n *       @method restore\n *             @private\n *                 */\n\n\n    NanoScroll.prototype.restore = function() {\n      this.stopped = false;\n      this.pane.show();\n      this.addEvents();\n    };\n\n    /**\n *       Resets nanoScroller's scrollbar.\n *             @method reset\n *                   @chainable\n *                         @example\n *                                   $(\".nano\").nanoScroller();\n *                                       */\n\n\n    NanoScroll.prototype.reset = function() {\n      var content, contentHeight, contentStyle, contentStyleOverflowY, paneBottom, paneHeight, paneOuterHeight, paneTop, sliderHeight;\n      if (this.iOSNativeScrolling) {\n        this.contentHeight = this.content.scrollHeight;\n        return;\n      }\n      if (!this.$el.find(\".\" + this.options.paneClass).length) {\n        this.generate().stop();\n      }\n      if (this.stopped) {\n        this.restore();\n      }\n      content = this.content;\n      contentStyle = content.style;\n      contentStyleOverflowY = contentStyle.overflowY;\n      if (BROWSER_IS_IE7) {\n        this.$content.css({\n          height: this.$content.height()\n        });\n      }\n      contentHeight = content.scrollHeight + BROWSER_SCROLLBAR_WIDTH;\n      paneHeight = this.pane.outerHeight();\n      paneTop = parseInt(this.pane.css('top'), 10);\n      paneBottom = parseInt(this.pane.css('bottom'), 10);\n      paneOuterHeight = paneHeight + paneTop + paneBottom;\n      sliderHeight = Math.round(paneOuterHeight / contentHeight * paneOuterHeight);\n      if (sliderHeight < this.options.sliderMinHeight) {\n        sliderHeight = this.options.sliderMinHeight;\n      } else if ((this.options.sliderMaxHeight != null) && sliderHeight > this.options.sliderMaxHeight) {\n        sliderHeight = this.options.sliderMaxHeight;\n      }\n      if (contentStyleOverflowY === SCROLL && contentStyle.overflowX !== SCROLL) {\n        sliderHeight += BROWSER_SCROLLBAR_WIDTH;\n      }\n      this.maxSliderTop = paneOuterHeight - sliderHeight;\n      this.contentHeight = contentHeight;\n      this.paneHeight = paneHeight;\n      this.paneOuterHeight = paneOuterHeight;\n      this.sliderHeight = sliderHeight;\n      this.slider.height(sliderHeight);\n      this.events.scroll();\n      this.pane.show();\n      this.isActive = true;\n      if ((content.scrollHeight === content.clientHeight) || (this.pane.outerHeight(true) >= content.scrollHeight && contentStyleOverflowY !== SCROLL)) {\n        this.pane.hide();\n        this.isActive = false;\n      } else if (this.el.clientHeight === content.scrollHeight && contentStyleOverflowY === SCROLL) {\n        this.slider.hide();\n      } else {\n        this.slider.show();\n      }\n      this.pane.css({\n        opacity: (this.options.alwaysVisible ? 1 : ''),\n        visibility: (this.options.alwaysVisible ? 'visible' : '')\n      });\n      return this;\n    };\n\n    /**\n *       @method scroll\n *             @private\n *                   @example\n *                             $(\".nano\").nanoScroller({ scroll: 'top' });\n *                                 */\n\n\n    NanoScroll.prototype.scroll = function() {\n      if (!this.isActive) {\n        return;\n      }\n      this.sliderY = Math.max(0, this.sliderY);\n      this.sliderY = Math.min(this.maxSliderTop, this.sliderY);\n      this.$content.scrollTop((this.paneHeight - this.contentHeight + BROWSER_SCROLLBAR_WIDTH) * this.sliderY / this.maxSliderTop * -1);\n      if (!this.iOSNativeScrolling) {\n        this.slider.css({\n          top: this.sliderY\n        });\n      }\n      return this;\n    };\n\n    /**\n *       Scroll at the bottom with an offset value\n *             @method scrollBottom\n *                   @param offsetY {Number}\n *                         @chainable\n *                               @example\n *                                         $(\".nano\").nanoScroller({ scrollBottom: value });\n *                                             */\n\n\n    NanoScroll.prototype.scrollBottom = function(offsetY) {\n      if (!this.isActive) {\n        return;\n      }\n      this.reset();\n      this.$content.scrollTop(this.contentHeight - this.$content.height() - offsetY).trigger(MOUSEWHEEL);\n      return this;\n    };\n\n    /**\n *       Scroll at the top with an offset value\n *             @method scrollTop\n *                   @param offsetY {Number}\n *                         @chainable\n *                               @example\n *                                         $(\".nano\").nanoScroller({ scrollTop: value });\n *                                             */\n\n\n    NanoScroll.prototype.scrollTop = function(offsetY) {\n      if (!this.isActive) {\n        return;\n      }\n      this.reset();\n      this.$content.scrollTop(+offsetY).trigger(MOUSEWHEEL);\n      return this;\n    };\n\n    /**\n *       Scroll to an element\n *             @method scrollTo\n *                   @param node {Node} A node to scroll to.\n *                         @chainable\n *                               @example\n *                                         $(\".nano\").nanoScroller({ scrollTo: $('#a_node') });\n *                                             */\n\n\n    NanoScroll.prototype.scrollTo = function(node) {\n      if (!this.isActive) {\n        return;\n      }\n      this.reset();\n      this.scrollTop($(node).get(0).offsetTop);\n      return this;\n    };\n\n    /**\n *       To stop the operation.\n *             This option will tell the plugin to disable all event bindings and hide the gadget scrollbar from the UI.\n *                   @method stop\n *                         @chainable\n *                               @example\n *                                         $(\".nano\").nanoScroller({ stop: true });\n *                                             */\n\n\n    NanoScroll.prototype.stop = function() {\n      this.stopped = true;\n      this.removeEvents();\n      this.pane.hide();\n      return this;\n    };\n\n    /**\n *       To flash the scrollbar gadget for an amount of time defined in plugin settings (defaults to 1,5s).\n *             Useful if you want to show the user (e.g. on pageload) that there is more content waiting for him.\n *                   @method flash\n *                         @chainable\n *                               @example\n *                                         $(\".nano\").nanoScroller({ flash: true });\n *                                             */\n\n\n    NanoScroll.prototype.flash = function() {\n      var _this = this;\n      if (!this.isActive) {\n        return;\n      }\n      this.reset();\n      this.pane.addClass('flashed');\n      setTimeout(function() {\n        _this.pane.removeClass('flashed');\n      }, this.options.flashDelay);\n      return this;\n    };\n\n    return NanoScroll;\n\n  })();\n  $.fn.nanoScroller = function(settings) {\n    var reset = true;\n    \n    return this.each(function() {\n      var options, scrollbar;\n      if (!(scrollbar = this.nanoscroller)) {\n        options = $.extend({}, defaults, settings);\n        this.nanoscroller = scrollbar = new NanoScroll(this, options);\n      }\n      if (settings && typeof settings === \"object\") {\n        $.extend(scrollbar.options, settings);\n        if (settings.scrollBottom) {\n          return scrollbar.scrollBottom(settings.scrollBottom);\n        }\n        if (settings.scrollTop) {\n          return scrollbar.scrollTop(settings.scrollTop);\n        }\n        if (settings.scrollTo) {\n          return scrollbar.scrollTo(settings.scrollTo);\n        }\n        if (settings.scroll === 'bottom') {\n          return scrollbar.scrollBottom(0);\n        }\n        if (settings.scroll === 'top') {\n          return scrollbar.scrollTop(0);\n        }\n        if (settings.scroll && settings.scroll instanceof $) {\n          return scrollbar.scrollTo(settings.scroll);\n        }\n        if (settings.stop) {\n          return scrollbar.stop();\n        }\n        if (settings.flash) {\n          return scrollbar.flash();\n        }\n        \n        if(settings.noReset) {\n          reset = false;\n        }\n      }\n      \n      if(reset) {\n        return scrollbar.reset();\n      }\n    });\n  };\n})(jQuery, window, document);\n","/*\n* Highlight strings in the given element(s) by wrapping with a HTML element with an applied class.\n*\n* Usage:\n*     $('#some_selector').strEle(stringToLookFor, optionsObject, flagSaveOptions);\n*\n*  stringToLookFor : The string/text you are looking for and hope to wrap/highlight.\n*  optionsObject:  An object holding the optiins you want to utilize.\n*                  The object and its defaults are as folows:\n*         {\n*             // (boolean) Whether the string/text you are searching for is case sensitive.\n*             caseSensitive: false,\n*             // The name of the class you wish to apply to the wrapper HTML element\n*             className    : \"string-found\",\n*             // The HTML element name for what matches should be wrapped in.\n*             // Be careful to only give the element name and to only use\n*             // elements that can wrap (no self-closing elements).\n*             wrap         : 'span'\n*         }\n*  flagSaveOptions: (boolean) Pass this as true to save the given options as new defaults.\n*\n* A note on excluding elements: It won't work. Because of the way the HTMl replacement stuff works,\n* there is no good way to traverse sub-elements and text contents each. So, if you've got a region that you don't want\n* highlighted, you'll need to wrap it in something you can get to with jQuery and remove the added class names. Sadly,\n* This means that the added HTMl wrap elements will still be around and could get nested. However, until the HTML\n* element contents of an element along with the text nodes can be traversed reliably in all browsers, it's gotta be\n* this way (/shakes an angry fist at nobody in particular).\n*/\n;(function($, win, doc) {\n    var pluginName    = \"strEle\",\n        storedOptions = null,\n        defaults      = {\n            caseSensitive: false,\n            className    : \"string-found\",\n            wrap         : 'span'\n        };\n\n    function store_options(opts) {\n        if(typeof opts === 'object'){\n            storedOptions = $.extend({}, defaults, opts);\n        }\n        return $.extend({}, storedOptions||defaults);\n    }\n\n    function rescape(str) {\n        if(typeof str === 'string') {\n            if(str.length) {\n                return str.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\");\n            } else {\n                return str;\n            }\n            return '';\n        }\n    }\n\n    function add_the_class(opts, $ele) {\n        if($ele.is(opts.wrap) && $ele.text() == opts.str) {\n            $ele.addClass(opts.className);\n        } else {\n            $ele.html($ele.html().replace(opts.replgx, function (m1, m2) {\n                return !m2? m1: '<'+opts.wrap+' class=\"'+opts.className+'\">'+m2+'</'+opts.wrap+'>';\n            }));\n        }\n    }\n\n    function traverse_kids(opts, $ele) {\n        var kids = $ele.find('*').filter(function(idx, subele) {\n            return opts.rgx.test($(subele).text());\n        }).each(function(idx, subele) {\n            add_the_class(opts, $(subele));\n        });\n    }\n\n    function Plugin(ele, str, opts, storeOpts) {\n        if(typeof str === 'string' && str.length) {\n            if(storeOpts) {\n                store_options(opts);\n            }\n\n            this.$ele           = $(ele);\n            this.options        = $.extend({}, storedOptions||defaults, opts);\n            this.options.str    = ''+str;\n            this.options.rgx    = new RegExp('(\\\\b'+rescape(str)+'\\\\b)', (this.options.caseSensitive? '' : 'i'));\n            this.options.replgx = new RegExp('<[^>]+>|(\\\\b'+rescape(str)+'\\\\b)', (this.options.caseSensitive? 'g' : 'gi'));\n\n            if(this.$ele.length && this.options.rgx.test(this.$ele.text())){ // element and at least one match in element and children?\n                this.kids = this.$ele.children();\n                if(this.kids.length < 1){\n                    add_the_class(this.options, this.$ele);\n                } else {\n                    traverse_kids(this.options, this.$ele);\n                }\n            }\n        }\n    }\n\n    $.fn[pluginName] = function(str, opts, storeOpts) {\n        new Plugin(this, str, opts, storeOpts);\n        return this;\n    };\n\n    $.fn[pluginName+'Opts'] = function(opts) {\n        return store_options(opts);\n    };\n\n})(jQuery, window, document);","/*\n * Viewport - jQuery selectors for finding elements in viewport\n *\n * Copyright (c) 2008-2009 Mika Tuupola\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n * Project home:\n *  http://www.appelsiini.net/projects/viewport\n *\n */\n(function($) {\n\n    $.belowthefold = function(element, settings) {\n        var fold = $(window).height() + $(window).scrollTop();\n        return fold <= $(element).offset().top - settings.threshold;\n    };\n\n    $.abovethetop = function(element, settings) {\n        var top = $(window).scrollTop();\n        return top >= $(element).offset().top + $(element).height() - settings.threshold;\n    };\n\n    $.rightofscreen = function(element, settings) {\n        var fold = $(window).width() + $(window).scrollLeft();\n        return fold <= $(element).offset().left - settings.threshold;\n    };\n\n    $.leftofscreen = function(element, settings) {\n        var left = $(window).scrollLeft();\n        return left >= $(element).offset().left + $(element).width() - settings.threshold;\n    };\n\n    $.inviewport = function(element, settings) {\n        var $element = $(element);\n        var offset = $element.offset();\n\n        var $window = $(window);\n        var windowTop = $window.scrollTop();\n        var threshold = settings.threshold;\n\n        if (offset.top - threshold < windowTop) {\n            if (offset.top + $element.height() + threshold >= windowTop) {\n                // top edge below the window's top\n            } else {\n                return false;\n            }\n        } else {\n            if (offset.top - threshold <= windowTop + $window.height()) {\n                // bottom edge above the window's bottom\n            } else {\n                return false;\n            }\n        }\n\n        var windowLeft = $window.scrollLeft();\n\n        if (offset.left - threshold < windowLeft) {\n            if (offset.left + $element.width() + threshold >= windowLeft) {\n                // left edge be on the left side of the window's left edge\n            } else {\n                return false;\n            }\n        } else {\n            if (offset.left - threshold <= windowLeft + $window.width()) {\n                // right edge be on the right side of the window's right edge\n            } else {\n                return false;\n            }\n        }\n\n        return true;\n    };\n\n    $.extend($.expr[':'], {\n        \"below-the-fold\": function(a, i, m) {\n            return $.belowthefold(a, {threshold : 0});\n        },\n        \"above-the-top\": function(a, i, m) {\n            return $.abovethetop(a, {threshold : 0});\n        },\n        \"left-of-screen\": function(a, i, m) {\n            return $.leftofscreen(a, {threshold : 0});\n        },\n        \"right-of-screen\": function(a, i, m) {\n            return $.rightofscreen(a, {threshold : 0});\n        },\n        \"in-viewport\": function(a, i, m) {\n            return $.inviewport(a, {threshold : 500});\n        }\n    });\n\n\n})(jQuery);\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.io = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\nmodule.exports =  _dereq_('./lib/');\n\n},{\"./lib/\":2}],2:[function(_dereq_,module,exports){\n\nmodule.exports = _dereq_('./socket');\n\n/**\n * Exports parser\n *\n * @api public\n *\n */\nmodule.exports.parser = _dereq_('engine.io-parser');\n\n},{\"./socket\":3,\"engine.io-parser\":19}],3:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar transports = _dereq_('./transports');\nvar Emitter = _dereq_('component-emitter');\nvar debug = _dereq_('debug')('engine.io-client:socket');\nvar index = _dereq_('indexof');\nvar parser = _dereq_('engine.io-parser');\nvar parseuri = _dereq_('parseuri');\nvar parsejson = _dereq_('parsejson');\nvar parseqs = _dereq_('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Socket;\n\n/**\n * Noop function.\n *\n * @api private\n */\n\nfunction noop(){}\n\n/**\n * Socket constructor.\n *\n * @param {String|Object} uri or options\n * @param {Object} options\n * @api public\n */\n\nfunction Socket(uri, opts){\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' == typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.hostname = uri.host;\n    opts.secure = uri.protocol == 'https' || uri.protocol == 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  } else if (opts.host) {\n    opts.hostname = parseuri(opts.host).host;\n  }\n\n  this.secure = null != opts.secure ? opts.secure :\n    (global.location && 'https:' == location.protocol);\n\n  if (opts.hostname && !opts.port) {\n    // if no port is specified manually, use the protocol default\n    opts.port = this.secure ? '443' : '80';\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (global.location ? location.hostname : 'localhost');\n  this.port = opts.port || (global.location && location.port ?\n       location.port :\n       (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' == typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n\n  if (true === this.perMessageDeflate) this.perMessageDeflate = {};\n  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n    this.perMessageDeflate.threshold = 1024;\n  }\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? null : opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  var freeGlobal = typeof global == 'object' && global;\n  if (freeGlobal.global === freeGlobal) {\n    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n      this.extraHeaders = opts.extraHeaders;\n    }\n  }\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nSocket.Socket = Socket;\nSocket.Transport = _dereq_('./transport');\nSocket.transports = _dereq_('./transports');\nSocket.parser = _dereq_('engine.io-parser');\n\n/**\n * Creates transport of the given type.\n *\n * @param {String} transport name\n * @return {Transport}\n * @api private\n */\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  // append engine.io protocol identifier\n  query.EIO = parser.protocol;\n\n  // transport name\n  query.transport = name;\n\n  // session id if we already have one\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    agent: this.agent,\n    hostname: this.hostname,\n    port: this.port,\n    secure: this.secure,\n    path: this.path,\n    query: query,\n    forceJSONP: this.forceJSONP,\n    jsonp: this.jsonp,\n    forceBase64: this.forceBase64,\n    enablesXDR: this.enablesXDR,\n    timestampRequests: this.timestampRequests,\n    timestampParam: this.timestampParam,\n    policyPort: this.policyPort,\n    socket: this,\n    pfx: this.pfx,\n    key: this.key,\n    passphrase: this.passphrase,\n    cert: this.cert,\n    ca: this.ca,\n    ciphers: this.ciphers,\n    rejectUnauthorized: this.rejectUnauthorized,\n    perMessageDeflate: this.perMessageDeflate,\n    extraHeaders: this.extraHeaders\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\n/**\n * Initializes transport to use and starts probe.\n *\n * @api private\n */\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') != -1) {\n    transport = 'websocket';\n  } else if (0 === this.transports.length) {\n    // Emit error on next tick so it can be listened to\n    var self = this;\n    setTimeout(function() {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  // Retry with the next transport if the transport is disabled (jsonp: false)\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n/**\n * Sets the current transport. Disables the existing one (if any).\n *\n * @api private\n */\n\nSocket.prototype.setTransport = function(transport){\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  // set up transport\n  this.transport = transport;\n\n  // set up transport listeners\n  transport\n  .on('drain', function(){\n    self.onDrain();\n  })\n  .on('packet', function(packet){\n    self.onPacket(packet);\n  })\n  .on('error', function(e){\n    self.onError(e);\n  })\n  .on('close', function(){\n    self.onClose('transport close');\n  });\n};\n\n/**\n * Probes a transport.\n *\n * @param {String} transport name\n * @api private\n */\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 })\n    , failed = false\n    , self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen(){\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' == msg.type && 'probe' == msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' == transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' == self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport() {\n    if (failed) return;\n\n    // Any callback called by transport should be ignored since now\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  //Handle any error that happens while probing\n  function onerror(err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose(){\n    onerror(\"transport closed\");\n  }\n\n  //When the socket is closed while we're probing\n  function onclose(){\n    onerror(\"socket closed\");\n  }\n\n  //When the socket is upgraded while we're probing\n  function onupgrade(to){\n    if (transport && to.name != transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  //Remove all listeners on the transport and on self\n  function cleanup(){\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n\n};\n\n/**\n * Called when connection is deemed open.\n *\n * @api public\n */\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' == this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  // we check for `readyState` in case an `open`\n  // listener already closed the socket\n  if ('open' == this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n/**\n * Handles a packet.\n *\n * @api private\n */\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    // Socket is live - any packet counts\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(parsejson(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        this.emit('pong');\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.onError(err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n/**\n * Called upon handshake completion.\n *\n * @param {Object} handshake obj\n * @api private\n */\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  // In case open handler closes socket\n  if  ('closed' == this.readyState) return;\n  this.setPing();\n\n  // Prolong liveness of socket on heartbeat\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n/**\n * Resets ping timeout.\n *\n * @api private\n */\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' == self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n/**\n * Pings server every `this.pingInterval` and expects response\n * within `this.pingTimeout` or closes connection.\n *\n * @api private\n */\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n/**\n* Sends a ping packet.\n*\n* @api private\n*/\n\nSocket.prototype.ping = function () {\n  var self = this;\n  this.sendPacket('ping', function(){\n    self.emit('ping');\n  });\n};\n\n/**\n * Called on `drain` event\n *\n * @api private\n */\n\nSocket.prototype.onDrain = function() {\n  this.writeBuffer.splice(0, this.prevBufferLen);\n\n  // setting prevBufferLen = 0 is very important\n  // for example, when upgrading, upgrade packet is sent over,\n  // and a nonzero prevBufferLen could cause problems on `drain`\n  this.prevBufferLen = 0;\n\n  if (0 === this.writeBuffer.length) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n/**\n * Flush write buffers.\n *\n * @api private\n */\n\nSocket.prototype.flush = function () {\n  if ('closed' != this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    // keep track of current length of writeBuffer\n    // splice writeBuffer and callbackBuffer on `drain`\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n/**\n * Sends a message.\n *\n * @param {String} message.\n * @param {Function} callback function.\n * @param {Object} options.\n * @return {Socket} for chaining.\n * @api public\n */\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, options, fn) {\n  this.sendPacket('message', msg, options, fn);\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {String} packet type.\n * @param {String} data.\n * @param {Object} options.\n * @param {Function} callback function.\n * @api private\n */\n\nSocket.prototype.sendPacket = function (type, data, options, fn) {\n  if('function' == typeof data) {\n    fn = data;\n    data = undefined;\n  }\n\n  if ('function' == typeof options) {\n    fn = options;\n    options = null;\n  }\n\n  if ('closing' == this.readyState || 'closed' == this.readyState) {\n    return;\n  }\n\n  options = options || {};\n  options.compress = false !== options.compress;\n\n  var packet = {\n    type: type,\n    data: data,\n    options: options\n  };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  if (fn) this.once('flush', fn);\n  this.flush();\n};\n\n/**\n * Closes the connection.\n *\n * @api private\n */\n\nSocket.prototype.close = function () {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function() {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  function close() {\n    self.onClose('forced close');\n    debug('socket closing - telling transport to close');\n    self.transport.close();\n  }\n\n  function cleanupAndClose() {\n    self.removeListener('upgrade', cleanupAndClose);\n    self.removeListener('upgradeError', cleanupAndClose);\n    close();\n  }\n\n  function waitForUpgrade() {\n    // wait for upgrade to finish since we can't send packets while pausing a transport\n    self.once('upgrade', cleanupAndClose);\n    self.once('upgradeError', cleanupAndClose);\n  }\n\n  return this;\n};\n\n/**\n * Called upon transport error\n *\n * @api private\n */\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n/**\n * Called upon transport close.\n *\n * @api private\n */\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' == this.readyState || 'open' == this.readyState || 'closing' == this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    // clear timers\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    // stop event from firing again for transport\n    this.transport.removeAllListeners('close');\n\n    // ensure transport won't stay open\n    this.transport.close();\n\n    // ignore further transport communication\n    this.transport.removeAllListeners();\n\n    // set ready state\n    this.readyState = 'closed';\n\n    // clear session id\n    this.id = null;\n\n    // emit close event\n    this.emit('close', reason, desc);\n\n    // clean buffers after, so users can still\n    // grab the buffers on `close` event\n    self.writeBuffer = [];\n    self.prevBufferLen = 0;\n  }\n};\n\n/**\n * Filters upgrades, returning only those matching client transports.\n *\n * @param {Array} server upgrades\n * @api private\n *\n */\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i<j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./transport\":4,\"./transports\":5,\"component-emitter\":15,\"debug\":17,\"engine.io-parser\":19,\"indexof\":23,\"parsejson\":26,\"parseqs\":27,\"parseuri\":28}],4:[function(_dereq_,module,exports){\n/**\n * Module dependencies.\n */\n\nvar parser = _dereq_('engine.io-parser');\nvar Emitter = _dereq_('component-emitter');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' == this.readyState || '' == this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function(packets){\n  if ('open' == this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function(data){\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n\n},{\"component-emitter\":15,\"engine.io-parser\":19}],5:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\nvar XHR = _dereq_('./polling-xhr');\nvar JSONP = _dereq_('./polling-jsonp');\nvar websocket = _dereq_('./websocket');\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling(opts){\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (global.location) {\n    var isSSL = 'https:' == location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname != location.hostname || port != opts.port;\n    xs = opts.secure != isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./polling-jsonp\":6,\"./polling-xhr\":7,\"./websocket\":9,\"xmlhttprequest-ssl\":10}],6:[function(_dereq_,module,exports){\n(function (global){\n\n/**\n * Module requirements.\n */\n\nvar Polling = _dereq_('./polling');\nvar inherit = _dereq_('component-inherit');\n\n/**\n * Module exports.\n */\n\nmodule.exports = JSONPPolling;\n\n/**\n * Cached regular expressions.\n */\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nvar callbacks;\n\n/**\n * Callbacks count.\n */\n\nvar index = 0;\n\n/**\n * Noop.\n */\n\nfunction empty () { }\n\n/**\n * JSONP Polling constructor.\n *\n * @param {Object} opts.\n * @api public\n */\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  // define global callbacks array if not present\n  // we do this here (lazily) to avoid unneeded global pollution\n  if (!callbacks) {\n    // we need to consider multiple engines in the same page\n    if (!global.___eio) global.___eio = [];\n    callbacks = global.___eio;\n  }\n\n  // callback identifier\n  this.index = callbacks.length;\n\n  // add callback to jsonp global\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  // append to query string\n  this.query.j = this.index;\n\n  // prevent spurious errors from being emitted when the window is unloaded\n  if (global.document && global.addEventListener) {\n    global.addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(JSONPPolling, Polling);\n\n/*\n * JSONP only supports binary as base64 encoded strings\n */\n\nJSONPPolling.prototype.supportsBinary = false;\n\n/**\n * Closes the socket.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function(e){\n    self.onError('jsonp poll error',e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  if (insertAt) {\n    insertAt.parentNode.insertBefore(script, insertAt);\n  }\n  else {\n    (document.head || document.body).appendChild(script);\n  }\n  this.script = script;\n\n  var isUAgecko = 'undefined' != typeof navigator && /gecko/i.test(navigator.userAgent);\n  \n  if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n/**\n * Writes with a hidden iframe.\n *\n * @param {String} data to send\n * @param {Function} called upon flush.\n * @api private\n */\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n      var html = '<iframe src=\"javascript:0\" name=\"'+ self.iframeId +'\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch(e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function(){\n      if (self.iframe.readyState == 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./polling\":8,\"component-inherit\":16}],7:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Module requirements.\n */\n\nvar XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\nvar Polling = _dereq_('./polling');\nvar Emitter = _dereq_('component-emitter');\nvar inherit = _dereq_('component-inherit');\nvar debug = _dereq_('debug')('engine.io-client:polling-xhr');\n\n/**\n * Module exports.\n */\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n/**\n * Empty function\n */\n\nfunction empty(){}\n\n/**\n * XHR Polling constructor.\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction XHR(opts){\n  Polling.call(this, opts);\n\n  if (global.location) {\n    var isSSL = 'https:' == location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = opts.hostname != global.location.hostname ||\n      port != opts.port;\n    this.xs = opts.secure != isSSL;\n  } else {\n    this.extraHeaders = opts.extraHeaders;\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(XHR, Polling);\n\n/**\n * XHR supports binary\n */\n\nXHR.prototype.supportsBinary = true;\n\n/**\n * Creates a request.\n *\n * @param {String} method\n * @api private\n */\n\nXHR.prototype.request = function(opts){\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  // other options for Node.js client\n  opts.extraHeaders = this.extraHeaders;\n\n  return new Request(opts);\n};\n\n/**\n * Sends data.\n *\n * @param {String} data to send.\n * @param {Function} called upon flush.\n * @api private\n */\n\nXHR.prototype.doWrite = function(data, fn){\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function(err){\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nXHR.prototype.doPoll = function(){\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function(data){\n    self.onData(data);\n  });\n  req.on('error', function(err){\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n/**\n * Request constructor\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Request(opts){\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined != opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n\n  this.create();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Creates the XHR object and sends the request.\n *\n * @api private\n */\n\nRequest.prototype.create = function(){\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    try {\n      if (this.extraHeaders) {\n        xhr.setDisableHeaderCheck(true);\n        for (var i in this.extraHeaders) {\n          if (this.extraHeaders.hasOwnProperty(i)) {\n            xhr.setRequestHeader(i, this.extraHeaders[i]);\n          }\n        }\n      }\n    } catch (e) {}\n    if (this.supportsBinary) {\n      // This has to be done after open because Firefox is stupid\n      // http://stackoverflow.com/questions/13216903/get-binary-data-with-xmlhttprequest-in-a-firefox-extension\n      xhr.responseType = 'arraybuffer';\n    }\n\n    if ('POST' == this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    // ie6 check\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = true;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function(){\n        self.onLoad();\n      };\n      xhr.onerror = function(){\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function(){\n        if (4 != xhr.readyState) return;\n        if (200 == xhr.status || 1223 == xhr.status) {\n          self.onLoad();\n        } else {\n          // make sure the `error` event handler that's user-set\n          // does not throw in the same tick and gets caught here\n          setTimeout(function(){\n            self.onError(xhr.status);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    // Need to defer since .create() is called directly fhrom the constructor\n    // and thus the 'error' event can only be only bound *after* this exception\n    // occurs.  Therefore, also, we cannot throw here at all.\n    setTimeout(function() {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (global.document) {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n/**\n * Called upon successful response.\n *\n * @api private\n */\n\nRequest.prototype.onSuccess = function(){\n  this.emit('success');\n  this.cleanup();\n};\n\n/**\n * Called if we have data.\n *\n * @api private\n */\n\nRequest.prototype.onData = function(data){\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n/**\n * Called upon error.\n *\n * @api private\n */\n\nRequest.prototype.onError = function(err){\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n/**\n * Cleans up house.\n *\n * @api private\n */\n\nRequest.prototype.cleanup = function(fromError){\n  if ('undefined' == typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  // xmlhttprequest\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch(e) {}\n  }\n\n  if (global.document) {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n/**\n * Called upon load.\n *\n * @api private\n */\n\nRequest.prototype.onLoad = function(){\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type').split(';')[0];\n    } catch (e) {}\n    if (contentType === 'application/octet-stream') {\n      data = this.xhr.response;\n    } else {\n      if (!this.supportsBinary) {\n        data = this.xhr.responseText;\n      } else {\n        try {\n          data = String.fromCharCode.apply(null, new Uint8Array(this.xhr.response));\n        } catch (e) {\n          var ui8Arr = new Uint8Array(this.xhr.response);\n          var dataArray = [];\n          for (var idx = 0, length = ui8Arr.length; idx < length; idx++) {\n            dataArray.push(ui8Arr[idx]);\n          }\n\n          data = String.fromCharCode.apply(null, dataArray);\n        }\n      }\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n/**\n * Check if it has XDomainRequest.\n *\n * @api private\n */\n\nRequest.prototype.hasXDR = function(){\n  return 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\n};\n\n/**\n * Aborts the request.\n *\n * @api public\n */\n\nRequest.prototype.abort = function(){\n  this.cleanup();\n};\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nif (global.document) {\n  Request.requestsCount = 0;\n  Request.requests = {};\n  if (global.attachEvent) {\n    global.attachEvent('onunload', unloadHandler);\n  } else if (global.addEventListener) {\n    global.addEventListener('beforeunload', unloadHandler, false);\n  }\n}\n\nfunction unloadHandler() {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./polling\":8,\"component-emitter\":15,\"component-inherit\":16,\"debug\":17,\"xmlhttprequest-ssl\":10}],8:[function(_dereq_,module,exports){\n/**\n * Module dependencies.\n */\n\nvar Transport = _dereq_('../transport');\nvar parseqs = _dereq_('parseqs');\nvar parser = _dereq_('engine.io-parser');\nvar inherit = _dereq_('component-inherit');\nvar yeast = _dereq_('yeast');\nvar debug = _dereq_('debug')('engine.io-client:polling');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Polling;\n\n/**\n * Is XHR2 supported?\n */\n\nvar hasXHR2 = (function() {\n  var XMLHttpRequest = _dereq_('xmlhttprequest-ssl');\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n/**\n * Polling interface.\n *\n * @param {Object} opts\n * @api private\n */\n\nfunction Polling(opts){\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(Polling, Transport);\n\n/**\n * Transport name.\n */\n\nPolling.prototype.name = 'polling';\n\n/**\n * Opens the socket (triggers polling). We write a PING message to determine\n * when the transport is open.\n *\n * @api private\n */\n\nPolling.prototype.doOpen = function(){\n  this.poll();\n};\n\n/**\n * Pauses polling.\n *\n * @param {Function} callback upon buffers are flushed and transport is paused\n * @api private\n */\n\nPolling.prototype.pause = function(onPause){\n  var pending = 0;\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause(){\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function(){\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function(){\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n/**\n * Starts polling cycle.\n *\n * @api public\n */\n\nPolling.prototype.poll = function(){\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n/**\n * Overloads onData to detect payloads.\n *\n * @api private\n */\n\nPolling.prototype.onData = function(data){\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function(packet, index, total) {\n    // if its the first message we consider the transport open\n    if ('opening' == self.readyState) {\n      self.onOpen();\n    }\n\n    // if its a close packet, we close the ongoing requests\n    if ('close' == packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    // otherwise bypass onData and handle the message\n    self.onPacket(packet);\n  };\n\n  // decode payload\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  // if an event did not trigger closing\n  if ('closed' != this.readyState) {\n    // if we got data we're not polling\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' == this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n/**\n * For polling, send a close packet.\n *\n * @api private\n */\n\nPolling.prototype.doClose = function(){\n  var self = this;\n\n  function close(){\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' == this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    // in case we're trying to close while\n    // handshaking is in progress (GH-164)\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n/**\n * Writes a packets payload.\n *\n * @param {Array} data packets\n * @param {Function} drain callback\n * @api private\n */\n\nPolling.prototype.write = function(packets){\n  var self = this;\n  this.writable = false;\n  var callbackfn = function() {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  var self = this;\n  parser.encodePayload(packets, this.supportsBinary, function(data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nPolling.prototype.uri = function(){\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  // cache busting is forced\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // avoid port if default for schema\n  if (this.port && (('https' == schema && this.port != 443) ||\n     ('http' == schema && this.port != 80))) {\n    port = ':' + this.port;\n  }\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n},{\"../transport\":4,\"component-inherit\":16,\"debug\":17,\"engine.io-parser\":19,\"parseqs\":27,\"xmlhttprequest-ssl\":10,\"yeast\":30}],9:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar Transport = _dereq_('../transport');\nvar parser = _dereq_('engine.io-parser');\nvar parseqs = _dereq_('parseqs');\nvar inherit = _dereq_('component-inherit');\nvar yeast = _dereq_('yeast');\nvar debug = _dereq_('debug')('engine.io-client:websocket');\nvar BrowserWebSocket = global.WebSocket || global.MozWebSocket;\n\n/**\n * Get either the `WebSocket` or `MozWebSocket` globals\n * in the browser or try to resolve WebSocket-compatible\n * interface exposed by `ws` for Node-like environment.\n */\n\nvar WebSocket = BrowserWebSocket;\nif (!WebSocket && typeof window === 'undefined') {\n  try {\n    WebSocket = _dereq_('ws');\n  } catch (e) { }\n}\n\n/**\n * Module exports.\n */\n\nmodule.exports = WS;\n\n/**\n * WebSocket transport constructor.\n *\n * @api {Object} connection options\n * @api public\n */\n\nfunction WS(opts){\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  this.perMessageDeflate = opts.perMessageDeflate;\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(WS, Transport);\n\n/**\n * Transport name.\n *\n * @api public\n */\n\nWS.prototype.name = 'websocket';\n\n/*\n * WebSockets support binary\n */\n\nWS.prototype.supportsBinary = true;\n\n/**\n * Opens socket.\n *\n * @api private\n */\n\nWS.prototype.doOpen = function(){\n  if (!this.check()) {\n    // let probe timeout\n    return;\n  }\n\n  var self = this;\n  var uri = this.uri();\n  var protocols = void(0);\n  var opts = {\n    agent: this.agent,\n    perMessageDeflate: this.perMessageDeflate\n  };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  if (this.extraHeaders) {\n    opts.headers = this.extraHeaders;\n  }\n\n  this.ws = BrowserWebSocket ? new WebSocket(uri) : new WebSocket(uri, protocols, opts);\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  if (this.ws.supports && this.ws.supports.binary) {\n    this.supportsBinary = true;\n    this.ws.binaryType = 'buffer';\n  } else {\n    this.ws.binaryType = 'arraybuffer';\n  }\n\n  this.addEventListeners();\n};\n\n/**\n * Adds event listeners to the socket\n *\n * @api private\n */\n\nWS.prototype.addEventListeners = function(){\n  var self = this;\n\n  this.ws.onopen = function(){\n    self.onOpen();\n  };\n  this.ws.onclose = function(){\n    self.onClose();\n  };\n  this.ws.onmessage = function(ev){\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function(e){\n    self.onError('websocket error', e);\n  };\n};\n\n/**\n * Override `onData` to use a timer on iOS.\n * See: https://gist.github.com/mloughran/2052006\n *\n * @api private\n */\n\nif ('undefined' != typeof navigator\n  && /iPad|iPhone|iPod/i.test(navigator.userAgent)) {\n  WS.prototype.onData = function(data){\n    var self = this;\n    setTimeout(function(){\n      Transport.prototype.onData.call(self, data);\n    }, 0);\n  };\n}\n\n/**\n * Writes data to socket.\n *\n * @param {Array} array of packets.\n * @api private\n */\n\nWS.prototype.write = function(packets){\n  var self = this;\n  this.writable = false;\n\n  // encodePacket efficient as it uses WS framing\n  // no need for encodePayload\n  var total = packets.length;\n  for (var i = 0, l = total; i < l; i++) {\n    (function(packet) {\n      parser.encodePacket(packet, self.supportsBinary, function(data) {\n        if (!BrowserWebSocket) {\n          // always create a new object (GH-437)\n          var opts = {};\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n\n          if (self.perMessageDeflate) {\n            var len = 'string' == typeof data ? global.Buffer.byteLength(data) : data.length;\n            if (len < self.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n\n        //Sometimes the websocket has already been closed but the browser didn't\n        //have a chance of informing us about it yet, in that case send will\n        //throw an error\n        try {\n          if (BrowserWebSocket) {\n            // TypeError is thrown when passing the second argument on Safari\n            self.ws.send(data);\n          } else {\n            self.ws.send(data, opts);\n          }\n        } catch (e){\n          debug('websocket closed before onclose event');\n        }\n\n        --total || done();\n      });\n    })(packets[i]);\n  }\n\n  function done(){\n    self.emit('flush');\n\n    // fake drain\n    // defer to next tick to allow Socket to clear writeBuffer\n    setTimeout(function(){\n      self.writable = true;\n      self.emit('drain');\n    }, 0);\n  }\n};\n\n/**\n * Called upon close\n *\n * @api private\n */\n\nWS.prototype.onClose = function(){\n  Transport.prototype.onClose.call(this);\n};\n\n/**\n * Closes socket.\n *\n * @api private\n */\n\nWS.prototype.doClose = function(){\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nWS.prototype.uri = function(){\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  // avoid port if default for schema\n  if (this.port && (('wss' == schema && this.port != 443)\n    || ('ws' == schema && this.port != 80))) {\n    port = ':' + this.port;\n  }\n\n  // append timestamp to URI\n  if (this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  // communicate binary support capabilities\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n/**\n * Feature detection for WebSocket.\n *\n * @return {Boolean} whether this transport is available.\n * @api public\n */\n\nWS.prototype.check = function(){\n  return !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"../transport\":4,\"component-inherit\":16,\"debug\":17,\"engine.io-parser\":19,\"parseqs\":27,\"ws\":undefined,\"yeast\":30}],10:[function(_dereq_,module,exports){\n// browser shim for xmlhttprequest module\nvar hasCORS = _dereq_('has-cors');\n\nmodule.exports = function(opts) {\n  var xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  var xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  var enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if ('undefined' != typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if ('undefined' != typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new ActiveXObject('Microsoft.XMLHTTP');\n    } catch(e) { }\n  }\n}\n\n},{\"has-cors\":22}],11:[function(_dereq_,module,exports){\nmodule.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n\n},{}],12:[function(_dereq_,module,exports){\n/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n\n},{}],13:[function(_dereq_,module,exports){\n/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(chars){\n  \"use strict\";\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = chars.indexOf(base64[i]);\n      encoded2 = chars.indexOf(base64[i+1]);\n      encoded3 = chars.indexOf(base64[i+2]);\n      encoded4 = chars.indexOf(base64[i+3]);\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\n\n},{}],14:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Create a blob builder even when vendor prefixes exist\n */\n\nvar BlobBuilder = global.BlobBuilder\n  || global.WebKitBlobBuilder\n  || global.MSBlobBuilder\n  || global.MozBlobBuilder;\n\n/**\n * Check if Blob constructor is supported\n */\n\nvar blobSupported = (function() {\n  try {\n    var a = new Blob(['hi']);\n    return a.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if Blob constructor supports ArrayBufferViews\n * Fails in Safari 6, so we need to map to ArrayBuffers there.\n */\n\nvar blobSupportsArrayBufferView = blobSupported && (function() {\n  try {\n    var b = new Blob([new Uint8Array([1,2])]);\n    return b.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if BlobBuilder is supported\n */\n\nvar blobBuilderSupported = BlobBuilder\n  && BlobBuilder.prototype.append\n  && BlobBuilder.prototype.getBlob;\n\n/**\n * Helper function that maps ArrayBufferViews to ArrayBuffers\n * Used by BlobBuilder constructor and old browsers that didn't\n * support it in the Blob constructor.\n */\n\nfunction mapArrayBufferViews(ary) {\n  for (var i = 0; i < ary.length; i++) {\n    var chunk = ary[i];\n    if (chunk.buffer instanceof ArrayBuffer) {\n      var buf = chunk.buffer;\n\n      // if this is a subarray, make a copy so we only\n      // include the subarray region from the underlying buffer\n      if (chunk.byteLength !== buf.byteLength) {\n        var copy = new Uint8Array(chunk.byteLength);\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\n        buf = copy.buffer;\n      }\n\n      ary[i] = buf;\n    }\n  }\n}\n\nfunction BlobBuilderConstructor(ary, options) {\n  options = options || {};\n\n  var bb = new BlobBuilder();\n  mapArrayBufferViews(ary);\n\n  for (var i = 0; i < ary.length; i++) {\n    bb.append(ary[i]);\n  }\n\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\n};\n\nfunction BlobConstructor(ary, options) {\n  mapArrayBufferViews(ary);\n  return new Blob(ary, options || {});\n};\n\nmodule.exports = (function() {\n  if (blobSupported) {\n    return blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\n  } else if (blobBuilderSupported) {\n    return BlobBuilderConstructor;\n  } else {\n    return undefined;\n  }\n})();\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],15:[function(_dereq_,module,exports){\n\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks[event] = this._callbacks[event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  var self = this;\n  this._callbacks = this._callbacks || {};\n\n  function on() {\n    self.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks[event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks[event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks[event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks[event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n},{}],16:[function(_dereq_,module,exports){\n\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};\n},{}],17:[function(_dereq_,module,exports){\n\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = _dereq_('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage(){\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n},{\"./debug\":18}],18:[function(_dereq_,module,exports){\n\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = _dereq_('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n},{\"ms\":25}],19:[function(_dereq_,module,exports){\n(function (global){\n/**\n * Module dependencies.\n */\n\nvar keys = _dereq_('./keys');\nvar hasBinary = _dereq_('has-binary');\nvar sliceBuffer = _dereq_('arraybuffer.slice');\nvar base64encoder = _dereq_('base64-arraybuffer');\nvar after = _dereq_('after');\nvar utf8 = _dereq_('utf8');\n\n/**\n * Check if we are running an android browser. That requires us to use\n * ArrayBuffer with polling transports...\n *\n * http://ghinda.net/jpeg-blob-ajax-android/\n */\n\nvar isAndroid = navigator.userAgent.match(/Android/i);\n\n/**\n * Check if we are running in PhantomJS.\n * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n * https://github.com/ariya/phantomjs/issues/11395\n * @type boolean\n */\nvar isPhantomJS = /PhantomJS/i.test(navigator.userAgent);\n\n/**\n * When true, avoids using Blobs to encode payloads.\n * @type boolean\n */\nvar dontSendBlobs = isAndroid || isPhantomJS;\n\n/**\n * Current protocol version.\n */\n\nexports.protocol = 3;\n\n/**\n * Packet types.\n */\n\nvar packets = exports.packets = {\n    open:     0    // non-ws\n  , close:    1    // non-ws\n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n/**\n * Premade error packet.\n */\n\nvar err = { type: 'error', data: 'parser error' };\n\n/**\n * Create a blob api even for blob builder when vendor prefixes exist\n */\n\nvar Blob = _dereq_('blob');\n\n/**\n * Encodes a packet.\n *\n *     <packet type id> [ <data> ]\n *\n * Example:\n *\n *     5hello world\n *     3\n *     4\n *\n * Binary is encoded in an identical principle\n *\n * @api private\n */\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if ('function' == typeof supportsBinary) {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n\n  if ('function' == typeof utf8encode) {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  var data = (packet.data === undefined)\n    ? undefined\n    : packet.data.buffer || packet.data;\n\n  if (global.ArrayBuffer && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (Blob && data instanceof global.Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n\n  // might be an object with { base64: true, data: dataAsBase64String }\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n\n  // Sending data as a utf-8 string\n  var encoded = packets[packet.type];\n\n  // data fragment is optional\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data)) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n\n};\n\nfunction encodeBase64Object(packet, callback) {\n  // packet data is an object { base64: true, data: dataAsBase64String }\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\n\n/**\n * Encode packet helpers for binary types\n */\n\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i+1] = contentArray[i];\n  }\n\n  return callback(resultBuffer.buffer);\n}\n\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var fr = new FileReader();\n  fr.onload = function() {\n    packet.data = fr.result;\n    exports.encodePacket(packet, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\n\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n\n  return callback(blob);\n}\n\n/**\n * Encodes a packet with binary data in a base64 string\n *\n * @param {Object} packet, has `type` and `data`\n * @return {String} base64 encoded message\n */\n\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (Blob && packet.data instanceof global.Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    // iPhone Safari doesn't let you apply with typed arrays\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += global.btoa(b64data);\n  return callback(message);\n};\n\n/**\n * Decodes a packet. Changes format to Blob if requested.\n *\n * @return {Object} with `type` and `data` (if any)\n * @api private\n */\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  // String data\n  if (typeof data == 'string' || data === undefined) {\n    if (data.charAt(0) == 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      try {\n        data = utf8.decode(data);\n      } catch (e) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return { type: packetslist[type], data: rest };\n};\n\n/**\n * Decodes a packet encoded in a base64 string\n *\n * @param {String} base64 encoded message\n * @return {Object} with `type` and `data` (if any)\n */\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!global.ArrayBuffer) {\n    return { type: type, data: { base64: true, data: msg.substr(1) } };\n  }\n\n  var data = base64encoder.decode(msg.substr(1));\n\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n\n  return { type: type, data: data };\n};\n\n/**\n * Encodes multiple messages (payload).\n *\n *     <length>:data\n *\n * Example:\n *\n *     11:hello world2:hi\n *\n * If any contents are binary, they will be encoded as base64 strings. Base64\n * encoded strings are marked with a b before the length specifier\n *\n * @param {Array} packets\n * @api private\n */\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary == 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  var isBinary = hasBinary(packets);\n\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, true, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\n/**\n * Async array map using after\n */\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\n\n/*\n * Decodes data when a payload is maybe expected. Possible binary contents are\n * decoded from their base64 representation\n *\n * @param {String} data, callback method\n * @api public\n */\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data != 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var packet;\n  if (data == '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n  var length = ''\n    , n, msg;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (':' != chr) {\n      length += chr;\n    } else {\n      if ('' == length || (length != (n = Number(length)))) {\n        // parser error - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      msg = data.substr(i + 1, n);\n\n      if (length != msg.length) {\n        // parser error - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      if (msg.length) {\n        packet = exports.decodePacket(msg, binaryType, true);\n\n        if (err.type == packet.type && err.data == packet.data) {\n          // parser error in individual packet - ignoring payload\n          return callback(err, 0, 1);\n        }\n\n        var ret = callback(packet, i + n, l);\n        if (false === ret) return;\n      }\n\n      // advance cursor\n      i += n;\n      length = '';\n    }\n  }\n\n  if (length != '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n};\n\n/**\n * Encodes multiple messages (payload) as binary.\n *\n * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n * 255><data>\n *\n * Example:\n * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n *\n * @param {Array} packets\n * @return {ArrayBuffer} encoded payload\n * @api private\n */\n\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string'){\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n    }, 0);\n\n    var resultArray = new Uint8Array(totalLength);\n\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n\n      if (isString) { // not true binary\n        resultArray[bufferIndex++] = 0;\n      } else { // true binary\n        resultArray[bufferIndex++] = 1;\n      }\n\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n\n    return callback(resultArray.buffer);\n  });\n};\n\n/**\n * Encode as Blob\n */\n\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n\n      var len = (encoded instanceof ArrayBuffer)\n        ? encoded.byteLength\n        : encoded.size;\n\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\n\n/*\n * Decodes data when a payload is maybe expected. Strings are decoded by\n * interpreting each byte as a key code for entries marked to start with 0. See\n * description of encodePayloadAsBinary\n *\n * @param {ArrayBuffer} data, callback method\n * @api public\n */\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n\n  var numberTooLong = false;\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n\n    for (var i = 1; ; i++) {\n      if (tailArray[i] == 255) break;\n\n      if (msgLength.length > 310) {\n        numberTooLong = true;\n        break;\n      }\n\n      msgLength += tailArray[i];\n    }\n\n    if(numberTooLong) return callback(err, 0, 1);\n\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        // iPhone Safari doesn't let you apply to typed arrays\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./keys\":20,\"after\":11,\"arraybuffer.slice\":12,\"base64-arraybuffer\":13,\"blob\":14,\"has-binary\":21,\"utf8\":29}],20:[function(_dereq_,module,exports){\n\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n\n},{}],21:[function(_dereq_,module,exports){\n(function (global){\n\n/*\n * Module requirements.\n */\n\nvar isArray = _dereq_('isarray');\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Right now only Buffer and ArrayBuffer are supported..\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary(data) {\n\n  function _hasBinary(obj) {\n    if (!obj) return false;\n\n    if ( (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n         (global.Blob && obj instanceof Blob) ||\n         (global.File && obj instanceof File)\n        ) {\n      return true;\n    }\n\n    if (isArray(obj)) {\n      for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n              return true;\n          }\n      }\n    } else if (obj && 'object' == typeof obj) {\n      if (obj.toJSON) {\n        obj = obj.toJSON();\n      }\n\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  return _hasBinary(data);\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"isarray\":24}],22:[function(_dereq_,module,exports){\n\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n\n},{}],23:[function(_dereq_,module,exports){\n\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n},{}],24:[function(_dereq_,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}],25:[function(_dereq_,module,exports){\n/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = '' + str;\n  if (str.length > 10000) return;\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n},{}],26:[function(_dereq_,module,exports){\n(function (global){\n/**\n * JSON parse.\n *\n * @see Based on jQuery#parseJSON (MIT) and JSON2\n * @api private\n */\n\nvar rvalidchars = /^[\\],:{}\\s]*$/;\nvar rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\nvar rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nvar rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\nvar rtrimLeft = /^\\s+/;\nvar rtrimRight = /\\s+$/;\n\nmodule.exports = function parsejson(data) {\n  if ('string' != typeof data || !data) {\n    return null;\n  }\n\n  data = data.replace(rtrimLeft, '').replace(rtrimRight, '');\n\n  // Attempt to parse using the native JSON parser first\n  if (global.JSON && JSON.parse) {\n    return JSON.parse(data);\n  }\n\n  if (rvalidchars.test(data.replace(rvalidescape, '@')\n      .replace(rvalidtokens, ']')\n      .replace(rvalidbraces, ''))) {\n    return (new Function('return ' + data))();\n  }\n};\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],27:[function(_dereq_,module,exports){\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n\n},{}],28:[function(_dereq_,module,exports){\n/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    return uri;\n};\n\n},{}],29:[function(_dereq_,module,exports){\n(function (global){\n/*! https://mths.be/utf8js v2.0.0 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction checkScalarValue(codePoint) {\n\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\tthrow Error(\n\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t' is not a scalar value'\n\t\t\t);\n\t\t}\n\t}\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tcheckScalarValue(codePoint);\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction utf8encode(string) {\n\t\tvar codePoints = ucs2decode(string);\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, it’s not a continuation byte\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol() {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read first byte\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tvar byte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\tcheckScalarValue(codePoint);\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid UTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction utf8decode(byteString) {\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar utf8 = {\n\t\t'version': '2.0.0',\n\t\t'encode': utf8encode,\n\t\t'decode': utf8decode\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn utf8;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = utf8;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tvar object = {};\n\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\tfor (var key in utf8) {\n\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.utf8 = utf8;\n\t}\n\n}(this));\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],30:[function(_dereq_,module,exports){\n'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n\n},{}],31:[function(_dereq_,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar url = _dereq_('./url');\nvar parser = _dereq_('socket.io-parser');\nvar Manager = _dereq_('./manager');\nvar debug = _dereq_('debug')('socket.io-client');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = lookup;\n\n/**\n * Managers cache.\n */\n\nvar cache = exports.managers = {};\n\n/**\n * Looks up an existing `Manager` for multiplexing.\n * If the user summons:\n *\n *   `io('http://localhost/a');`\n *   `io('http://localhost/b');`\n *\n * We reuse the existing instance based on same scheme/port/host,\n * and we initialize sockets for each namespace.\n *\n * @api public\n */\n\nfunction lookup(uri, opts) {\n  if (typeof uri == 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var path = parsed.path;\n  var sameNamespace = cache[id] && path in cache[id].nsps;\n  var newConnection = opts.forceNew || opts['force new connection'] ||\n                      false === opts.multiplex || sameNamespace;\n\n  var io;\n\n  if (newConnection) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n\n  return io.socket(parsed.path);\n}\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = parser.protocol;\n\n/**\n * `connect`.\n *\n * @param {String} uri\n * @api public\n */\n\nexports.connect = lookup;\n\n/**\n * Expose constructors for standalone build.\n *\n * @api public\n */\n\nexports.Manager = _dereq_('./manager');\nexports.Socket = _dereq_('./socket');\n\n},{\"./manager\":32,\"./socket\":34,\"./url\":35,\"debug\":39,\"socket.io-parser\":47}],32:[function(_dereq_,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar eio = _dereq_('engine.io-client');\nvar Socket = _dereq_('./socket');\nvar Emitter = _dereq_('component-emitter');\nvar parser = _dereq_('socket.io-parser');\nvar on = _dereq_('./on');\nvar bind = _dereq_('component-bind');\nvar debug = _dereq_('debug')('socket.io-client:manager');\nvar indexOf = _dereq_('indexof');\nvar Backoff = _dereq_('backo2');\n\n/**\n * IE6+ hasOwnProperty\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports\n */\n\nmodule.exports = Manager;\n\n/**\n * `Manager` constructor.\n *\n * @param {String} engine instance or engine uri/opts\n * @param {Object} options\n * @api public\n */\n\nfunction Manager(uri, opts){\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' == typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connecting = [];\n  this.lastPing = null;\n  this.encoding = false;\n  this.packetBuffer = [];\n  this.encoder = new parser.Encoder();\n  this.decoder = new parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n/**\n * Propagate given event to sockets and emit on `this`\n *\n * @api private\n */\n\nManager.prototype.emitAll = function() {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n    }\n  }\n};\n\n/**\n * Update `socket.id` of all sockets\n *\n * @api private\n */\n\nManager.prototype.updateSocketIds = function(){\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].id = this.engine.id;\n    }\n  }\n};\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Manager.prototype);\n\n/**\n * Sets the `reconnection` config.\n *\n * @param {Boolean} true/false if it should automatically reconnect\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnection = function(v){\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n/**\n * Sets the reconnection attempts config.\n *\n * @param {Number} max reconnection attempts before giving up\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionAttempts = function(v){\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n/**\n * Sets the delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelay = function(v){\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function(v){\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n/**\n * Sets the maximum delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelayMax = function(v){\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n/**\n * Sets the connection timeout. `false` to disable\n *\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.timeout = function(v){\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n/**\n * Starts trying to reconnect if reconnection is enabled and we have not\n * started reconnecting yet\n *\n * @api private\n */\n\nManager.prototype.maybeReconnectOnOpen = function() {\n  // Only try to reconnect if it's the first time we're connecting\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    // keeps reconnection from firing twice for the same reconnection loop\n    this.reconnect();\n  }\n};\n\n\n/**\n * Sets the current transport `socket`.\n *\n * @param {Function} optional, callback\n * @return {Manager} self\n * @api public\n */\n\nManager.prototype.open =\nManager.prototype.connect = function(fn){\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  // emit `open`\n  var openSub = on(socket, 'open', function() {\n    self.onopen();\n    fn && fn();\n  });\n\n  // emit `connect_error`\n  var errorSub = on(socket, 'error', function(data){\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      // Only do this if there is no fn to handle the error\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  // emit `connect_timeout`\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    // set timer\n    var timer = setTimeout(function(){\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function(){\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n/**\n * Called upon transport open.\n *\n * @api private\n */\n\nManager.prototype.onopen = function(){\n  debug('open');\n\n  // clear old subs\n  this.cleanup();\n\n  // mark as open\n  this.readyState = 'open';\n  this.emit('open');\n\n  // add new subs\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\n  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n};\n\n/**\n * Called upon a ping.\n *\n * @api private\n */\n\nManager.prototype.onping = function(){\n  this.lastPing = new Date;\n  this.emitAll('ping');\n};\n\n/**\n * Called upon a packet.\n *\n * @api private\n */\n\nManager.prototype.onpong = function(){\n  this.emitAll('pong', new Date - this.lastPing);\n};\n\n/**\n * Called with data.\n *\n * @api private\n */\n\nManager.prototype.ondata = function(data){\n  this.decoder.add(data);\n};\n\n/**\n * Called when parser fully decodes a packet.\n *\n * @api private\n */\n\nManager.prototype.ondecoded = function(packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon socket error.\n *\n * @api private\n */\n\nManager.prototype.onerror = function(err){\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n/**\n * Creates a new socket for the given `nsp`.\n *\n * @return {Socket}\n * @api public\n */\n\nManager.prototype.socket = function(nsp){\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connecting', onConnecting);\n    socket.on('connect', function(){\n      socket.id = self.engine.id;\n    });\n\n    if (this.autoConnect) {\n      // manually call here since connecting evnet is fired before listening\n      onConnecting();\n    }\n  }\n\n  function onConnecting() {\n    if (!~indexOf(self.connecting, socket)) {\n      self.connecting.push(socket);\n    }\n  }\n\n  return socket;\n};\n\n/**\n * Called upon a socket close.\n *\n * @param {Socket} socket\n */\n\nManager.prototype.destroy = function(socket){\n  var index = indexOf(this.connecting, socket);\n  if (~index) this.connecting.splice(index, 1);\n  if (this.connecting.length) return;\n\n  this.close();\n};\n\n/**\n * Writes a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nManager.prototype.packet = function(packet){\n  debug('writing packet %j', packet);\n  var self = this;\n\n  if (!self.encoding) {\n    // encode, then write to engine with result\n    self.encoding = true;\n    this.encoder.encode(packet, function(encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i], packet.options);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { // add packet to the queue\n    self.packetBuffer.push(packet);\n  }\n};\n\n/**\n * If packet buffer is non-empty, begins encoding the\n * next packet in line.\n *\n * @api private\n */\n\nManager.prototype.processPacketQueue = function() {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n/**\n * Clean up transport subscriptions and packet buffer.\n *\n * @api private\n */\n\nManager.prototype.cleanup = function(){\n  debug('cleanup');\n\n  var sub;\n  while (sub = this.subs.shift()) sub.destroy();\n\n  this.packetBuffer = [];\n  this.encoding = false;\n  this.lastPing = null;\n\n  this.decoder.destroy();\n};\n\n/**\n * Close the current socket.\n *\n * @api private\n */\n\nManager.prototype.close =\nManager.prototype.disconnect = function(){\n  debug('disconnect');\n  this.skipReconnect = true;\n  this.reconnecting = false;\n  if ('opening' == this.readyState) {\n    // `onclose` will not fire because\n    // an open event never happened\n    this.cleanup();\n  }\n  this.backoff.reset();\n  this.readyState = 'closed';\n  if (this.engine) this.engine.close();\n};\n\n/**\n * Called upon engine close.\n *\n * @api private\n */\n\nManager.prototype.onclose = function(reason){\n  debug('onclose');\n\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n/**\n * Attempt a reconnection.\n *\n * @api private\n */\n\nManager.prototype.reconnect = function(){\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function(){\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      // check again for the case socket closed in above events\n      if (self.skipReconnect) return;\n\n      self.open(function(err){\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function(){\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n/**\n * Called upon successful reconnect.\n *\n * @api private\n */\n\nManager.prototype.onreconnect = function(){\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n\n},{\"./on\":33,\"./socket\":34,\"backo2\":36,\"component-bind\":37,\"component-emitter\":38,\"debug\":39,\"engine.io-client\":1,\"indexof\":42,\"socket.io-parser\":47}],33:[function(_dereq_,module,exports){\n\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on(obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function(){\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n\n},{}],34:[function(_dereq_,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar parser = _dereq_('socket.io-parser');\nvar Emitter = _dereq_('component-emitter');\nvar toArray = _dereq_('to-array');\nvar on = _dereq_('./on');\nvar bind = _dereq_('component-bind');\nvar debug = _dereq_('debug')('socket.io-client:socket');\nvar hasBin = _dereq_('has-binary');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Socket;\n\n/**\n * Internal events (blacklisted).\n * These events can't be emitted by the user.\n *\n * @api private\n */\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  connecting: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1,\n  ping: 1,\n  pong: 1\n};\n\n/**\n * Shortcut to `Emitter#emit`.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * `Socket` constructor.\n *\n * @api public\n */\n\nfunction Socket(io, nsp){\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; // compat\n  this.ids = 0;\n  this.acks = {};\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n  if (this.io.autoConnect) this.open();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Subscribe to open, close and packet events\n *\n * @api private\n */\n\nSocket.prototype.subEvents = function() {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n/**\n * \"Opens\" the socket.\n *\n * @api public\n */\n\nSocket.prototype.open =\nSocket.prototype.connect = function(){\n  if (this.connected) return this;\n\n  this.subEvents();\n  this.io.open(); // ensure open\n  if ('open' == this.io.readyState) this.onopen();\n  this.emit('connecting');\n  return this;\n};\n\n/**\n * Sends a `message` event.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.send = function(){\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Override `emit`.\n * If the event is in `events`, it's emitted normally.\n *\n * @param {String} event name\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.emit = function(ev){\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var parserType = parser.EVENT; // default\n  if (hasBin(args)) { parserType = parser.BINARY_EVENT; } // binary\n  var packet = { type: parserType, data: args };\n\n  packet.options = {};\n  packet.options.compress = !this.flags || false !== this.flags.compress;\n\n  // event ack callback\n  if ('function' == typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  delete this.flags;\n\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.packet = function(packet){\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n/**\n * Called upon engine `open`.\n *\n * @api private\n */\n\nSocket.prototype.onopen = function(){\n  debug('transport is open - connecting');\n\n  // write connect packet if necessary\n  if ('/' != this.nsp) {\n    this.packet({ type: parser.CONNECT });\n  }\n};\n\n/**\n * Called upon engine `close`.\n *\n * @param {String} reason\n * @api private\n */\n\nSocket.prototype.onclose = function(reason){\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n/**\n * Called with socket packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onpacket = function(packet){\n  if (packet.nsp != this.nsp) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n/**\n * Called upon a server event.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onevent = function(packet){\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n/**\n * Produces an ack callback to emit with an event.\n *\n * @api private\n */\n\nSocket.prototype.ack = function(id){\n  var self = this;\n  var sent = false;\n  return function(){\n    // prevent double callbacks\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    var type = hasBin(args) ? parser.BINARY_ACK : parser.ACK;\n    self.packet({\n      type: type,\n      id: id,\n      data: args\n    });\n  };\n};\n\n/**\n * Called upon a server acknowlegement.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onack = function(packet){\n  var ack = this.acks[packet.id];\n  if ('function' == typeof ack) {\n    debug('calling ack %s with %j', packet.id, packet.data);\n    ack.apply(this, packet.data);\n    delete this.acks[packet.id];\n  } else {\n    debug('bad ack %s', packet.id);\n  }\n};\n\n/**\n * Called upon server connect.\n *\n * @api private\n */\n\nSocket.prototype.onconnect = function(){\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n/**\n * Emit buffered events (received and emitted).\n *\n * @api private\n */\n\nSocket.prototype.emitBuffered = function(){\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n/**\n * Called upon server disconnect.\n *\n * @api private\n */\n\nSocket.prototype.ondisconnect = function(){\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n/**\n * Called upon forced client/server side disconnections,\n * this method ensures the manager stops tracking us and\n * that reconnections don't get triggered for this.\n *\n * @api private.\n */\n\nSocket.prototype.destroy = function(){\n  if (this.subs) {\n    // clean subscriptions to avoid reconnections\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n/**\n * Disconnects the socket manually.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function(){\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  // remove socket from pool\n  this.destroy();\n\n  if (this.connected) {\n    // fire events\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n/**\n * Sets the compress flag.\n *\n * @param {Boolean} if `true`, compresses the sending data\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.compress = function(compress){\n  this.flags = this.flags || {};\n  this.flags.compress = compress;\n  return this;\n};\n\n},{\"./on\":33,\"component-bind\":37,\"component-emitter\":38,\"debug\":39,\"has-binary\":41,\"socket.io-parser\":47,\"to-array\":51}],35:[function(_dereq_,module,exports){\n(function (global){\n\n/**\n * Module dependencies.\n */\n\nvar parseuri = _dereq_('parseuri');\nvar debug = _dereq_('debug')('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url(uri, loc){\n  var obj = uri;\n\n  // default to window.location\n  var loc = loc || global.location;\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' == typeof uri) {\n    if ('/' == uri.charAt(0)) {\n      if ('/' == uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.host + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' != typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    }\n    else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  var ipv6 = obj.host.indexOf(':') !== -1;\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n  // define unique id\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + host + (loc && loc.port == obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"debug\":39,\"parseuri\":45}],36:[function(_dereq_,module,exports){\n\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n\n},{}],37:[function(_dereq_,module,exports){\n/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n\n},{}],38:[function(_dereq_,module,exports){\n\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks['$' + event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n\n},{}],39:[function(_dereq_,module,exports){\narguments[4][17][0].apply(exports,arguments)\n},{\"./debug\":40,\"dup\":17}],40:[function(_dereq_,module,exports){\narguments[4][18][0].apply(exports,arguments)\n},{\"dup\":18,\"ms\":44}],41:[function(_dereq_,module,exports){\n(function (global){\n\n/*\n * Module requirements.\n */\n\nvar isArray = _dereq_('isarray');\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Right now only Buffer and ArrayBuffer are supported..\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary(data) {\n\n  function _hasBinary(obj) {\n    if (!obj) return false;\n\n    if ( (global.Buffer && global.Buffer.isBuffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer) ||\n         (global.Blob && obj instanceof Blob) ||\n         (global.File && obj instanceof File)\n        ) {\n      return true;\n    }\n\n    if (isArray(obj)) {\n      for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n              return true;\n          }\n      }\n    } else if (obj && 'object' == typeof obj) {\n      // see: https://github.com/Automattic/has-binary/pull/4\n      if (obj.toJSON && 'function' == typeof obj.toJSON) {\n        obj = obj.toJSON();\n      }\n\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  return _hasBinary(data);\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"isarray\":43}],42:[function(_dereq_,module,exports){\narguments[4][23][0].apply(exports,arguments)\n},{\"dup\":23}],43:[function(_dereq_,module,exports){\narguments[4][24][0].apply(exports,arguments)\n},{\"dup\":24}],44:[function(_dereq_,module,exports){\narguments[4][25][0].apply(exports,arguments)\n},{\"dup\":25}],45:[function(_dereq_,module,exports){\narguments[4][28][0].apply(exports,arguments)\n},{\"dup\":28}],46:[function(_dereq_,module,exports){\n(function (global){\n/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = _dereq_('isarray');\nvar isBuf = _dereq_('./is-buffer');\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet){\n  var buffers = [];\n  var packetData = packet.data;\n\n  function _deconstructPacket(data) {\n    if (!data) return data;\n\n    if (isBuf(data)) {\n      var placeholder = { _placeholder: true, num: buffers.length };\n      buffers.push(data);\n      return placeholder;\n    } else if (isArray(data)) {\n      var newData = new Array(data.length);\n      for (var i = 0; i < data.length; i++) {\n        newData[i] = _deconstructPacket(data[i]);\n      }\n      return newData;\n    } else if ('object' == typeof data && !(data instanceof Date)) {\n      var newData = {};\n      for (var key in data) {\n        newData[key] = _deconstructPacket(data[key]);\n      }\n      return newData;\n    }\n    return data;\n  }\n\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  var curPlaceHolder = 0;\n\n  function _reconstructPacket(data) {\n    if (data && data._placeholder) {\n      var buf = buffers[data.num]; // appropriate buffer (should be natural order anyway)\n      return buf;\n    } else if (isArray(data)) {\n      for (var i = 0; i < data.length; i++) {\n        data[i] = _reconstructPacket(data[i]);\n      }\n      return data;\n    } else if (data && 'object' == typeof data) {\n      for (var key in data) {\n        data[key] = _reconstructPacket(data[key]);\n      }\n      return data;\n    }\n    return data;\n  }\n\n  packet.data = _reconstructPacket(packet.data);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((global.Blob && obj instanceof Blob) ||\n        (global.File && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (obj && 'object' == typeof obj && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{\"./is-buffer\":48,\"isarray\":43}],47:[function(_dereq_,module,exports){\n\n/**\n * Module dependencies.\n */\n\nvar debug = _dereq_('debug')('socket.io-parser');\nvar json = _dereq_('json3');\nvar isArray = _dereq_('isarray');\nvar Emitter = _dereq_('component-emitter');\nvar binary = _dereq_('./binary');\nvar isBuf = _dereq_('./is-buffer');\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'BINARY_EVENT',\n  'ACK',\n  'BINARY_ACK',\n  'ERROR'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    encodeAsBinary(obj, callback);\n  }\n  else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n  var str = '';\n  var nsp = false;\n\n  // first is type\n  str += obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n    str += obj.attachments;\n    str += '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' != obj.nsp) {\n    nsp = true;\n    str += obj.nsp;\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    if (nsp) {\n      str += ',';\n      nsp = false;\n    }\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    if (nsp) str += ',';\n    str += json.stringify(obj.data);\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an ecoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if ('string' == typeof obj) {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT == packet.type || exports.BINARY_ACK == packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  }\n  else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  }\n  else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var p = {};\n  var i = 0;\n\n  // look up type\n  p.type = Number(str.charAt(0));\n  if (null == exports.types[p.type]) return error();\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT == p.type || exports.BINARY_ACK == p.type) {\n    var buf = '';\n    while (str.charAt(++i) != '-') {\n      buf += str.charAt(i);\n      if (i == str.length) break;\n    }\n    if (buf != Number(buf) || str.charAt(i) != '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' == str.charAt(i + 1)) {\n    p.nsp = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' == c) break;\n      p.nsp += c;\n      if (i == str.length) break;\n    }\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    p.id = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      p.id += str.charAt(i);\n      if (i == str.length) break;\n    }\n    p.id = Number(p.id);\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    try {\n      p.data = json.parse(str.substr(i));\n    } catch(e){\n      return error();\n    }\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length == this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error(data){\n  return {\n    type: exports.ERROR,\n    data: 'parser error'\n  };\n}\n\n},{\"./binary\":46,\"./is-buffer\":48,\"component-emitter\":49,\"debug\":39,\"isarray\":43,\"json3\":50}],48:[function(_dereq_,module,exports){\n(function (global){\n\nmodule.exports = isBuf;\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer);\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],49:[function(_dereq_,module,exports){\narguments[4][15][0].apply(exports,arguments)\n},{\"dup\":15}],50:[function(_dereq_,module,exports){\n(function (global){\n/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */\n;(function () {\n  // Detect the `define` function exposed by asynchronous module loaders. The\n  // strict `define` check is necessary for compatibility with `r.js`.\n  var isLoader = typeof define === \"function\" && define.amd;\n\n  // A set of types used to distinguish objects from primitives.\n  var objectTypes = {\n    \"function\": true,\n    \"object\": true\n  };\n\n  // Detect the `exports` object exposed by CommonJS implementations.\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  // Use the `global` object exposed by Node (including Browserify via\n  // `insert-module-globals`), Narwhal, and Ringo as the default context,\n  // and the `window` object in browsers. Rhino exports a `global` function\n  // instead.\n  var root = objectTypes[typeof window] && window || this,\n      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\n\n  if (freeGlobal && (freeGlobal[\"global\"] === freeGlobal || freeGlobal[\"window\"] === freeGlobal || freeGlobal[\"self\"] === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  // Public: Initializes JSON 3 using the given `context` object, attaching the\n  // `stringify` and `parse` functions to the specified `exports` object.\n  function runInContext(context, exports) {\n    context || (context = root[\"Object\"]());\n    exports || (exports = root[\"Object\"]());\n\n    // Native constructor aliases.\n    var Number = context[\"Number\"] || root[\"Number\"],\n        String = context[\"String\"] || root[\"String\"],\n        Object = context[\"Object\"] || root[\"Object\"],\n        Date = context[\"Date\"] || root[\"Date\"],\n        SyntaxError = context[\"SyntaxError\"] || root[\"SyntaxError\"],\n        TypeError = context[\"TypeError\"] || root[\"TypeError\"],\n        Math = context[\"Math\"] || root[\"Math\"],\n        nativeJSON = context[\"JSON\"] || root[\"JSON\"];\n\n    // Delegate to the native `stringify` and `parse` implementations.\n    if (typeof nativeJSON == \"object\" && nativeJSON) {\n      exports.stringify = nativeJSON.stringify;\n      exports.parse = nativeJSON.parse;\n    }\n\n    // Convenience aliases.\n    var objectProto = Object.prototype,\n        getClass = objectProto.toString,\n        isProperty, forEach, undef;\n\n    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n    var isExtended = new Date(-3509827334573292);\n    try {\n      // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n      // results for certain dates in Opera >= 10.53.\n      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n        // Safari < 2.0.2 stores the internal millisecond time value correctly,\n        // but clips the values returned by the date methods to the range of\n        // signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).\n        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n    } catch (exception) {}\n\n    // Internal: Determines whether the native `JSON.stringify` and `parse`\n    // implementations are spec-compliant. Based on work by Ken Snyder.\n    function has(name) {\n      if (has[name] !== undef) {\n        // Return cached feature test result.\n        return has[name];\n      }\n      var isSupported;\n      if (name == \"bug-string-char-index\") {\n        // IE <= 7 doesn't support accessing string characters using square\n        // bracket notation. IE 8 only supports this for primitives.\n        isSupported = \"a\"[0] != \"a\";\n      } else if (name == \"json\") {\n        // Indicates whether both `JSON.stringify` and `JSON.parse` are\n        // supported.\n        isSupported = has(\"json-stringify\") && has(\"json-parse\");\n      } else {\n        var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n        // Test `JSON.stringify`.\n        if (name == \"json-stringify\") {\n          var stringify = exports.stringify, stringifySupported = typeof stringify == \"function\" && isExtended;\n          if (stringifySupported) {\n            // A test function object with a custom `toJSON` method.\n            (value = function () {\n              return 1;\n            }).toJSON = value;\n            try {\n              stringifySupported =\n                // Firefox 3.1b1 and b2 serialize string, number, and boolean\n                // primitives as object literals.\n                stringify(0) === \"0\" &&\n                // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n                // literals.\n                stringify(new Number()) === \"0\" &&\n                stringify(new String()) == '\"\"' &&\n                // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n                // does not define a canonical JSON representation (this applies to\n                // objects with `toJSON` properties as well, *unless* they are nested\n                // within an object or array).\n                stringify(getClass) === undef &&\n                // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n                // FF 3.1b3 pass this test.\n                stringify(undef) === undef &&\n                // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n                // respectively, if the value is omitted entirely.\n                stringify() === undef &&\n                // FF 3.1b1, 2 throw an error if the given value is not a number,\n                // string, array, object, Boolean, or `null` literal. This applies to\n                // objects with custom `toJSON` methods as well, unless they are nested\n                // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n                // methods entirely.\n                stringify(value) === \"1\" &&\n                stringify([value]) == \"[1]\" &&\n                // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n                // `\"[null]\"`.\n                stringify([undef]) == \"[null]\" &&\n                // YUI 3.0.0b1 fails to serialize `null` literals.\n                stringify(null) == \"null\" &&\n                // FF 3.1b1, 2 halts serialization if an array contains a function:\n                // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\n                // elides non-JSON values from objects and arrays, unless they\n                // define custom `toJSON` methods.\n                stringify([undef, getClass, null]) == \"[null,null,null]\" &&\n                // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n                // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n                stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n                // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n                stringify(null, value) === \"1\" &&\n                stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\" &&\n                // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n                // serialize extended years.\n                stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n                // The milliseconds are optional in ES 5, but required in 5.1.\n                stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n                // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n                // four-digit years instead of six-digit years. Credits: @Yaffle.\n                stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n                // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n                // values less than 1000. Credits: @Yaffle.\n                stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n            } catch (exception) {\n              stringifySupported = false;\n            }\n          }\n          isSupported = stringifySupported;\n        }\n        // Test `JSON.parse`.\n        if (name == \"json-parse\") {\n          var parse = exports.parse;\n          if (typeof parse == \"function\") {\n            try {\n              // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n              // Conforming implementations should also coerce the initial argument to\n              // a string prior to parsing.\n              if (parse(\"0\") === 0 && !parse(false)) {\n                // Simple parsing test.\n                value = parse(serialized);\n                var parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n                if (parseSupported) {\n                  try {\n                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n                    parseSupported = !parse('\"\\t\"');\n                  } catch (exception) {}\n                  if (parseSupported) {\n                    try {\n                      // FF 4.0 and 4.0.1 allow leading `+` signs and leading\n                      // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\n                      // certain octal literals.\n                      parseSupported = parse(\"01\") !== 1;\n                    } catch (exception) {}\n                  }\n                  if (parseSupported) {\n                    try {\n                      // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\n                      // points. These environments, along with FF 3.1b1 and 2,\n                      // also allow trailing commas in JSON objects and arrays.\n                      parseSupported = parse(\"1.\") !== 1;\n                    } catch (exception) {}\n                  }\n                }\n              }\n            } catch (exception) {\n              parseSupported = false;\n            }\n          }\n          isSupported = parseSupported;\n        }\n      }\n      return has[name] = !!isSupported;\n    }\n\n    if (!has(\"json\")) {\n      // Common `[[Class]]` name aliases.\n      var functionClass = \"[object Function]\",\n          dateClass = \"[object Date]\",\n          numberClass = \"[object Number]\",\n          stringClass = \"[object String]\",\n          arrayClass = \"[object Array]\",\n          booleanClass = \"[object Boolean]\";\n\n      // Detect incomplete support for accessing string characters by index.\n      var charIndexBuggy = has(\"bug-string-char-index\");\n\n      // Define additional utility methods if the `Date` methods are buggy.\n      if (!isExtended) {\n        var floor = Math.floor;\n        // A mapping between the months of the year and the number of days between\n        // January 1st and the first of the respective month.\n        var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n        // Internal: Calculates the number of days between the Unix epoch and the\n        // first day of the given month.\n        var getDay = function (year, month) {\n          return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n        };\n      }\n\n      // Internal: Determines if a property is a direct property of the given\n      // object. Delegates to the native `Object#hasOwnProperty` method.\n      if (!(isProperty = objectProto.hasOwnProperty)) {\n        isProperty = function (property) {\n          var members = {}, constructor;\n          if ((members.__proto__ = null, members.__proto__ = {\n            // The *proto* property cannot be set multiple times in recent\n            // versions of Firefox and SeaMonkey.\n            \"toString\": 1\n          }, members).toString != getClass) {\n            // Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but\n            // supports the mutable *proto* property.\n            isProperty = function (property) {\n              // Capture and break the object's prototype chain (see section 8.6.2\n              // of the ES 5.1 spec). The parenthesized expression prevents an\n              // unsafe transformation by the Closure Compiler.\n              var original = this.__proto__, result = property in (this.__proto__ = null, this);\n              // Restore the original prototype chain.\n              this.__proto__ = original;\n              return result;\n            };\n          } else {\n            // Capture a reference to the top-level `Object` constructor.\n            constructor = members.constructor;\n            // Use the `constructor` property to simulate `Object#hasOwnProperty` in\n            // other environments.\n            isProperty = function (property) {\n              var parent = (this.constructor || constructor).prototype;\n              return property in this && !(property in parent && this[property] === parent[property]);\n            };\n          }\n          members = null;\n          return isProperty.call(this, property);\n        };\n      }\n\n      // Internal: Normalizes the `for...in` iteration algorithm across\n      // environments. Each enumerated key is yielded to a `callback` function.\n      forEach = function (object, callback) {\n        var size = 0, Properties, members, property;\n\n        // Tests for bugs in the current environment's `for...in` algorithm. The\n        // `valueOf` property inherits the non-enumerable flag from\n        // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n        (Properties = function () {\n          this.valueOf = 0;\n        }).prototype.valueOf = 0;\n\n        // Iterate over a new instance of the `Properties` class.\n        members = new Properties();\n        for (property in members) {\n          // Ignore all properties inherited from `Object.prototype`.\n          if (isProperty.call(members, property)) {\n            size++;\n          }\n        }\n        Properties = members = null;\n\n        // Normalize the iteration algorithm.\n        if (!size) {\n          // A list of non-enumerable properties inherited from `Object.prototype`.\n          members = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n          // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n          // properties.\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, length;\n            var hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\n            for (property in object) {\n              // Gecko <= 1.0 enumerates the `prototype` property of functions under\n              // certain conditions; IE does not.\n              if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for each non-enumerable property.\n            for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));\n          };\n        } else if (size == 2) {\n          // Safari <= 2.0.4 enumerates shadowed properties twice.\n          forEach = function (object, callback) {\n            // Create a set of iterated properties.\n            var members = {}, isFunction = getClass.call(object) == functionClass, property;\n            for (property in object) {\n              // Store each property name to prevent double enumeration. The\n              // `prototype` property of functions is not enumerated due to cross-\n              // environment inconsistencies.\n              if (!(isFunction && property == \"prototype\") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n          };\n        } else {\n          // No bugs detected; use the standard `for...in` algorithm.\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n            for (property in object) {\n              if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for the `constructor` property due to\n            // cross-environment inconsistencies.\n            if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n              callback(property);\n            }\n          };\n        }\n        return forEach(object, callback);\n      };\n\n      // Public: Serializes a JavaScript `value` as a JSON string. The optional\n      // `filter` argument may specify either a function that alters how object and\n      // array members are serialized, or an array of strings and numbers that\n      // indicates which properties should be serialized. The optional `width`\n      // argument may be either a string or number that specifies the indentation\n      // level of the output.\n      if (!has(\"json-stringify\")) {\n        // Internal: A map of control characters and their escaped equivalents.\n        var Escapes = {\n          92: \"\\\\\\\\\",\n          34: '\\\\\"',\n          8: \"\\\\b\",\n          12: \"\\\\f\",\n          10: \"\\\\n\",\n          13: \"\\\\r\",\n          9: \"\\\\t\"\n        };\n\n        // Internal: Converts `value` into a zero-padded string such that its\n        // length is at least equal to `width`. The `width` must be <= 6.\n        var leadingZeroes = \"000000\";\n        var toPaddedString = function (width, value) {\n          // The `|| 0` expression is necessary to work around a bug in\n          // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n          return (leadingZeroes + (value || 0)).slice(-width);\n        };\n\n        // Internal: Double-quotes a string `value`, replacing all ASCII control\n        // characters (characters with code unit values between 0 and 31) with\n        // their escaped equivalents. This is an implementation of the\n        // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n        var unicodePrefix = \"\\\\u00\";\n        var quote = function (value) {\n          var result = '\"', index = 0, length = value.length, useCharIndex = !charIndexBuggy || length > 10;\n          var symbols = useCharIndex && (charIndexBuggy ? value.split(\"\") : value);\n          for (; index < length; index++) {\n            var charCode = value.charCodeAt(index);\n            // If the character is a control character, append its Unicode or\n            // shorthand escape sequence; otherwise, append the character as-is.\n            switch (charCode) {\n              case 8: case 9: case 10: case 12: case 13: case 34: case 92:\n                result += Escapes[charCode];\n                break;\n              default:\n                if (charCode < 32) {\n                  result += unicodePrefix + toPaddedString(2, charCode.toString(16));\n                  break;\n                }\n                result += useCharIndex ? symbols[index] : value.charAt(index);\n            }\n          }\n          return result + '\"';\n        };\n\n        // Internal: Recursively serializes an object. Implements the\n        // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n        var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n          var value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;\n          try {\n            // Necessary for host object support.\n            value = object[property];\n          } catch (exception) {}\n          if (typeof value == \"object\" && value) {\n            className = getClass.call(value);\n            if (className == dateClass && !isProperty.call(value, \"toJSON\")) {\n              if (value > -1 / 0 && value < 1 / 0) {\n                // Dates are serialized according to the `Date#toJSON` method\n                // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n                // for the ISO 8601 date time string format.\n                if (getDay) {\n                  // Manually compute the year, month, date, hours, minutes,\n                  // seconds, and milliseconds if the `getUTC*` methods are\n                  // buggy. Adapted from @Yaffle's `date-shim` project.\n                  date = floor(value / 864e5);\n                  for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n                  for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n                  date = 1 + date - getDay(year, month);\n                  // The `time` value specifies the time within the day (see ES\n                  // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n                  // to compute `A modulo B`, as the `%` operator does not\n                  // correspond to the `modulo` operation for negative numbers.\n                  time = (value % 864e5 + 864e5) % 864e5;\n                  // The hours, minutes, seconds, and milliseconds are obtained by\n                  // decomposing the time within the day. See section 15.9.1.10.\n                  hours = floor(time / 36e5) % 24;\n                  minutes = floor(time / 6e4) % 60;\n                  seconds = floor(time / 1e3) % 60;\n                  milliseconds = time % 1e3;\n                } else {\n                  year = value.getUTCFullYear();\n                  month = value.getUTCMonth();\n                  date = value.getUTCDate();\n                  hours = value.getUTCHours();\n                  minutes = value.getUTCMinutes();\n                  seconds = value.getUTCSeconds();\n                  milliseconds = value.getUTCMilliseconds();\n                }\n                // Serialize extended years correctly.\n                value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n                  \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n                  // Months, dates, hours, minutes, and seconds should have two\n                  // digits; milliseconds should have three.\n                  \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n                  // Milliseconds are optional in ES 5.0, but required in 5.1.\n                  \".\" + toPaddedString(3, milliseconds) + \"Z\";\n              } else {\n                value = null;\n              }\n            } else if (typeof value.toJSON == \"function\" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, \"toJSON\"))) {\n              // Prototype <= 1.6.1 adds non-standard `toJSON` methods to the\n              // `Number`, `String`, `Date`, and `Array` prototypes. JSON 3\n              // ignores all `toJSON` methods on these objects unless they are\n              // defined directly on an instance.\n              value = value.toJSON(property);\n            }\n          }\n          if (callback) {\n            // If a replacement function was provided, call it to obtain the value\n            // for serialization.\n            value = callback.call(object, property, value);\n          }\n          if (value === null) {\n            return \"null\";\n          }\n          className = getClass.call(value);\n          if (className == booleanClass) {\n            // Booleans are represented literally.\n            return \"\" + value;\n          } else if (className == numberClass) {\n            // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n            // `\"null\"`.\n            return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n          } else if (className == stringClass) {\n            // Strings are double-quoted and escaped.\n            return quote(\"\" + value);\n          }\n          // Recursively serialize objects and arrays.\n          if (typeof value == \"object\") {\n            // Check for cyclic structures. This is a linear search; performance\n            // is inversely proportional to the number of unique nested objects.\n            for (length = stack.length; length--;) {\n              if (stack[length] === value) {\n                // Cyclic structures cannot be serialized by `JSON.stringify`.\n                throw TypeError();\n              }\n            }\n            // Add the object to the stack of traversed objects.\n            stack.push(value);\n            results = [];\n            // Save the current indentation level and indent one additional level.\n            prefix = indentation;\n            indentation += whitespace;\n            if (className == arrayClass) {\n              // Recursively serialize array elements.\n              for (index = 0, length = value.length; index < length; index++) {\n                element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n                results.push(element === undef ? \"null\" : element);\n              }\n              result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n            } else {\n              // Recursively serialize object members. Members are selected from\n              // either a user-specified list of property names, or the object\n              // itself.\n              forEach(properties || value, function (property) {\n                var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n                if (element !== undef) {\n                  // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n                  // is not the empty string, let `member` {quote(property) + \":\"}\n                  // be the concatenation of `member` and the `space` character.\"\n                  // The \"`space` character\" refers to the literal space\n                  // character, not the `space` {width} argument provided to\n                  // `JSON.stringify`.\n                  results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n                }\n              });\n              result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n            }\n            // Remove the object from the traversed object stack.\n            stack.pop();\n            return result;\n          }\n        };\n\n        // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n        exports.stringify = function (source, filter, width) {\n          var whitespace, callback, properties, className;\n          if (objectTypes[typeof filter] && filter) {\n            if ((className = getClass.call(filter)) == functionClass) {\n              callback = filter;\n            } else if (className == arrayClass) {\n              // Convert the property names array into a makeshift set.\n              properties = {};\n              for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));\n            }\n          }\n          if (width) {\n            if ((className = getClass.call(width)) == numberClass) {\n              // Convert the `width` to an integer and create a string containing\n              // `width` number of space characters.\n              if ((width -= width % 1) > 0) {\n                for (whitespace = \"\", width > 10 && (width = 10); whitespace.length < width; whitespace += \" \");\n              }\n            } else if (className == stringClass) {\n              whitespace = width.length <= 10 ? width : width.slice(0, 10);\n            }\n          }\n          // Opera <= 7.54u2 discards the values associated with empty string keys\n          // (`\"\"`) only if they are used directly within an object member list\n          // (e.g., `!(\"\" in { \"\": 1})`).\n          return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n        };\n      }\n\n      // Public: Parses a JSON source string.\n      if (!has(\"json-parse\")) {\n        var fromCharCode = String.fromCharCode;\n\n        // Internal: A map of escaped control characters and their unescaped\n        // equivalents.\n        var Unescapes = {\n          92: \"\\\\\",\n          34: '\"',\n          47: \"/\",\n          98: \"\\b\",\n          116: \"\\t\",\n          110: \"\\n\",\n          102: \"\\f\",\n          114: \"\\r\"\n        };\n\n        // Internal: Stores the parser state.\n        var Index, Source;\n\n        // Internal: Resets the parser state and throws a `SyntaxError`.\n        var abort = function () {\n          Index = Source = null;\n          throw SyntaxError();\n        };\n\n        // Internal: Returns the next token, or `\"$\"` if the parser has reached\n        // the end of the source string. A token may be a string, number, `null`\n        // literal, or Boolean literal.\n        var lex = function () {\n          var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n          while (Index < length) {\n            charCode = source.charCodeAt(Index);\n            switch (charCode) {\n              case 9: case 10: case 13: case 32:\n                // Skip whitespace tokens, including tabs, carriage returns, line\n                // feeds, and space characters.\n                Index++;\n                break;\n              case 123: case 125: case 91: case 93: case 58: case 44:\n                // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n                // the current position.\n                value = charIndexBuggy ? source.charAt(Index) : source[Index];\n                Index++;\n                return value;\n              case 34:\n                // `\"` delimits a JSON string; advance to the next character and\n                // begin parsing the string. String tokens are prefixed with the\n                // sentinel `@` character to distinguish them from punctuators and\n                // end-of-string tokens.\n                for (value = \"@\", Index++; Index < length;) {\n                  charCode = source.charCodeAt(Index);\n                  if (charCode < 32) {\n                    // Unescaped ASCII control characters (those with a code unit\n                    // less than the space character) are not permitted.\n                    abort();\n                  } else if (charCode == 92) {\n                    // A reverse solidus (`\\`) marks the beginning of an escaped\n                    // control character (including `\"`, `\\`, and `/`) or Unicode\n                    // escape sequence.\n                    charCode = source.charCodeAt(++Index);\n                    switch (charCode) {\n                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                        // Revive escaped control characters.\n                        value += Unescapes[charCode];\n                        Index++;\n                        break;\n                      case 117:\n                        // `\\u` marks the beginning of a Unicode escape sequence.\n                        // Advance to the first character and validate the\n                        // four-digit code point.\n                        begin = ++Index;\n                        for (position = Index + 4; Index < position; Index++) {\n                          charCode = source.charCodeAt(Index);\n                          // A valid sequence comprises four hexdigits (case-\n                          // insensitive) that form a single hexadecimal value.\n                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                            // Invalid Unicode escape sequence.\n                            abort();\n                          }\n                        }\n                        // Revive the escaped character.\n                        value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                        break;\n                      default:\n                        // Invalid escape sequence.\n                        abort();\n                    }\n                  } else {\n                    if (charCode == 34) {\n                      // An unescaped double-quote character marks the end of the\n                      // string.\n                      break;\n                    }\n                    charCode = source.charCodeAt(Index);\n                    begin = Index;\n                    // Optimize for the common case where a string is valid.\n                    while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                      charCode = source.charCodeAt(++Index);\n                    }\n                    // Append the string as-is.\n                    value += source.slice(begin, Index);\n                  }\n                }\n                if (source.charCodeAt(Index) == 34) {\n                  // Advance to the next character and return the revived string.\n                  Index++;\n                  return value;\n                }\n                // Unterminated string.\n                abort();\n              default:\n                // Parse numbers and literals.\n                begin = Index;\n                // Advance past the negative sign, if one is specified.\n                if (charCode == 45) {\n                  isSigned = true;\n                  charCode = source.charCodeAt(++Index);\n                }\n                // Parse an integer or floating-point value.\n                if (charCode >= 48 && charCode <= 57) {\n                  // Leading zeroes are interpreted as octal literals.\n                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                    // Illegal octal literal.\n                    abort();\n                  }\n                  isSigned = false;\n                  // Parse the integer component.\n                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                  // Floats cannot contain a leading decimal point; however, this\n                  // case is already accounted for by the parser.\n                  if (source.charCodeAt(Index) == 46) {\n                    position = ++Index;\n                    // Parse the decimal component.\n                    for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      // Illegal trailing decimal.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Parse exponents. The `e` denoting the exponent is\n                  // case-insensitive.\n                  charCode = source.charCodeAt(Index);\n                  if (charCode == 101 || charCode == 69) {\n                    charCode = source.charCodeAt(++Index);\n                    // Skip past the sign following the exponent, if one is\n                    // specified.\n                    if (charCode == 43 || charCode == 45) {\n                      Index++;\n                    }\n                    // Parse the exponential component.\n                    for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      // Illegal empty exponent.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Coerce the parsed value to a JavaScript number.\n                  return +source.slice(begin, Index);\n                }\n                // A negative sign may only precede numbers.\n                if (isSigned) {\n                  abort();\n                }\n                // `true`, `false`, and `null` literals.\n                if (source.slice(Index, Index + 4) == \"true\") {\n                  Index += 4;\n                  return true;\n                } else if (source.slice(Index, Index + 5) == \"false\") {\n                  Index += 5;\n                  return false;\n                } else if (source.slice(Index, Index + 4) == \"null\") {\n                  Index += 4;\n                  return null;\n                }\n                // Unrecognized token.\n                abort();\n            }\n          }\n          // Return the sentinel `$` character if the parser has reached the end\n          // of the source string.\n          return \"$\";\n        };\n\n        // Internal: Parses a JSON `value` token.\n        var get = function (value) {\n          var results, hasMembers;\n          if (value == \"$\") {\n            // Unexpected end of input.\n            abort();\n          }\n          if (typeof value == \"string\") {\n            if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n              // Remove the sentinel `@` character.\n              return value.slice(1);\n            }\n            // Parse object and array literals.\n            if (value == \"[\") {\n              // Parses a JSON array, returning a new JavaScript array.\n              results = [];\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                // A closing square bracket marks the end of the array literal.\n                if (value == \"]\") {\n                  break;\n                }\n                // If the array literal contains elements, the current token\n                // should be a comma separating the previous element from the\n                // next.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"]\") {\n                      // Unexpected trailing `,` in array literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each array element.\n                    abort();\n                  }\n                }\n                // Elisions and leading commas are not permitted.\n                if (value == \",\") {\n                  abort();\n                }\n                results.push(get(value));\n              }\n              return results;\n            } else if (value == \"{\") {\n              // Parses a JSON object, returning a new JavaScript object.\n              results = {};\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                // A closing curly brace marks the end of the object literal.\n                if (value == \"}\") {\n                  break;\n                }\n                // If the object literal contains members, the current token\n                // should be a comma separator.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"}\") {\n                      // Unexpected trailing `,` in object literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each object member.\n                    abort();\n                  }\n                }\n                // Leading commas are not permitted, object property names must be\n                // double-quoted strings, and a `:` must separate each property\n                // name and value.\n                if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n                  abort();\n                }\n                results[value.slice(1)] = get(lex());\n              }\n              return results;\n            }\n            // Unexpected token encountered.\n            abort();\n          }\n          return value;\n        };\n\n        // Internal: Updates a traversed object member.\n        var update = function (source, property, callback) {\n          var element = walk(source, property, callback);\n          if (element === undef) {\n            delete source[property];\n          } else {\n            source[property] = element;\n          }\n        };\n\n        // Internal: Recursively traverses a parsed JSON object, invoking the\n        // `callback` function for each value. This is an implementation of the\n        // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n        var walk = function (source, property, callback) {\n          var value = source[property], length;\n          if (typeof value == \"object\" && value) {\n            // `forEach` can't be used to traverse an array in Opera <= 8.54\n            // because its `Object#hasOwnProperty` implementation returns `false`\n            // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n            if (getClass.call(value) == arrayClass) {\n              for (length = value.length; length--;) {\n                update(value, length, callback);\n              }\n            } else {\n              forEach(value, function (property) {\n                update(value, property, callback);\n              });\n            }\n          }\n          return callback.call(source, property, value);\n        };\n\n        // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n        exports.parse = function (source, callback) {\n          var result, value;\n          Index = 0;\n          Source = \"\" + source;\n          result = get(lex());\n          // If a JSON string contains multiple tokens, it is invalid.\n          if (lex() != \"$\") {\n            abort();\n          }\n          // Reset the parser state.\n          Index = Source = null;\n          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n        };\n      }\n    }\n\n    exports[\"runInContext\"] = runInContext;\n    return exports;\n  }\n\n  if (freeExports && !isLoader) {\n    // Export for CommonJS environments.\n    runInContext(root, freeExports);\n  } else {\n    // Export for web browsers and JavaScript engines.\n    var nativeJSON = root.JSON,\n        previousJSON = root[\"JSON3\"],\n        isRestored = false;\n\n    var JSON3 = runInContext(root, (root[\"JSON3\"] = {\n      // Public: Restores the original value of the global `JSON` object and\n      // returns a reference to the `JSON3` object.\n      \"noConflict\": function () {\n        if (!isRestored) {\n          isRestored = true;\n          root.JSON = nativeJSON;\n          root[\"JSON3\"] = previousJSON;\n          nativeJSON = previousJSON = null;\n        }\n        return JSON3;\n      }\n    }));\n\n    root.JSON = {\n      \"parse\": JSON3.parse,\n      \"stringify\": JSON3.stringify\n    };\n  }\n\n  // Export for asynchronous module loaders.\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}).call(this);\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {})\n},{}],51:[function(_dereq_,module,exports){\nmodule.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n\n},{}]},{},[31])(31)\n});\n","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n\n},{\"d\":2,\"es5-ext/object/valid-callable\":11}],2:[function(require,module,exports){\n'use strict';\n\nvar assign        = require('es5-ext/object/assign')\n  , normalizeOpts = require('es5-ext/object/normalize-options')\n  , isCallable    = require('es5-ext/object/is-callable')\n  , contains      = require('es5-ext/string/#/contains')\n\n  , d;\n\nd = module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif ((arguments.length < 2) || (typeof dscr !== 'string')) {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (dscr == null) {\n\t\tc = w = true;\n\t\te = false;\n\t} else {\n\t\tc = contains.call(dscr, 'c');\n\t\te = contains.call(dscr, 'e');\n\t\tw = contains.call(dscr, 'w');\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== 'string') {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (get == null) {\n\t\tget = undefined;\n\t} else if (!isCallable(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (set == null) {\n\t\tset = undefined;\n\t} else if (!isCallable(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (dscr == null) {\n\t\tc = true;\n\t\te = false;\n\t} else {\n\t\tc = contains.call(dscr, 'c');\n\t\te = contains.call(dscr, 'e');\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n\n},{\"es5-ext/object/assign\":3,\"es5-ext/object/is-callable\":6,\"es5-ext/object/normalize-options\":10,\"es5-ext/string/#/contains\":13}],3:[function(require,module,exports){\n'use strict';\n\nmodule.exports = require('./is-implemented')()\n\t? Object.assign\n\t: require('./shim');\n\n},{\"./is-implemented\":4,\"./shim\":5}],4:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== 'function') return false;\n\tobj = { foo: 'raz' };\n\tassign(obj, { bar: 'dwa' }, { trzy: 'trzy' });\n\treturn (obj.foo + obj.bar + obj.trzy) === 'razdwatrzy';\n};\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nvar keys  = require('../keys')\n  , value = require('../valid-value')\n\n  , max = Math.max;\n\nmodule.exports = function (dest, src/*, …srcn*/) {\n\tvar error, i, l = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry { dest[key] = src[key]; } catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < l; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n\n},{\"../keys\":7,\"../valid-value\":12}],6:[function(require,module,exports){\n// Deprecated\n\n'use strict';\n\nmodule.exports = function (obj) { return typeof obj === 'function'; };\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nmodule.exports = require('./is-implemented')()\n\t? Object.keys\n\t: require('./shim');\n\n},{\"./is-implemented\":8,\"./shim\":9}],8:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys('primitive');\n\t\treturn true;\n\t} catch (e) { return false; }\n};\n\n},{}],9:[function(require,module,exports){\n'use strict';\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) {\n\treturn keys(object == null ? object : Object(object));\n};\n\n},{}],10:[function(require,module,exports){\n'use strict';\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\nmodule.exports = function (options/*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (options == null) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n\n},{}],11:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== 'function') throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n\n},{}],12:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function (value) {\n\tif (value == null) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n\n},{}],13:[function(require,module,exports){\n'use strict';\n\nmodule.exports = require('./is-implemented')()\n\t? String.prototype.contains\n\t: require('./shim');\n\n},{\"./is-implemented\":14,\"./shim\":15}],14:[function(require,module,exports){\n'use strict';\n\nvar str = 'razdwatrzy';\n\nmodule.exports = function () {\n\tif (typeof str.contains !== 'function') return false;\n\treturn ((str.contains('dwa') === true) && (str.contains('foo') === false));\n};\n\n},{}],15:[function(require,module,exports){\n'use strict';\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n\n},{}],16:[function(require,module,exports){\nvar Incus = {};\n\nIncus.Client = require('./incus');\nIncus.Presence = require('./lib/presence');\n\nwindow.Incus = Incus;\n\n},{\"./incus\":17,\"./lib/presence\":19}],17:[function(require,module,exports){\nvar EventEmitter = require('event-emitter');\n\nfunction Incus(url, UID, page) {\n    this.MAXRETRIES   = 6;\n\n    this.socketRetries = 0;\n    this.pollRetries   = 0;\n\n    this.url          = url;\n    this.UID          = UID;\n    this.page         = page;\n\n    this.socket          = null;\n    this.poll            = null;\n    this.pollCommand     = null;\n    this.connected       = false;\n    this.socketConnected = false;\n\n    this.emitter = new EventEmitter({});\n\n    this.connect();\n}\n\nIncus.prototype.longpoll = function(command) {\n    if(this.socketConnected) { return; }\n\n    if(this.poll != null) {\n        this.poll.abort();\n        this.pollCommand = null;\n    }\n\n    this.poll = new XMLHttpRequest();\n\n    var data = {'user': this.UID};\n    if(this.page) {\n        data['page'] = this.page;\n    }\n\n    if(typeof command != 'undefined') {\n        data['command'] = command;\n        this.pollCommand = command;\n    }\n\n    var query_string = this.serialize(data);\n\n    var self = this;\n    this.poll.onreadystatechange = function() {\n        if(self.poll.readyState == 4) {\n            var response = {\n                'data'   : self.poll.responseText,\n                'status' : self.poll.status,\n                'success': true\n            };\n\n            if(self.poll.status !== 0 && self.pollRetries < self.MAXRETRIES) {\n                self.longpoll();\n            }\n\n            if(response.status != 200 && response.status != 204 && response.status !== 0) {\n                self.pollRetries++;\n            }\n\n            if(response.status == 200 && response.data !== \"\") {\n                self.onMessage(response);\n            }\n        }\n    }\n\n    this.poll.open(\"GET\", this.url+'/lp'+query_string, true);\n    this.poll.timeout = 0;\n    this.poll.send();\n\n    this.connected = true;\n\n    this.emitter.emit('connect');\n}\n\nIncus.prototype.connect = function() {\n    this.longpoll();\n\n    if(\"WebSocket\" in window) {\n        this.connectSocket();\n    }\n}\n\nIncus.prototype.connectSocket = function() {\n    var url = this.url.replace(\"https\", \"wss\").replace(\"http\", \"ws\");\n    this.socket = new WebSocket(url+'/socket');\n\n    var self = this;\n    this.socket.onopen    = function()  { self.authenticate() };\n    this.socket.onmessage = function(e) { self.onMessage(e) };\n    this.socket.onclose   = function()  { self.onClose() };\n}\n\nIncus.prototype.newCommand = function(command, message) {\n    message['time'] = Math.round(new Date().getTime() / 1000);\n    var obj = {\n        \"command\": command,\n        \"message\": message\n    };\n\n    return JSON.stringify(obj);\n}\n\nIncus.prototype.authenticate = function() {\n    this.socketConnected = true;\n\n    this.poll.abort();\n\n    var message = this.newCommand({'command': \"authenticate\", 'user': this.UID}, {});\n\n    this.socket.send(message);\n\n    if(this.page) {\n        this.setPage(this.page);\n    }\n\n    if(this.pollCommand !== null) {\n        this.socket.send(this.pollCommand);\n        this.pollCommand = null;\n    }\n\n    this.emitter.emit('connect');\n\n    this.connected = true;\n}\n\nIncus.prototype.on = function(name, func) {\n    this.emitter.on('event:' + name, func);\n}\n\nIncus.prototype.onMessage = function(e) {\n    if(e.data === \"\") {\n        this.socketRetries = 0;\n        return;\n    }\n\n    var msg = JSON.parse(e.data);\n\n    if(\"event\" in msg) {\n        this.emitter.emit('event:' + msg.event, msg.data);\n    }\n}\n\nIncus.prototype.onClose = function() {\n    if(this.socketRetries > this.MAXRETRIES) {\n        return;\n    }\n\n    this.socketRetries++;\n    this.connected = false;\n\n    var self = this;\n    window.setTimeout(function() {\n        console.log(\"Connection closed, retrying\");\n\n        self.connectSocket();\n    }, 1000);\n}\n\nIncus.prototype.MessageUser = function(event, UID, data) {\n    var command = {\"command\": \"message\", \"user\": UID};\n    var message = {\"event\": event, \"data\": data};\n\n    var msg = this.newCommand(command, message);\n    return this.send(msg);\n}\n\nIncus.prototype.MessagePage = function(event, page, data) {\n    var command = {\"command\": \"message\", \"page\": page};\n    var message = {\"event\": event, \"data\": data};\n\n    var msg = this.newCommand(command, message);\n    return this.send(msg);\n}\n\nIncus.prototype.MessageAll = function(event, data) {\n    var command = {\"command\": \"message\"};\n    var message = {\"event\": event, \"data\": data};\n\n    var msg = this.newCommand(command, message);\n    return this.send(msg);\n}\n\nIncus.prototype.setPage = function(page) {\n    this.page   = page;\n\n    if(this.socketConnected) {\n        var command = {'command': 'setpage', 'page': page};\n\n        var msg = this.newCommand(command, {});\n        return this.send(msg);\n    }\n\n    this.send();\n}\n\nIncus.prototype.serialize = function(obj) {\n   var str = [];\n\n   for(var p in obj){\n       if(obj.hasOwnProperty(p)) {\n           str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\n       }\n   }\n   return '?'+str.join(\"&\");\n}\n\nIncus.prototype.send = function(command) {\n    if(this.socketConnected) {\n        this.socket.send(command);\n    } else {\n        this.longpoll(command);\n    }\n}\n\nmodule.exports = Incus;\n\n},{\"event-emitter\":1}],18:[function(require,module,exports){\n\n},{}],19:[function(require,module,exports){\nvar EventEmitter = require('event-emitter');\n\nvar INCUS_COMMAND_SETPRESENCE = 'setpresence';\nvar MAXIMUM_COMMNANDS_PER_SECOND = 20;\n\n/**\n * Notify Incus when we go from being inactive to active or vice versa.\n */\nvar Presence = function(inactivityThresholdSeconds) {\n    var emitter = new EventEmitter();\n    this.emitter = emitter;\n    this.on = emitter.on.bind(emitter);\n    this.off = emitter.off.bind(emitter);\n\n    this.timerReference = null;\n    this.lastActiveTime = null;\n    this._lastResetCall = null;\n    this.inactivityThresholdSeconds = (typeof inactivityThresholdSeconds !== 'undefined' ? inactivityThresholdSeconds : 60);\n\n    document.body.addEventListener('touchstart', this.handleUserActivity.bind(this));\n    document.body.addEventListener('keypress', this.handleUserActivity.bind(this));\n    document.body.addEventListener('mousemove', this.handleUserActivity.bind(this));\n\n    this.reset();\n};\n\nPresence.prototype = {\n    reset: function() {\n        var nowUnixTime = (+ new Date() / 1000);\n\n        if(this.lastActiveTime !== null) {\n            var wasPresent = (this.lastActiveTime + this.inactivityThresholdSeconds >= nowUnixTime);\n\n            if(!wasPresent) {\n                this.emitter.emit('return', this.lastActiveTime, nowUnixTime);\n            }\n        }\n\n        this.lastActiveTime = nowUnixTime;\n\n        if(this.timerReference !== null) {\n            window.clearTimeout(this.timerReference);\n        }\n\n        this.timerReference = window.setTimeout(this.handleTimeout.bind(this), this.inactivityThresholdSeconds * 1000);\n    },\n\n    handleTimeout: function() {\n        this.emitter.emit('idle');\n    },\n\n    handleUserActivity: function(e) {\n        var nowUnixTimeMsec = (+ new Date);\n\n        // Throttle reset commands\n        if(this._lastResetCall === null || this._lastResetCall + (1000 / MAXIMUM_COMMNANDS_PER_SECOND) <= nowUnixTimeMsec) {\n            this._lastResetCall = nowUnixTimeMsec;\n            this.reset();\n        }\n    }\n};\n\nvar IncusNotifier = function(presence, incus) {\n    this.presence = presence;\n    this.incus = incus;\n\n    presence.on('return', this.handleHere.bind(this));\n    presence.on('idle', this.handleIdle.bind(this));\n\n    this.handleHere();\n};\n\nIncusNotifier.prototype.notifyIncus = function(options) {\n    var command = {\n        'command': INCUS_COMMAND_SETPRESENCE\n    };\n\n    var message = {\n        'presence': options.present\n    };\n\n    this.incus.send(this.incus.newCommand(command, message));\n};\n\nIncusNotifier.prototype.handleHere = function() {\n    this.notifyIncus({\n        present: true\n    });\n};\n\nIncusNotifier.prototype.handleIdle = function() {\n    this.notifyIncus({\n        present: false\n    });\n};\n\nPresence.IncusNotifier = IncusNotifier;\n\nmodule.exports = Presence;\n\n},{\"event-emitter\":1}],20:[function(require,module,exports){\narguments[4][18][0].apply(exports,arguments)\n},{\"dup\":18}]},{},[16,17,18,19,20]);\n","/**\n * @license\n * Lo-Dash 2.4.1 (Custom Build) lodash.com/license | Underscore.js 1.5.2 underscorejs.org/LICENSE\n * Build: `lodash legacy -o lodash.min.js`\n */\n;(function(){function n(n,t,e){e=(e||0)-1;for(var r=n?n.length:0;++e<r;)if(n[e]===t)return e;return-1}function t(t,e){var r=typeof e;if(t=t.l,\"boolean\"==r||null==e)return t[e]?0:-1;\"number\"!=r&&\"string\"!=r&&(r=\"object\");var u=\"number\"==r?e:b+e;return t=(t=t[r])&&t[u],\"object\"==r?t&&-1<n(t,e)?0:-1:t?0:-1}function e(n){var t=this.l,e=typeof n;if(\"boolean\"==e||null==n)t[n]=true;else{\"number\"!=e&&\"string\"!=e&&(e=\"object\");var r=\"number\"==e?n:b+n,t=t[e]||(t[e]={});\"object\"==e?(t[r]||(t[r]=[])).push(n):t[r]=true\n}}function r(n){return n.charCodeAt(0)}function u(n,t){for(var e=n.m,r=t.m,u=-1,o=e.length;++u<o;){var a=e[u],i=r[u];if(a!==i){if(a>i||typeof a==\"undefined\")return 1;if(a<i||typeof i==\"undefined\")return-1}}return n.n-t.n}function o(n){var t=-1,r=n.length,u=n[0],o=n[r/2|0],a=n[r-1];if(u&&typeof u==\"object\"&&o&&typeof o==\"object\"&&a&&typeof a==\"object\")return false;for(u=l(),u[\"false\"]=u[\"null\"]=u[\"true\"]=u.undefined=false,o=l(),o.k=n,o.l=u,o.push=e;++t<r;)o.push(n[t]);return o}function a(n){return\"\\\\\"+U[n]\n}function i(){return v.pop()||[]}function l(){return y.pop()||{k:null,l:null,m:null,\"false\":false,n:0,\"null\":false,number:null,object:null,push:null,string:null,\"true\":false,undefined:false,o:null}}function f(n){return typeof n.toString!=\"function\"&&typeof(n+\"\")==\"string\"}function c(n){n.length=0,v.length<w&&v.push(n)}function p(n){var t=n.l;t&&p(t),n.k=n.l=n.m=n.object=n.number=n.string=n.o=null,y.length<w&&y.push(n)}function s(n,t,e){t||(t=0),typeof e==\"undefined\"&&(e=n?n.length:0);var r=-1;e=e-t||0;for(var u=Array(0>e?0:e);++r<e;)u[r]=n[t+r];\nreturn u}function g(e){function v(n){var t,e;return!n||fe.call(n)!=K||(t=n.constructor,dt(t)&&!(t instanceof t))||!Ee.argsClass&&w(n)||!Ee.nodeClass&&f(n)?false:Ee.ownLast?($e(n,function(n,t,r){return e=ge.call(r,t),false}),false!==e):($e(n,function(n,t){e=t}),typeof e==\"undefined\"||ge.call(n,e))}function y(n){return n&&typeof n==\"object\"&&typeof n.length==\"number\"&&fe.call(n)==L||false}function w(n){return n&&typeof n==\"object\"&&typeof n.length==\"number\"&&ge.call(n,\"callee\")&&!ve.call(n,\"callee\")||false}function U(n){return n&&typeof n==\"object\"&&!y(n)&&ge.call(n,\"__wrapped__\")?n:new X(n)\n}function X(n,t){this.__chain__=!!t,this.__wrapped__=n}function Y(n){function t(){if(r){var n=s(r);he.apply(n,arguments)}if(this instanceof t){var o=Oe(e.prototype),n=e.apply(o,n||arguments);return bt(n)?n:o}return e.apply(u,n||arguments)}var e=n[0],r=n[2],u=n[4];return t}function Z(n,t,e,r,u){if(e){var o=e(n);if(typeof o!=\"undefined\")return o}if(!bt(n))return n;var a=fe.call(n);if(!J[a]||!Ee.nodeClass&&f(n))return n;var l=ke[a];switch(a){case T:case z:return new l(+n);case D:case G:return new l(n);\ncase W:return o=l(n.source,S.exec(n)),o.lastIndex=n.lastIndex,o}if(a=y(n),t){var p=!r;r||(r=i()),u||(u=i());for(var g=r.length;g--;)if(r[g]==n)return u[g];o=a?l(n.length):{}}else o=a?s(n):Te({},n);return a&&(ge.call(n,\"index\")&&(o.index=n.index),ge.call(n,\"input\")&&(o.input=n.input)),t?(r.push(n),u.push(o),(a?Le:qe)(n,function(n,a){o[a]=Z(n,t,e,r,u)}),p&&(c(r),c(u)),o):o}function nt(n,t,e){if(typeof n!=\"function\")return Gt;if(typeof t==\"undefined\"||!(\"prototype\"in n))return n;switch(e){case 1:return function(e){return n.call(t,e)\n};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,u){return n.call(t,e,r,u)};case 4:return function(e,r,u,o){return n.call(t,e,r,u,o)}}return Kt(n,t)}function et(n){function t(){var n=l?a:this;if(u){var h=s(u);he.apply(h,arguments)}return(o||c)&&(h||(h=s(arguments)),o&&he.apply(h,o),c&&h.length<i)?(r|=16,et([e,p?r:-4&r,h,null,a,i])):(h||(h=arguments),f&&(e=n[g]),this instanceof t?(n=Oe(e.prototype),h=e.apply(n,h),bt(h)?h:n):e.apply(n,h))}var e=n[0],r=n[1],u=n[2],o=n[3],a=n[4],i=n[5],l=1&r,f=2&r,c=4&r,p=8&r,g=e;\nreturn t}function rt(e,r){var u=-1,a=gt(),i=e?e.length:0,l=i>=_&&a===n,f=[];if(l){var c=o(r);c?(a=t,r=c):l=false}for(;++u<i;)c=e[u],0>a(r,c)&&f.push(c);return l&&p(r),f}function ut(n,t,e,r){r=(r||0)-1;for(var u=n?n.length:0,o=[];++r<u;){var a=n[r];if(a&&typeof a==\"object\"&&typeof a.length==\"number\"&&(y(a)||w(a))){t||(a=ut(a,t,e));var i=-1,l=a.length,f=o.length;for(o.length+=l;++i<l;)o[f++]=a[i]}else e||o.push(a)}return o}function ot(n,t,e,r,u,o){if(e){var a=e(n,t);if(typeof a!=\"undefined\")return!!a}if(n===t)return 0!==n||1/n==1/t;\nif(n===n&&!(n&&H[typeof n]||t&&H[typeof t]))return false;if(null==n||null==t)return n===t;var l=fe.call(n),p=fe.call(t);if(l==P&&(l=K),p==P&&(p=K),l!=p)return false;switch(l){case T:case z:return+n==+t;case D:return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case W:case G:return n==ee(t)}if(p=l==L,!p){var s=ge.call(n,\"__wrapped__\"),g=ge.call(t,\"__wrapped__\");if(s||g)return ot(s?n.__wrapped__:n,g?t.__wrapped__:t,e,r,u,o);if(l!=K||!Ee.nodeClass&&(f(n)||f(t)))return false;if(l=!Ee.argsObject&&w(n)?ne:n.constructor,s=!Ee.argsObject&&w(t)?ne:t.constructor,l!=s&&!(dt(l)&&l instanceof l&&dt(s)&&s instanceof s)&&\"constructor\"in n&&\"constructor\"in t)return false\n}for(l=!u,u||(u=i()),o||(o=i()),s=u.length;s--;)if(u[s]==n)return o[s]==t;var h=0,a=true;if(u.push(n),o.push(t),p){if(s=n.length,h=t.length,(a=h==s)||r)for(;h--;)if(p=s,g=t[h],r)for(;p--&&!(a=ot(n[p],g,e,r,u,o)););else if(!(a=ot(n[h],g,e,r,u,o)))break}else $e(t,function(t,i,l){return ge.call(l,i)?(h++,a=ge.call(n,i)&&ot(n[i],t,e,r,u,o)):void 0}),a&&!r&&$e(n,function(n,t,e){return ge.call(e,t)?a=-1<--h:void 0});return u.pop(),o.pop(),l&&(c(u),c(o)),a}function at(n,t,e,r,u){(y(t)?Ot:qe)(t,function(t,o){var a,i,l=t,f=n[o];\nif(t&&((i=y(t))||v(t))){for(l=r.length;l--;)if(a=r[l]==t){f=u[l];break}if(!a){var c;e&&(l=e(f,t),c=typeof l!=\"undefined\")&&(f=l),c||(f=i?y(f)?f:[]:v(f)?f:{}),r.push(t),u.push(f),c||at(f,t,e,r,u)}}else e&&(l=e(f,t),typeof l==\"undefined\"&&(l=t)),typeof l!=\"undefined\"&&(f=l);n[o]=f})}function it(n,t){return n+se(xe()*(t-n+1))}function lt(e,r,u){var a=-1,l=gt(),f=e?e.length:0,s=[],g=!r&&f>=_&&l===n,h=u||g?i():s;for(g&&(h=o(h),l=t);++a<f;){var v=e[a],y=u?u(v,a,e):v;(r?!a||h[h.length-1]!==y:0>l(h,y))&&((u||g)&&h.push(y),s.push(v))\n}return g?(c(h.k),p(h)):u&&c(h),s}function ft(n){return function(t,e,r){var u={};if(e=U.createCallback(e,r,3),y(t)){r=-1;for(var o=t.length;++r<o;){var a=t[r];n(u,a,e(a,r,t),t)}}else Le(t,function(t,r,o){n(u,t,e(t,r,o),o)});return u}}function ct(n,t,e,r,u,o){var a=16&t,i=32&t;if(!(2&t||dt(n)))throw new re;return a&&!e.length&&(t&=-17,e=false),i&&!r.length&&(t&=-33,r=false),(1==t||17===t?Y:et)([n,t,e,r,u,o])}function pt(){V.h=F,V.b=V.c=V.g=V.i=\"\",V.e=\"t\",V.j=true;for(var n,t=0;n=arguments[t];t++)for(var e in n)V[e]=n[e];\nt=V.a,V.d=/^[^,]+/.exec(t)[0],n=Xt,t=\"return function(\"+t+\"){\",e=V;var r=\"var n,t=\"+e.d+\",E=\"+e.e+\";if(!t)return E;\"+e.i+\";\";e.b?(r+=\"var u=t.length;n=-1;if(\"+e.b+\"){\",Ee.unindexedChars&&(r+=\"if(s(t)){t=t.split('')}\"),r+=\"while(++n<u){\"+e.g+\";}}else{\"):Ee.nonEnumArgs&&(r+=\"var u=t.length;n=-1;if(u&&p(t)){while(++n<u){n+='';\"+e.g+\";}}else{\"),Ee.enumPrototypes&&(r+=\"var G=typeof t=='function';\"),Ee.enumErrorProps&&(r+=\"var F=t===k||t instanceof Error;\");var u=[];if(Ee.enumPrototypes&&u.push('!(G&&n==\"prototype\")'),Ee.enumErrorProps&&u.push('!(F&&(n==\"message\"||n==\"name\"))'),r+=\"for(n in t){\",e.j&&u.push(\"m.call(t, n)\"),u.length&&(r+=\"if(\"+u.join(\"&&\")+\"){\"),r+=e.g+\";\",u.length&&(r+=\"}\"),r+=\"}\",Ee.nonEnumShadows){for(r+=\"if(t!==A){var i=t.constructor,r=t===(i&&i.prototype),f=t===J?I:t===k?j:L.call(t),x=y[f];\",k=0;7>k;k++)r+=\"n='\"+e.h[k]+\"';if((!(r&&x[n])&&m.call(t,n))\",e.j||(r+=\"||(!x[n]&&t[n]!==A[n])\"),r+=\"){\"+e.g+\"}\";\nr+=\"}\"}return(e.b||Ee.nonEnumArgs)&&(r+=\"}\"),r+=e.c+\";return E\",n(\"d,j,k,m,o,p,q,s,A,B,y,I,J,L\",t+r+\"}\")(nt,$,oe,ge,d,w,y,wt,ae,H,Ce,G,ie,fe)}function st(n){return Ne[n]}function gt(){var t=(t=U.indexOf)===Lt?n:t;return t}function ht(n){return Re[n]}function vt(n,t,e){var r=Se(n),u=r.length;for(t=nt(t,e,3);u--&&(e=r[u],false!==t(n[e],e,n)););return n}function yt(n){var t=[];return $e(n,function(n,e){dt(n)&&t.push(e)}),t.sort()}function mt(n){for(var t=-1,e=Se(n),r=e.length,u={};++t<r;){var o=e[t];u[n[o]]=o\n}return u}function dt(n){return typeof n==\"function\"}function bt(n){return!(!n||!H[typeof n])}function _t(n){return typeof n==\"number\"||n&&typeof n==\"object\"&&fe.call(n)==D||false}function wt(n){return typeof n==\"string\"||n&&typeof n==\"object\"&&fe.call(n)==G||false}function jt(n){for(var t=-1,e=Se(n),r=e.length,u=Ht(r);++t<r;)u[t]=n[e[t]];return u}function xt(n,t,e){var r=-1,u=gt(),o=n?n.length:0,a=false;return e=(0>e?_e(0,o+e):e)||0,y(n)?a=-1<u(n,t,e):typeof o==\"number\"?a=-1<(wt(n)?n.indexOf(t,e):u(n,t,e)):Le(n,function(n){return++r<e?void 0:!(a=n===t)\n}),a}function kt(n,t,e){var r=true;if(t=U.createCallback(t,e,3),y(n)){e=-1;for(var u=n.length;++e<u&&(r=!!t(n[e],e,n)););}else Le(n,function(n,e,u){return r=!!t(n,e,u)});return r}function Ct(n,t,e){var r=[];if(t=U.createCallback(t,e,3),y(n)){e=-1;for(var u=n.length;++e<u;){var o=n[e];t(o,e,n)&&r.push(o)}}else Le(n,function(n,e,u){t(n,e,u)&&r.push(n)});return r}function Et(n,t,e){if(t=U.createCallback(t,e,3),!y(n)){var r;return Le(n,function(n,e,u){return t(n,e,u)?(r=n,false):void 0}),r}e=-1;for(var u=n.length;++e<u;){var o=n[e];\nif(t(o,e,n))return o}}function Ot(n,t,e){if(t&&typeof e==\"undefined\"&&y(n)){e=-1;for(var r=n.length;++e<r&&false!==t(n[e],e,n););}else Le(n,t,e);return n}function St(n,t,e){var r=n,u=n?n.length:0;if(t=t&&typeof e==\"undefined\"?t:nt(t,e,3),y(n))for(;u--&&false!==t(n[u],u,n););else{if(typeof u!=\"number\")var o=Se(n),u=o.length;else Ee.unindexedChars&&wt(n)&&(r=n.split(\"\"));Le(n,function(n,e,a){return e=o?o[--u]:--u,t(r[e],e,a)})}return n}function It(n,t,e){var r=-1,u=n?n.length:0,o=Ht(typeof u==\"number\"?u:0);\nif(t=U.createCallback(t,e,3),y(n))for(;++r<u;)o[r]=t(n[r],r,n);else Le(n,function(n,e,u){o[++r]=t(n,e,u)});return o}function At(n,t,e){var u=-1/0,o=u;if(typeof t!=\"function\"&&e&&e[t]===n&&(t=null),null==t&&y(n)){e=-1;for(var a=n.length;++e<a;){var i=n[e];i>o&&(o=i)}}else t=null==t&&wt(n)?r:U.createCallback(t,e,3),Le(n,function(n,e,r){e=t(n,e,r),e>u&&(u=e,o=n)});return o}function Bt(n,t,e,r){var u=3>arguments.length;if(t=U.createCallback(t,r,4),y(n)){var o=-1,a=n.length;for(u&&(e=n[++o]);++o<a;)e=t(e,n[o],o,n)\n}else Le(n,function(n,r,o){e=u?(u=false,n):t(e,n,r,o)});return e}function Nt(n,t,e,r){var u=3>arguments.length;return t=U.createCallback(t,r,4),St(n,function(n,r,o){e=u?(u=false,n):t(e,n,r,o)}),e}function Rt(n){var t=-1,e=n?n.length:0,r=Ht(typeof e==\"number\"?e:0);return Ot(n,function(n){var e=it(0,++t);r[t]=r[e],r[e]=n}),r}function Ft(n,t,e){var r;if(t=U.createCallback(t,e,3),y(n)){e=-1;for(var u=n.length;++e<u&&!(r=t(n[e],e,n)););}else Le(n,function(n,e,u){return!(r=t(n,e,u))});return!!r}function Pt(n,t,e){var r=0,u=n?n.length:0;\nif(typeof t!=\"number\"&&null!=t){var o=-1;for(t=U.createCallback(t,e,3);++o<u&&t(n[o],o,n);)r++}else if(r=t,null==r||e)return n?n[0]:h;return s(n,0,we(_e(0,r),u))}function Lt(t,e,r){if(typeof r==\"number\"){var u=t?t.length:0;r=0>r?_e(0,u+r):r||0}else if(r)return r=zt(t,e),t[r]===e?r:-1;return n(t,e,r)}function Tt(n,t,e){if(typeof t!=\"number\"&&null!=t){var r=0,u=-1,o=n?n.length:0;for(t=U.createCallback(t,e,3);++u<o&&t(n[u],u,n);)r++}else r=null==t||e?1:_e(0,t);return s(n,r)}function zt(n,t,e,r){var u=0,o=n?n.length:u;\nfor(e=e?U.createCallback(e,r,1):Gt,t=e(t);u<o;)r=u+o>>>1,e(n[r])<t?u=r+1:o=r;return u}function $t(n,t,e,r){return typeof t!=\"boolean\"&&null!=t&&(r=e,e=typeof t!=\"function\"&&r&&r[t]===n?null:t,t=false),null!=e&&(e=U.createCallback(e,r,3)),lt(n,t,e)}function qt(){for(var n=1<arguments.length?arguments:arguments[0],t=-1,e=n?At(Ge(n,\"length\")):0,r=Ht(0>e?0:e);++t<e;)r[t]=Ge(n,t);return r}function Dt(n,t){var e=-1,r=n?n.length:0,u={};for(t||!r||y(n[0])||(t=[]);++e<r;){var o=n[e];t?u[o]=t[e]:o&&(u[o[0]]=o[1])\n}return u}function Kt(n,t){return 2<arguments.length?ct(n,17,s(arguments,2),null,t):ct(n,1,null,null,t)}function Wt(n,t,e){function r(){c&&pe(c),a=c=p=h,(v||g!==t)&&(s=+new Qt,i=n.apply(f,o),c||a||(o=f=null))}function u(){var e=t-(+new Qt-l);0<e?c=ye(u,e):(a&&pe(a),e=p,a=c=p=h,e&&(s=+new Qt,i=n.apply(f,o),c||a||(o=f=null)))}var o,a,i,l,f,c,p,s=0,g=false,v=true;if(!dt(n))throw new re;if(t=_e(0,t)||0,true===e)var y=true,v=false;else bt(e)&&(y=e.leading,g=\"maxWait\"in e&&(_e(t,e.maxWait)||0),v=\"trailing\"in e?e.trailing:v);\nreturn function(){if(o=arguments,l=+new Qt,f=this,p=v&&(c||!y),false===g)var e=y&&!c;else{a||y||(s=l);var h=g-(l-s),m=0>=h;m?(a&&(a=pe(a)),s=l,i=n.apply(f,o)):a||(a=ye(r,h))}return m&&c?c=pe(c):c||t===g||(c=ye(u,t)),e&&(m=true,i=n.apply(f,o)),!m||c||a||(o=f=null),i}}function Gt(n){return n}function Jt(n,t,e){var r=true,u=t&&yt(t);t&&(e||u.length)||(null==e&&(e=t),o=X,t=n,n=U,u=yt(t)),false===e?r=false:bt(e)&&\"chain\"in e&&(r=e.chain);var o=n,a=dt(o);Ot(u,function(e){var u=n[e]=t[e];a&&(o.prototype[e]=function(){var t=this.__chain__,e=this.__wrapped__,a=[e];\nif(he.apply(a,arguments),a=u.apply(n,a),r||t){if(e===a&&bt(a))return this;a=new o(a),a.__chain__=t}return a})})}function Mt(n){return function(t){return t[n]}}function Vt(){return this.__wrapped__}e=e?tt.defaults(Q.Object(),e,tt.pick(Q,R)):Q;var Ht=e.Array,Ut=e.Boolean,Qt=e.Date,Xt=e.Function,Yt=e.Math,Zt=e.Number,ne=e.Object,te=e.RegExp,ee=e.String,re=e.TypeError,ue=[],oe=e.Error.prototype,ae=ne.prototype,ie=ee.prototype,le=e._,fe=ae.toString,ce=Yt.ceil,pe=e.clearTimeout,se=Yt.floor,ge=ae.hasOwnProperty,he=ue.push,ve=ae.propertyIsEnumerable,ye=e.setTimeout,me=ue.splice,de=e.isFinite,be=e.isNaN,_e=Yt.max,we=Yt.min,je=e.parseInt,xe=Yt.random,ke={};\nke[L]=Ht,ke[T]=Ut,ke[z]=Qt,ke[q]=Xt,ke[K]=ne,ke[D]=Zt,ke[W]=te,ke[G]=ee;var Ce={};Ce[L]=Ce[z]=Ce[D]={constructor:true,toLocaleString:true,toString:true,valueOf:true},Ce[T]=Ce[G]={constructor:true,toString:true,valueOf:true},Ce[$]=Ce[q]=Ce[W]={constructor:true,toString:true},Ce[K]={constructor:true},function(){for(var n=F.length;n--;){var t,e=F[n];for(t in Ce)ge.call(Ce,t)&&!ge.call(Ce[t],e)&&(Ce[t][e]=false)}}(),X.prototype=U.prototype;var Ee=U.support={};!function(){function n(){this.x=1}var t={0:1,length:1},e=[];n.prototype={valueOf:1,y:1};\nfor(var r in new n)e.push(r);for(r in arguments);Ee.argsClass=false,Ee.argsObject=arguments.constructor==ne&&!(arguments instanceof Ht),Ee.enumErrorProps=ve.call(oe,\"message\")||ve.call(oe,\"name\"),Ee.enumPrototypes=ve.call(n,\"prototype\"),Ee.nonEnumArgs=0!=r,Ee.nonEnumShadows=!/valueOf/.test(e),Ee.ownLast=\"x\"!=e[0],Ee.spliceObjects=(ue.splice.call(t,0,1),!t[0]),Ee.unindexedChars=\"xx\"!=\"x\"[0]+ne(\"x\")[0];try{Ee.nodeClass=!(fe.call(document)==K&&!({toString:0}+\"\"))}catch(u){Ee.nodeClass=true}}(1),U.templateSettings={escape:/<%-([\\s\\S]+?)%>/g,evaluate:/<%([\\s\\S]+?)%>/g,interpolate:I,variable:\"\",imports:{_:U}};\nvar Oe=function(){function n(){}return function(t){if(bt(t)){n.prototype=t;var r=new n;n.prototype=null}return r||e.Object()}}(),Se=pt({a:\"z\",e:\"[]\",i:\"if(!(B[typeof z]))return E\",g:\"E.push(n)\"}),Ie={a:\"g,e,K\",i:\"e=e&&typeof K=='undefined'?e:d(e,K,3)\",b:\"typeof u=='number'\",g:\"if(e(t[n],n,g)===false)return E\"},Ae={a:\"z,H,l\",i:\"var a=arguments,b=0,c=typeof l=='number'?2:a.length;while(++b<c){t=a[b];if(t&&B[typeof t]){\",g:\"if(typeof E[n]=='undefined')E[n]=t[n]\",c:\"}}\"},Be={i:\"if(!B[typeof t])return E;\"+Ie.i,b:false},Ne={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"},Re=mt(Ne),Fe=te(\"(\"+Se(Re).join(\"|\")+\")\",\"g\"),Pe=te(\"[\"+Se(Ne).join(\"\")+\"]\",\"g\"),Le=pt(Ie),Te=pt(Ae,{i:Ae.i.replace(\";\",\";if(c>3&&typeof a[c-2]=='function'){var e=d(a[--c-1],a[c--],2)}else if(c>2&&typeof a[c-1]=='function'){e=a[--c]}\"),g:\"E[n]=e?e(E[n],t[n]):t[n]\"}),ze=pt(Ae),$e=pt(Ie,Be,{j:false}),qe=pt(Ie,Be);\ndt(/x/)&&(dt=function(n){return typeof n==\"function\"&&fe.call(n)==q});var De=ft(function(n,t,e){ge.call(n,e)?n[e]++:n[e]=1}),Ke=ft(function(n,t,e){(ge.call(n,e)?n[e]:n[e]=[]).push(t)}),We=ft(function(n,t,e){n[e]=t}),Ge=It,Je=8==je(j+\"08\")?je:function(n,t){return je(wt(n)?n.replace(A,\"\"):n,t||0)};return U.after=function(n,t){if(!dt(t))throw new re;return function(){return 1>--n?t.apply(this,arguments):void 0}},U.assign=Te,U.at=function(n){var t=arguments,e=-1,r=ut(t,true,false,1),t=t[2]&&t[2][t[1]]===n?1:r.length,u=Ht(t);\nfor(Ee.unindexedChars&&wt(n)&&(n=n.split(\"\"));++e<t;)u[e]=n[r[e]];return u},U.bind=Kt,U.bindAll=function(n){for(var t=1<arguments.length?ut(arguments,true,false,1):yt(n),e=-1,r=t.length;++e<r;){var u=t[e];n[u]=ct(n[u],1,null,null,n)}return n},U.bindKey=function(n,t){return 2<arguments.length?ct(t,19,s(arguments,2),null,n):ct(t,3,null,null,n)},U.chain=function(n){return n=new X(n),n.__chain__=true,n},U.compact=function(n){for(var t=-1,e=n?n.length:0,r=[];++t<e;){var u=n[t];u&&r.push(u)}return r},U.compose=function(){for(var n=arguments,t=n.length;t--;)if(!dt(n[t]))throw new re;\nreturn function(){for(var t=arguments,e=n.length;e--;)t=[n[e].apply(this,t)];return t[0]}},U.constant=function(n){return function(){return n}},U.countBy=De,U.create=function(n,t){var e=Oe(n);return t?Te(e,t):e},U.createCallback=function(n,t,e){var r=typeof n;if(null==n||\"function\"==r)return nt(n,t,e);if(\"object\"!=r)return Mt(n);var u=Se(n),o=u[0],a=n[o];return 1!=u.length||a!==a||bt(a)?function(t){for(var e=u.length,r=false;e--&&(r=ot(t[u[e]],n[u[e]],null,true)););return r}:function(n){return n=n[o],a===n&&(0!==a||1/a==1/n)\n}},U.curry=function(n,t){return t=typeof t==\"number\"?t:+t||n.length,ct(n,4,null,null,null,t)},U.debounce=Wt,U.defaults=ze,U.defer=function(n){if(!dt(n))throw new re;var t=s(arguments,1);return ye(function(){n.apply(h,t)},1)},U.delay=function(n,t){if(!dt(n))throw new re;var e=s(arguments,2);return ye(function(){n.apply(h,e)},t)},U.difference=function(n){return rt(n,ut(arguments,true,true,1))},U.filter=Ct,U.flatten=function(n,t,e,r){return typeof t!=\"boolean\"&&null!=t&&(r=e,e=typeof t!=\"function\"&&r&&r[t]===n?null:t,t=false),null!=e&&(n=It(n,e,r)),ut(n,t)\n},U.forEach=Ot,U.forEachRight=St,U.forIn=$e,U.forInRight=function(n,t,e){var r=[];$e(n,function(n,t){r.push(t,n)});var u=r.length;for(t=nt(t,e,3);u--&&false!==t(r[u--],r[u],n););return n},U.forOwn=qe,U.forOwnRight=vt,U.functions=yt,U.groupBy=Ke,U.indexBy=We,U.initial=function(n,t,e){var r=0,u=n?n.length:0;if(typeof t!=\"number\"&&null!=t){var o=u;for(t=U.createCallback(t,e,3);o--&&t(n[o],o,n);)r++}else r=null==t||e?1:t||r;return s(n,0,we(_e(0,u-r),u))},U.intersection=function(){for(var e=[],r=-1,u=arguments.length,a=i(),l=gt(),f=l===n,s=i();++r<u;){var g=arguments[r];\n(y(g)||w(g))&&(e.push(g),a.push(f&&g.length>=_&&o(r?e[r]:s)))}var f=e[0],h=-1,v=f?f.length:0,m=[];n:for(;++h<v;){var d=a[0],g=f[h];if(0>(d?t(d,g):l(s,g))){for(r=u,(d||s).push(g);--r;)if(d=a[r],0>(d?t(d,g):l(e[r],g)))continue n;m.push(g)}}for(;u--;)(d=a[u])&&p(d);return c(a),c(s),m},U.invert=mt,U.invoke=function(n,t){var e=s(arguments,2),r=-1,u=typeof t==\"function\",o=n?n.length:0,a=Ht(typeof o==\"number\"?o:0);return Ot(n,function(n){a[++r]=(u?t:n[t]).apply(n,e)}),a},U.keys=Se,U.map=It,U.mapValues=function(n,t,e){var r={};\nreturn t=U.createCallback(t,e,3),qe(n,function(n,e,u){r[e]=t(n,e,u)}),r},U.max=At,U.memoize=function(n,t){function e(){var r=e.cache,u=t?t.apply(this,arguments):b+arguments[0];return ge.call(r,u)?r[u]:r[u]=n.apply(this,arguments)}if(!dt(n))throw new re;return e.cache={},e},U.merge=function(n){var t=arguments,e=2;if(!bt(n))return n;if(\"number\"!=typeof t[2]&&(e=t.length),3<e&&\"function\"==typeof t[e-2])var r=nt(t[--e-1],t[e--],2);else 2<e&&\"function\"==typeof t[e-1]&&(r=t[--e]);for(var t=s(arguments,1,e),u=-1,o=i(),a=i();++u<e;)at(n,t[u],r,o,a);\nreturn c(o),c(a),n},U.min=function(n,t,e){var u=1/0,o=u;if(typeof t!=\"function\"&&e&&e[t]===n&&(t=null),null==t&&y(n)){e=-1;for(var a=n.length;++e<a;){var i=n[e];i<o&&(o=i)}}else t=null==t&&wt(n)?r:U.createCallback(t,e,3),Le(n,function(n,e,r){e=t(n,e,r),e<u&&(u=e,o=n)});return o},U.omit=function(n,t,e){var r={};if(typeof t!=\"function\"){var u=[];$e(n,function(n,t){u.push(t)});for(var u=rt(u,ut(arguments,true,false,1)),o=-1,a=u.length;++o<a;){var i=u[o];r[i]=n[i]}}else t=U.createCallback(t,e,3),$e(n,function(n,e,u){t(n,e,u)||(r[e]=n)\n});return r},U.once=function(n){var t,e;if(!dt(n))throw new re;return function(){return t?e:(t=true,e=n.apply(this,arguments),n=null,e)}},U.pairs=function(n){for(var t=-1,e=Se(n),r=e.length,u=Ht(r);++t<r;){var o=e[t];u[t]=[o,n[o]]}return u},U.partial=function(n){return ct(n,16,s(arguments,1))},U.partialRight=function(n){return ct(n,32,null,s(arguments,1))},U.pick=function(n,t,e){var r={};if(typeof t!=\"function\")for(var u=-1,o=ut(arguments,true,false,1),a=bt(n)?o.length:0;++u<a;){var i=o[u];i in n&&(r[i]=n[i])\n}else t=U.createCallback(t,e,3),$e(n,function(n,e,u){t(n,e,u)&&(r[e]=n)});return r},U.pluck=Ge,U.property=Mt,U.pull=function(n){for(var t=arguments,e=0,r=t.length,u=n?n.length:0;++e<r;)for(var o=-1,a=t[e];++o<u;)n[o]===a&&(me.call(n,o--,1),u--);return n},U.range=function(n,t,e){n=+n||0,e=typeof e==\"number\"?e:+e||1,null==t&&(t=n,n=0);var r=-1;t=_e(0,ce((t-n)/(e||1)));for(var u=Ht(t);++r<t;)u[r]=n,n+=e;return u},U.reject=function(n,t,e){return t=U.createCallback(t,e,3),Ct(n,function(n,e,r){return!t(n,e,r)\n})},U.remove=function(n,t,e){var r=-1,u=n?n.length:0,o=[];for(t=U.createCallback(t,e,3);++r<u;)e=n[r],t(e,r,n)&&(o.push(e),me.call(n,r--,1),u--);return o},U.rest=Tt,U.shuffle=Rt,U.sortBy=function(n,t,e){var r=-1,o=y(t),a=n?n.length:0,f=Ht(typeof a==\"number\"?a:0);for(o||(t=U.createCallback(t,e,3)),Ot(n,function(n,e,u){var a=f[++r]=l();o?a.m=It(t,function(t){return n[t]}):(a.m=i())[0]=t(n,e,u),a.n=r,a.o=n}),a=f.length,f.sort(u);a--;)n=f[a],f[a]=n.o,o||c(n.m),p(n);return f},U.tap=function(n,t){return t(n),n\n},U.throttle=function(n,t,e){var r=true,u=true;if(!dt(n))throw new re;return false===e?r=false:bt(e)&&(r=\"leading\"in e?e.leading:r,u=\"trailing\"in e?e.trailing:u),M.leading=r,M.maxWait=t,M.trailing=u,Wt(n,t,M)},U.times=function(n,t,e){n=-1<(n=+n)?n:0;var r=-1,u=Ht(n);for(t=nt(t,e,1);++r<n;)u[r]=t(r);return u},U.toArray=function(n){return n&&typeof n.length==\"number\"?Ee.unindexedChars&&wt(n)?n.split(\"\"):s(n):jt(n)},U.transform=function(n,t,e,r){var u=y(n);if(null==e)if(u)e=[];else{var o=n&&n.constructor;e=Oe(o&&o.prototype)\n}return t&&(t=U.createCallback(t,r,4),(u?Le:qe)(n,function(n,r,u){return t(e,n,r,u)})),e},U.union=function(){return lt(ut(arguments,true,true))},U.uniq=$t,U.values=jt,U.where=Ct,U.without=function(n){return rt(n,s(arguments,1))},U.wrap=function(n,t){return ct(t,16,[n])},U.xor=function(){for(var n=-1,t=arguments.length;++n<t;){var e=arguments[n];if(y(e)||w(e))var r=r?lt(rt(r,e).concat(rt(e,r))):e}return r||[]},U.zip=qt,U.zipObject=Dt,U.collect=It,U.drop=Tt,U.each=Ot,U.eachRight=St,U.extend=Te,U.methods=yt,U.object=Dt,U.select=Ct,U.tail=Tt,U.unique=$t,U.unzip=qt,Jt(U),U.clone=function(n,t,e,r){return typeof t!=\"boolean\"&&null!=t&&(r=e,e=t,t=false),Z(n,t,typeof e==\"function\"&&nt(e,r,1))\n},U.cloneDeep=function(n,t,e){return Z(n,true,typeof t==\"function\"&&nt(t,e,1))},U.contains=xt,U.escape=function(n){return null==n?\"\":ee(n).replace(Pe,st)},U.every=kt,U.find=Et,U.findIndex=function(n,t,e){var r=-1,u=n?n.length:0;for(t=U.createCallback(t,e,3);++r<u;)if(t(n[r],r,n))return r;return-1},U.findKey=function(n,t,e){var r;return t=U.createCallback(t,e,3),qe(n,function(n,e,u){return t(n,e,u)?(r=e,false):void 0}),r},U.findLast=function(n,t,e){var r;return t=U.createCallback(t,e,3),St(n,function(n,e,u){return t(n,e,u)?(r=n,false):void 0\n}),r},U.findLastIndex=function(n,t,e){var r=n?n.length:0;for(t=U.createCallback(t,e,3);r--;)if(t(n[r],r,n))return r;return-1},U.findLastKey=function(n,t,e){var r;return t=U.createCallback(t,e,3),vt(n,function(n,e,u){return t(n,e,u)?(r=e,false):void 0}),r},U.has=function(n,t){return n?ge.call(n,t):false},U.identity=Gt,U.indexOf=Lt,U.isArguments=w,U.isArray=y,U.isBoolean=function(n){return true===n||false===n||n&&typeof n==\"object\"&&fe.call(n)==T||false},U.isDate=function(n){return n&&typeof n==\"object\"&&fe.call(n)==z||false\n},U.isElement=function(n){return n&&1===n.nodeType||false},U.isEmpty=function(n){var t=true;if(!n)return t;var e=fe.call(n),r=n.length;return e==L||e==G||(Ee.argsClass?e==P:w(n))||e==K&&typeof r==\"number\"&&dt(n.splice)?!r:(qe(n,function(){return t=false}),t)},U.isEqual=function(n,t,e,r){return ot(n,t,typeof e==\"function\"&&nt(e,r,2))},U.isFinite=function(n){return de(n)&&!be(parseFloat(n))},U.isFunction=dt,U.isNaN=function(n){return _t(n)&&n!=+n},U.isNull=function(n){return null===n},U.isNumber=_t,U.isObject=bt,U.isPlainObject=v,U.isRegExp=function(n){return n&&H[typeof n]&&fe.call(n)==W||false\n},U.isString=wt,U.isUndefined=function(n){return typeof n==\"undefined\"},U.lastIndexOf=function(n,t,e){var r=n?n.length:0;for(typeof e==\"number\"&&(r=(0>e?_e(0,r+e):we(e,r-1))+1);r--;)if(n[r]===t)return r;return-1},U.mixin=Jt,U.noConflict=function(){return e._=le,this},U.noop=function(){},U.now=function(){return(new Qt).getTime()},U.parseInt=Je,U.random=function(n,t,e){var r=null==n,u=null==t;return null==e&&(typeof n==\"boolean\"&&u?(e=n,n=1):u||typeof t!=\"boolean\"||(e=t,u=true)),r&&u&&(t=1),n=+n||0,u?(t=n,n=0):t=+t||0,e||n%1||t%1?(e=xe(),we(n+e*(t-n+parseFloat(\"1e-\"+((e+\"\").length-1))),t)):it(n,t)\n},U.reduce=Bt,U.reduceRight=Nt,U.result=function(n,t){if(n){var e=n[t];return dt(e)?n[t]():e}},U.runInContext=g,U.size=function(n){var t=n?n.length:0;return typeof t==\"number\"?t:Se(n).length},U.some=Ft,U.sortedIndex=zt,U.template=function(n,t,e){var r=U.templateSettings;n=ee(n||\"\"),e=ze({},e,r);var u,o=ze({},e.imports,r.imports),r=Se(o),o=jt(o),i=0,l=e.interpolate||B,f=\"__p+='\",l=te((e.escape||B).source+\"|\"+l.source+\"|\"+(l===I?O:B).source+\"|\"+(e.evaluate||B).source+\"|$\",\"g\");n.replace(l,function(t,e,r,o,l,c){return r||(r=o),f+=n.slice(i,c).replace(N,a),e&&(f+=\"'+__e(\"+e+\")+'\"),l&&(u=true,f+=\"';\"+l+\";\\n__p+='\"),r&&(f+=\"'+((__t=(\"+r+\"))==null?'':__t)+'\"),i=c+t.length,t\n}),f+=\"';\",l=e=e.variable,l||(e=\"obj\",f=\"with(\"+e+\"){\"+f+\"}\"),f=(u?f.replace(x,\"\"):f).replace(C,\"$1\").replace(E,\"$1;\"),f=\"function(\"+e+\"){\"+(l?\"\":e+\"||(\"+e+\"={});\")+\"var __t,__p='',__e=_.escape\"+(u?\",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}\":\";\")+f+\"return __p}\";try{var c=Xt(r,\"return \"+f).apply(h,o)}catch(p){throw p.source=f,p}return t?c(t):(c.source=f,c)},U.unescape=function(n){return null==n?\"\":ee(n).replace(Fe,ht)},U.uniqueId=function(n){var t=++m;return ee(null==n?\"\":n)+t\n},U.all=kt,U.any=Ft,U.detect=Et,U.findWhere=Et,U.foldl=Bt,U.foldr=Nt,U.include=xt,U.inject=Bt,Jt(function(){var n={};return qe(U,function(t,e){U.prototype[e]||(n[e]=t)}),n}(),false),U.first=Pt,U.last=function(n,t,e){var r=0,u=n?n.length:0;if(typeof t!=\"number\"&&null!=t){var o=u;for(t=U.createCallback(t,e,3);o--&&t(n[o],o,n);)r++}else if(r=t,null==r||e)return n?n[u-1]:h;return s(n,_e(0,u-r))},U.sample=function(n,t,e){return n&&typeof n.length!=\"number\"?n=jt(n):Ee.unindexedChars&&wt(n)&&(n=n.split(\"\")),null==t||e?n?n[it(0,n.length-1)]:h:(n=Rt(n),n.length=we(_e(0,t),n.length),n)\n},U.take=Pt,U.head=Pt,qe(U,function(n,t){var e=\"sample\"!==t;U.prototype[t]||(U.prototype[t]=function(t,r){var u=this.__chain__,o=n(this.__wrapped__,t,r);return u||null!=t&&(!r||e&&typeof t==\"function\")?new X(o,u):o})}),U.VERSION=\"2.4.1\",U.prototype.chain=function(){return this.__chain__=true,this},U.prototype.toString=function(){return ee(this.__wrapped__)},U.prototype.value=Vt,U.prototype.valueOf=Vt,Le([\"join\",\"pop\",\"shift\"],function(n){var t=ue[n];U.prototype[n]=function(){var n=this.__chain__,e=t.apply(this.__wrapped__,arguments);\nreturn n?new X(e,n):e}}),Le([\"push\",\"reverse\",\"sort\",\"unshift\"],function(n){var t=ue[n];U.prototype[n]=function(){return t.apply(this.__wrapped__,arguments),this}}),Le([\"concat\",\"slice\",\"splice\"],function(n){var t=ue[n];U.prototype[n]=function(){return new X(t.apply(this.__wrapped__,arguments),this.__chain__)}}),Ee.spliceObjects||Le([\"pop\",\"shift\",\"splice\"],function(n){var t=ue[n],e=\"splice\"==n;U.prototype[n]=function(){var n=this.__chain__,r=this.__wrapped__,u=t.apply(r,arguments);return 0===r.length&&delete r[0],n||e?new X(u,n):u\n}}),U}var h,v=[],y=[],m=0,d={},b=+new Date+\"\",_=75,w=40,j=\" \\t\\x0B\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\",x=/\\b__p\\+='';/g,C=/\\b(__p\\+=)''\\+/g,E=/(__e\\(.*?\\)|\\b__t\\))\\+'';/g,O=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,S=/\\w*$/,I=/<%=([\\s\\S]+?)%>/g,A=RegExp(\"^[\"+j+\"]*0+(?=.$)\"),B=/($^)/,N=/['\\n\\r\\t\\u2028\\u2029\\\\]/g,R=\"Array Boolean Date Error Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout\".split(\" \"),F=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \"),P=\"[object Arguments]\",L=\"[object Array]\",T=\"[object Boolean]\",z=\"[object Date]\",$=\"[object Error]\",q=\"[object Function]\",D=\"[object Number]\",K=\"[object Object]\",W=\"[object RegExp]\",G=\"[object String]\",J={};\nJ[q]=false,J[P]=J[L]=J[T]=J[z]=J[D]=J[K]=J[W]=J[G]=true;var M={leading:false,maxWait:0,trailing:false},V={a:\"\",b:null,c:\"\",d:\"\",e:\"\",v:null,g:\"\",h:null,support:null,i:\"\",j:false},H={\"boolean\":false,\"function\":true,object:true,number:false,string:false,undefined:false},U={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\t\":\"t\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},Q=H[typeof window]&&window||this,X=H[typeof exports]&&exports&&!exports.nodeType&&exports,Y=H[typeof module]&&module&&!module.nodeType&&module,Z=Y&&Y.exports===X&&X,nt=H[typeof global]&&global;\n!nt||nt.global!==nt&&nt.window!==nt||(Q=nt);var tt=g();typeof define==\"function\"&&typeof define.amd==\"object\"&&define.amd?(Q._=tt, define(function(){return tt})):X&&Y?Z?(Y.exports=tt)._=tt:X._=tt:Q._=tt}).call(this);","// moment.js\n// version : 1.7.2\n// author : Tim Wood\n// license : MIT\n// momentjs.com\n\n(function (undefined) {\n\n    /************************************\n        Constants\n    ************************************/\n\n    var moment,\n        VERSION = \"1.7.2\",\n        round = Math.round, i,\n        // internal storage for language config files\n        languages = {},\n        currentLanguage = 'en',\n\n        // check for nodeJS\n        hasModule = (typeof module !== 'undefined' && module.exports),\n\n        // Parameters to check for on the lang config.  This list of properties\n        // will be inherited from English if not provided in a language\n        // definition.  monthsParse is also a lang config property, but it\n        // cannot be inherited and as such cannot be enumerated here.\n        langConfigProperties = 'months|monthsShort|weekdays|weekdaysShort|weekdaysMin|longDateFormat|calendar|relativeTime|ordinal|meridiem'.split('|'),\n\n        // ASP.NET json date format regex\n        aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i,\n\n        // format tokens\n        formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|.)/g,\n        localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LT|LL?L?L?)/g,\n\n        // parsing tokens\n        parseMultipleFormatChunker = /([0-9a-zA-Z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+)/gi,\n\n        // parsing token regexes\n        parseTokenOneOrTwoDigits = /\\d\\d?/, // 0 - 99\n        parseTokenOneToThreeDigits = /\\d{1,3}/, // 0 - 999\n        parseTokenThreeDigits = /\\d{3}/, // 000 - 999\n        parseTokenFourDigits = /\\d{1,4}/, // 0 - 9999\n        parseTokenWord = /[0-9a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+/i, // any word characters or numbers\n        parseTokenTimezone = /Z|[\\+\\-]\\d\\d:?\\d\\d/i, // +00:00 -00:00 +0000 -0000 or Z\n        parseTokenT = /T/i, // T (ISO seperator)\n\n        // preliminary iso regex\n        // 0000-00-00 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000\n        isoRegex = /^\\s*\\d{4}-\\d\\d-\\d\\d(T(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d\\d?\\d?)?)?)?)?([\\+\\-]\\d\\d:?\\d\\d)?)?/,\n        isoFormat = 'YYYY-MM-DDTHH:mm:ssZ',\n\n        // iso time formats and regexes\n        isoTimes = [\n            ['HH:mm:ss.S', /T\\d\\d:\\d\\d:\\d\\d\\.\\d{1,3}/],\n            ['HH:mm:ss', /T\\d\\d:\\d\\d:\\d\\d/],\n            ['HH:mm', /T\\d\\d:\\d\\d/],\n            ['HH', /T\\d\\d/]\n        ],\n\n        // timezone chunker \"+10:00\" > [\"10\", \"00\"] or \"-1530\" > [\"-15\", \"30\"]\n        parseTimezoneChunker = /([\\+\\-]|\\d\\d)/gi,\n\n        // getter and setter names\n        proxyGettersAndSetters = 'Month|Date|Hours|Minutes|Seconds|Milliseconds'.split('|'),\n        unitMillisecondFactors = {\n            'Milliseconds' : 1,\n            'Seconds' : 1e3,\n            'Minutes' : 6e4,\n            'Hours' : 36e5,\n            'Days' : 864e5,\n            'Months' : 2592e6,\n            'Years' : 31536e6\n        },\n\n        // format function strings\n        formatFunctions = {},\n\n        // tokens to ordinalize and pad\n        ordinalizeTokens = 'DDD w M D d'.split(' '),\n        paddedTokens = 'M D H h m s w'.split(' '),\n\n        /*\n         * moment.fn.format uses new Function() to create an inlined formatting function.\n         * Results are a 3x speed boost\n         * http://jsperf.com/momentjs-cached-format-functions\n         *\n         * These strings are appended into a function using replaceFormatTokens and makeFormatFunction\n         */\n        formatTokenFunctions = {\n            // a = placeholder\n            // b = placeholder\n            // t = the current moment being formatted\n            // v = getValueAtKey function\n            // o = language.ordinal function\n            // p = leftZeroFill function\n            // m = language.meridiem value or function\n            M    : function () {\n                return this.month() + 1;\n            },\n            MMM  : function (format) {\n                return getValueFromArray(\"monthsShort\", this.month(), this, format);\n            },\n            MMMM : function (format) {\n                return getValueFromArray(\"months\", this.month(), this, format);\n            },\n            D    : function () {\n                return this.date();\n            },\n            DDD  : function () {\n                var a = new Date(this.year(), this.month(), this.date()),\n                    b = new Date(this.year(), 0, 1);\n                return ~~(((a - b) / 864e5) + 1.5);\n            },\n            d    : function () {\n                return this.day();\n            },\n            dd   : function (format) {\n                return getValueFromArray(\"weekdaysMin\", this.day(), this, format);\n            },\n            ddd  : function (format) {\n                return getValueFromArray(\"weekdaysShort\", this.day(), this, format);\n            },\n            dddd : function (format) {\n                return getValueFromArray(\"weekdays\", this.day(), this, format);\n            },\n            w    : function () {\n                var a = new Date(this.year(), this.month(), this.date() - this.day() + 5),\n                    b = new Date(a.getFullYear(), 0, 4);\n                return ~~((a - b) / 864e5 / 7 + 1.5);\n            },\n            YY   : function () {\n                return leftZeroFill(this.year() % 100, 2);\n            },\n            YYYY : function () {\n                return leftZeroFill(this.year(), 4);\n            },\n            a    : function () {\n                return this.lang().meridiem(this.hours(), this.minutes(), true);\n            },\n            A    : function () {\n                return this.lang().meridiem(this.hours(), this.minutes(), false);\n            },\n            H    : function () {\n                return this.hours();\n            },\n            h    : function () {\n                return this.hours() % 12 || 12;\n            },\n            m    : function () {\n                return this.minutes();\n            },\n            s    : function () {\n                return this.seconds();\n            },\n            S    : function () {\n                return ~~(this.milliseconds() / 100);\n            },\n            SS   : function () {\n                return leftZeroFill(~~(this.milliseconds() / 10), 2);\n            },\n            SSS  : function () {\n                return leftZeroFill(this.milliseconds(), 3);\n            },\n            Z    : function () {\n                var a = -this.zone(),\n                    b = \"+\";\n                if (a < 0) {\n                    a = -a;\n                    b = \"-\";\n                }\n                return b + leftZeroFill(~~(a / 60), 2) + \":\" + leftZeroFill(~~a % 60, 2);\n            },\n            ZZ   : function () {\n                var a = -this.zone(),\n                    b = \"+\";\n                if (a < 0) {\n                    a = -a;\n                    b = \"-\";\n                }\n                return b + leftZeroFill(~~(10 * a / 6), 4);\n            }\n        };\n\n    function getValueFromArray(key, index, m, format) {\n        var lang = m.lang();\n        return lang[key].call ? lang[key](m, format) : lang[key][index];\n    }\n\n    function padToken(func, count) {\n        return function (a) {\n            return leftZeroFill(func.call(this, a), count);\n        };\n    }\n    function ordinalizeToken(func) {\n        return function (a) {\n            var b = func.call(this, a);\n            return b + this.lang().ordinal(b);\n        };\n    }\n\n    while (ordinalizeTokens.length) {\n        i = ordinalizeTokens.pop();\n        formatTokenFunctions[i + 'o'] = ordinalizeToken(formatTokenFunctions[i]);\n    }\n    while (paddedTokens.length) {\n        i = paddedTokens.pop();\n        formatTokenFunctions[i + i] = padToken(formatTokenFunctions[i], 2);\n    }\n    formatTokenFunctions.DDDD = padToken(formatTokenFunctions.DDD, 3);\n\n\n    /************************************\n        Constructors\n    ************************************/\n\n\n    // Moment prototype object\n    function Moment(date, isUTC, lang) {\n        this._d = date;\n        this._isUTC = !!isUTC;\n        this._a = date._a || null;\n        this._lang = lang || false;\n    }\n\n    // Duration Constructor\n    function Duration(duration) {\n        var data = this._data = {},\n            years = duration.years || duration.y || 0,\n            months = duration.months || duration.M || 0,\n            weeks = duration.weeks || duration.w || 0,\n            days = duration.days || duration.d || 0,\n            hours = duration.hours || duration.h || 0,\n            minutes = duration.minutes || duration.m || 0,\n            seconds = duration.seconds || duration.s || 0,\n            milliseconds = duration.milliseconds || duration.ms || 0;\n\n        // representation for dateAddRemove\n        this._milliseconds = milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 36e5; // 1000 * 60 * 60\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = days +\n            weeks * 7;\n        // It is impossible translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = months +\n            years * 12;\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n        seconds += absRound(milliseconds / 1000);\n\n        data.seconds = seconds % 60;\n        minutes += absRound(seconds / 60);\n\n        data.minutes = minutes % 60;\n        hours += absRound(minutes / 60);\n\n        data.hours = hours % 24;\n        days += absRound(hours / 24);\n\n        days += weeks * 7;\n        data.days = days % 30;\n\n        months += absRound(days / 30);\n\n        data.months = months % 12;\n        years += absRound(months / 12);\n\n        data.years = years;\n\n        this._lang = false;\n    }\n\n\n    /************************************\n        Helpers\n    ************************************/\n\n\n    function absRound(number) {\n        if (number < 0) {\n            return Math.ceil(number);\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    // left zero fill a number\n    // see http://jsperf.com/left-zero-filling for performance comparison\n    function leftZeroFill(number, targetLength) {\n        var output = number + '';\n        while (output.length < targetLength) {\n            output = '0' + output;\n        }\n        return output;\n    }\n\n    // helper function for _.addTime and _.subtractTime\n    function addOrSubtractDurationFromMoment(mom, duration, isAdding) {\n        var ms = duration._milliseconds,\n            d = duration._days,\n            M = duration._months,\n            currentDate;\n\n        if (ms) {\n            mom._d.setTime(+mom + ms * isAdding);\n        }\n        if (d) {\n            mom.date(mom.date() + d * isAdding);\n        }\n        if (M) {\n            currentDate = mom.date();\n            mom.date(1)\n                .month(mom.month() + M * isAdding)\n                .date(Math.min(currentDate, mom.daysInMonth()));\n        }\n    }\n\n    // check if is an array\n    function isArray(input) {\n        return Object.prototype.toString.call(input) === '[object Array]';\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if (~~array1[i] !== ~~array2[i]) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function dateFromArray(input, asUTC, hoursOffset, minutesOffset) {\n        var i, date, forValid = [];\n        for (i = 0; i < 7; i++) {\n            forValid[i] = input[i] = (input[i] == null) ? (i === 2 ? 1 : 0) : input[i];\n        }\n        // we store whether we used utc or not in the input array\n        input[7] = forValid[7] = asUTC;\n        // if the parser flagged the input as invalid, we pass the value along\n        if (input[8] != null) {\n            forValid[8] = input[8];\n        }\n        // add the offsets to the time to be parsed so that we can have a clean array\n        // for checking isValid\n        input[3] += hoursOffset || 0;\n        input[4] += minutesOffset || 0;\n        date = new Date(0);\n        if (asUTC) {\n            date.setUTCFullYear(input[0], input[1], input[2]);\n            date.setUTCHours(input[3], input[4], input[5], input[6]);\n        } else {\n            date.setFullYear(input[0], input[1], input[2]);\n            date.setHours(input[3], input[4], input[5], input[6]);\n        }\n        date._a = forValid;\n        return date;\n    }\n\n    // Loads a language definition into the `languages` cache.  The function\n    // takes a key and optionally values.  If not in the browser and no values\n    // are provided, it will load the language file module.  As a convenience,\n    // this function also returns the language values.\n    function loadLang(key, values) {\n        var i, m,\n            parse = [];\n\n        if (!values && hasModule) {\n            values = require('./lang/' + key);\n        }\n\n        for (i = 0; i < langConfigProperties.length; i++) {\n            // If a language definition does not provide a value, inherit\n            // from English\n            values[langConfigProperties[i]] = values[langConfigProperties[i]] ||\n              languages.en[langConfigProperties[i]];\n        }\n\n        for (i = 0; i < 12; i++) {\n            m = moment([2000, i]);\n            parse[i] = new RegExp('^' + (values.months[i] || values.months(m, '')) +\n                '|^' + (values.monthsShort[i] || values.monthsShort(m, '')).replace('.', ''), 'i');\n        }\n        values.monthsParse = values.monthsParse || parse;\n\n        languages[key] = values;\n\n        return values;\n    }\n\n    // Determines which language definition to use and returns it.\n    //\n    // With no parameters, it will return the global language.  If you\n    // pass in a language key, such as 'en', it will return the\n    // definition for 'en', so long as 'en' has already been loaded using\n    // moment.lang.  If you pass in a moment or duration instance, it\n    // will decide the language based on that, or default to the global\n    // language.\n    function getLangDefinition(m) {\n        var langKey = (typeof m === 'string') && m ||\n                      m && m._lang ||\n                      null;\n\n        return langKey ? (languages[langKey] || loadLang(langKey)) : moment;\n    }\n\n\n    /************************************\n        Formatting\n    ************************************/\n\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[.*\\]/)) {\n            return input.replace(/^\\[|\\]$/g, \"\");\n        }\n        return input.replace(/\\\\/g, \"\");\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens), i, length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = \"\";\n            for (i = 0; i < length; i++) {\n                output += typeof array[i].call === 'function' ? array[i].call(mom, format) : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return m.lang().longDateFormat[input] || input;\n        }\n\n        while (i-- && localFormattingTokens.test(format)) {\n            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n        }\n\n        if (!formatFunctions[format]) {\n            formatFunctions[format] = makeFormatFunction(format);\n        }\n\n        return formatFunctions[format](m);\n    }\n\n\n    /************************************\n        Parsing\n    ************************************/\n\n\n    // get the regex to find the next token\n    function getParseRegexForToken(token) {\n        switch (token) {\n        case 'DDDD':\n            return parseTokenThreeDigits;\n        case 'YYYY':\n            return parseTokenFourDigits;\n        case 'S':\n        case 'SS':\n        case 'SSS':\n        case 'DDD':\n            return parseTokenOneToThreeDigits;\n        case 'MMM':\n        case 'MMMM':\n        case 'dd':\n        case 'ddd':\n        case 'dddd':\n        case 'a':\n        case 'A':\n            return parseTokenWord;\n        case 'Z':\n        case 'ZZ':\n            return parseTokenTimezone;\n        case 'T':\n            return parseTokenT;\n        case 'MM':\n        case 'DD':\n        case 'YY':\n        case 'HH':\n        case 'hh':\n        case 'mm':\n        case 'ss':\n        case 'M':\n        case 'D':\n        case 'd':\n        case 'H':\n        case 'h':\n        case 'm':\n        case 's':\n            return parseTokenOneOrTwoDigits;\n        default :\n            return new RegExp(token.replace('\\\\', ''));\n        }\n    }\n\n    // function to convert string input to date\n    function addTimeToArrayFromToken(token, input, datePartArray, config) {\n        var a, b;\n\n        switch (token) {\n        // MONTH\n        case 'M' : // fall through to MM\n        case 'MM' :\n            datePartArray[1] = (input == null) ? 0 : ~~input - 1;\n            break;\n        case 'MMM' : // fall through to MMMM\n        case 'MMMM' :\n            for (a = 0; a < 12; a++) {\n                if (getLangDefinition().monthsParse[a].test(input)) {\n                    datePartArray[1] = a;\n                    b = true;\n                    break;\n                }\n            }\n            // if we didn't find a month name, mark the date as invalid.\n            if (!b) {\n                datePartArray[8] = false;\n            }\n            break;\n        // DAY OF MONTH\n        case 'D' : // fall through to DDDD\n        case 'DD' : // fall through to DDDD\n        case 'DDD' : // fall through to DDDD\n        case 'DDDD' :\n            if (input != null) {\n                datePartArray[2] = ~~input;\n            }\n            break;\n        // YEAR\n        case 'YY' :\n            datePartArray[0] = ~~input + (~~input > 70 ? 1900 : 2000);\n            break;\n        case 'YYYY' :\n            datePartArray[0] = ~~Math.abs(input);\n            break;\n        // AM / PM\n        case 'a' : // fall through to A\n        case 'A' :\n            config.isPm = ((input + '').toLowerCase() === 'pm');\n            break;\n        // 24 HOUR\n        case 'H' : // fall through to hh\n        case 'HH' : // fall through to hh\n        case 'h' : // fall through to hh\n        case 'hh' :\n            datePartArray[3] = ~~input;\n            break;\n        // MINUTE\n        case 'm' : // fall through to mm\n        case 'mm' :\n            datePartArray[4] = ~~input;\n            break;\n        // SECOND\n        case 's' : // fall through to ss\n        case 'ss' :\n            datePartArray[5] = ~~input;\n            break;\n        // MILLISECOND\n        case 'S' :\n        case 'SS' :\n        case 'SSS' :\n            datePartArray[6] = ~~ (('0.' + input) * 1000);\n            break;\n        // TIMEZONE\n        case 'Z' : // fall through to ZZ\n        case 'ZZ' :\n            config.isUTC = true;\n            a = (input + '').match(parseTimezoneChunker);\n            if (a && a[1]) {\n                config.tzh = ~~a[1];\n            }\n            if (a && a[2]) {\n                config.tzm = ~~a[2];\n            }\n            // reverse offsets\n            if (a && a[0] === '+') {\n                config.tzh = -config.tzh;\n                config.tzm = -config.tzm;\n            }\n            break;\n        }\n\n        // if the input is null, the date is not valid\n        if (input == null) {\n            datePartArray[8] = false;\n        }\n    }\n\n    // date from string and format string\n    function makeDateFromStringAndFormat(string, format) {\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        // We store some additional data on the array for validation\n        // datePartArray[7] is true if the Date was created with `Date.UTC` and false if created with `new Date`\n        // datePartArray[8] is false if the Date is invalid, and undefined if the validity is unknown.\n        var datePartArray = [0, 0, 1, 0, 0, 0, 0],\n            config = {\n                tzh : 0, // timezone hour offset\n                tzm : 0  // timezone minute offset\n            },\n            tokens = format.match(formattingTokens),\n            i, parsedInput;\n\n        for (i = 0; i < tokens.length; i++) {\n            parsedInput = (getParseRegexForToken(tokens[i]).exec(string) || [])[0];\n            if (parsedInput) {\n                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n            }\n            // don't parse if its not a known token\n            if (formatTokenFunctions[tokens[i]]) {\n                addTimeToArrayFromToken(tokens[i], parsedInput, datePartArray, config);\n            }\n        }\n        // handle am pm\n        if (config.isPm && datePartArray[3] < 12) {\n            datePartArray[3] += 12;\n        }\n        // if is 12 am, change hours to 0\n        if (config.isPm === false && datePartArray[3] === 12) {\n            datePartArray[3] = 0;\n        }\n        // return\n        return dateFromArray(datePartArray, config.isUTC, config.tzh, config.tzm);\n    }\n\n    // date from string and array of format strings\n    function makeDateFromStringAndArray(string, formats) {\n        var output,\n            inputParts = string.match(parseMultipleFormatChunker) || [],\n            formattedInputParts,\n            scoreToBeat = 99,\n            i,\n            currentDate,\n            currentScore;\n        for (i = 0; i < formats.length; i++) {\n            currentDate = makeDateFromStringAndFormat(string, formats[i]);\n            formattedInputParts = formatMoment(new Moment(currentDate), formats[i]).match(parseMultipleFormatChunker) || [];\n            currentScore = compareArrays(inputParts, formattedInputParts);\n            if (currentScore < scoreToBeat) {\n                scoreToBeat = currentScore;\n                output = currentDate;\n            }\n        }\n        return output;\n    }\n\n    // date from iso format\n    function makeDateFromString(string) {\n        var format = 'YYYY-MM-DDT',\n            i;\n        if (isoRegex.exec(string)) {\n            for (i = 0; i < 4; i++) {\n                if (isoTimes[i][1].exec(string)) {\n                    format += isoTimes[i][0];\n                    break;\n                }\n            }\n            return parseTokenTimezone.exec(string) ?\n                makeDateFromStringAndFormat(string, format + ' Z') :\n                makeDateFromStringAndFormat(string, format);\n        }\n        return new Date(string);\n    }\n\n\n    /************************************\n        Relative Time\n    ************************************/\n\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, lang) {\n        var rt = lang.relativeTime[string];\n        return (typeof rt === 'function') ?\n            rt(number || 1, !!withoutSuffix, string, isFuture) :\n            rt.replace(/%d/i, number || 1);\n    }\n\n    function relativeTime(milliseconds, withoutSuffix, lang) {\n        var seconds = round(Math.abs(milliseconds) / 1000),\n            minutes = round(seconds / 60),\n            hours = round(minutes / 60),\n            days = round(hours / 24),\n            years = round(days / 365),\n            args = seconds < 45 && ['s', seconds] ||\n                minutes === 1 && ['m'] ||\n                minutes < 45 && ['mm', minutes] ||\n                hours === 1 && ['h'] ||\n                hours < 22 && ['hh', hours] ||\n                days === 1 && ['d'] ||\n                days <= 25 && ['dd', days] ||\n                days <= 45 && ['M'] ||\n                days < 345 && ['MM', round(days / 30)] ||\n                years === 1 && ['y'] || ['yy', years];\n        args[2] = withoutSuffix;\n        args[3] = milliseconds > 0;\n        args[4] = lang;\n        return substituteTimeAgo.apply({}, args);\n    }\n\n\n    /************************************\n        Top Level Functions\n    ************************************/\n\n\n    moment = function (input, format) {\n        if (input === null || input === '') {\n            return null;\n        }\n        var date,\n            matched;\n        // parse Moment object\n        if (moment.isMoment(input)) {\n            return new Moment(new Date(+input._d), input._isUTC, input._lang);\n        // parse string and format\n        } else if (format) {\n            if (isArray(format)) {\n                date = makeDateFromStringAndArray(input, format);\n            } else {\n                date = makeDateFromStringAndFormat(input, format);\n            }\n        // evaluate it as a JSON-encoded date\n        } else {\n            matched = aspNetJsonRegex.exec(input);\n            date = input === undefined ? new Date() :\n                matched ? new Date(+matched[1]) :\n                input instanceof Date ? input :\n                isArray(input) ? dateFromArray(input) :\n                typeof input === 'string' ? makeDateFromString(input) :\n                new Date(input);\n        }\n\n        return new Moment(date);\n    };\n\n    // creating with utc\n    moment.utc = function (input, format) {\n        if (isArray(input)) {\n            return new Moment(dateFromArray(input, true), true);\n        }\n        // if we don't have a timezone, we need to add one to trigger parsing into utc\n        if (typeof input === 'string' && !parseTokenTimezone.exec(input)) {\n            input += ' +0000';\n            if (format) {\n                format += ' Z';\n            }\n        }\n        return moment(input, format).utc();\n    };\n\n    // creating with unix timestamp (in seconds)\n    moment.unix = function (input) {\n        return moment(input * 1000);\n    };\n\n    // duration\n    moment.duration = function (input, key) {\n        var isDuration = moment.isDuration(input),\n            isNumber = (typeof input === 'number'),\n            duration = (isDuration ? input._data : (isNumber ? {} : input)),\n            ret;\n\n        if (isNumber) {\n            if (key) {\n                duration[key] = input;\n            } else {\n                duration.milliseconds = input;\n            }\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration) {\n            ret._lang = input._lang;\n        }\n\n        return ret;\n    };\n\n    // humanizeDuration\n    // This method is deprecated in favor of the new Duration object.  Please\n    // see the moment.duration method.\n    moment.humanizeDuration = function (num, type, withSuffix) {\n        return moment.duration(num, type === true ? null : type).humanize(type === true ? true : withSuffix);\n    };\n\n    // version number\n    moment.version = VERSION;\n\n    // default format\n    moment.defaultFormat = isoFormat;\n\n    // This function will load languages and then set the global language.  If\n    // no arguments are passed in, it will simply return the current global\n    // language key.\n    moment.lang = function (key, values) {\n        var i;\n\n        if (!key) {\n            return currentLanguage;\n        }\n        if (values || !languages[key]) {\n            loadLang(key, values);\n        }\n        if (languages[key]) {\n            // deprecated, to get the language definition variables, use the\n            // moment.fn.lang method or the getLangDefinition function.\n            for (i = 0; i < langConfigProperties.length; i++) {\n                moment[langConfigProperties[i]] = languages[key][langConfigProperties[i]];\n            }\n            moment.monthsParse = languages[key].monthsParse;\n            currentLanguage = key;\n        }\n    };\n\n    // returns language data\n    moment.langData = getLangDefinition;\n\n    // compare moment object\n    moment.isMoment = function (obj) {\n        return obj instanceof Moment;\n    };\n\n    // for typechecking Duration objects\n    moment.isDuration = function (obj) {\n        return obj instanceof Duration;\n    };\n\n    // Set default language, other languages will inherit from English.\n    moment.lang('en', {\n        months : \"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),\n        monthsShort : \"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\"),\n        weekdays : \"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),\n        weekdaysShort : \"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\"),\n        weekdaysMin : \"Su_Mo_Tu_We_Th_Fr_Sa\".split(\"_\"),\n        longDateFormat : {\n            LT : \"h:mm A\",\n            L : \"MM/DD/YYYY\",\n            LL : \"MMMM D YYYY\",\n            LLL : \"MMMM D YYYY LT\",\n            LLLL : \"dddd, MMMM D YYYY LT\"\n        },\n        meridiem : function (hours, minutes, isLower) {\n            if (hours > 11) {\n                return isLower ? 'pm' : 'PM';\n            } else {\n                return isLower ? 'am' : 'AM';\n            }\n        },\n        calendar : {\n            sameDay : '[Today at] LT',\n            nextDay : '[Tomorrow at] LT',\n            nextWeek : 'dddd [at] LT',\n            lastDay : '[Yesterday at] LT',\n            lastWeek : '[last] dddd [at] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : \"in %s\",\n            past : \"%s ago\",\n            s : \"a few seconds\",\n            m : \"a minute\",\n            mm : \"%d minutes\",\n            h : \"an hour\",\n            hh : \"%d hours\",\n            d : \"a day\",\n            dd : \"%d days\",\n            M : \"a month\",\n            MM : \"%d months\",\n            y : \"a year\",\n            yy : \"%d years\"\n        },\n        ordinal : function (number) {\n            var b = number % 10;\n            return (~~ (number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n        }\n    });\n\n\n    /************************************\n        Moment Prototype\n    ************************************/\n\n\n    moment.fn = Moment.prototype = {\n\n        clone : function () {\n            return moment(this);\n        },\n\n        valueOf : function () {\n            return +this._d;\n        },\n\n        unix : function () {\n            return Math.floor(+this._d / 1000);\n        },\n\n        toString : function () {\n            return this._d.toString();\n        },\n\n        toDate : function () {\n            return this._d;\n        },\n\n        toArray : function () {\n            var m = this;\n            return [\n                m.year(),\n                m.month(),\n                m.date(),\n                m.hours(),\n                m.minutes(),\n                m.seconds(),\n                m.milliseconds(),\n                !!this._isUTC\n            ];\n        },\n\n        isValid : function () {\n            if (this._a) {\n                // if the parser finds that the input is invalid, it sets\n                // the eighth item in the input array to false.\n                if (this._a[8] != null) {\n                    return !!this._a[8];\n                }\n                return !compareArrays(this._a, (this._a[7] ? moment.utc(this._a) : moment(this._a)).toArray());\n            }\n            return !isNaN(this._d.getTime());\n        },\n\n        utc : function () {\n            this._isUTC = true;\n            return this;\n        },\n\n        local : function () {\n            this._isUTC = false;\n            return this;\n        },\n\n        format : function (inputString) {\n            return formatMoment(this, inputString ? inputString : moment.defaultFormat);\n        },\n\n        add : function (input, val) {\n            var dur = val ? moment.duration(+val, input) : moment.duration(input);\n            addOrSubtractDurationFromMoment(this, dur, 1);\n            return this;\n        },\n\n        subtract : function (input, val) {\n            var dur = val ? moment.duration(+val, input) : moment.duration(input);\n            addOrSubtractDurationFromMoment(this, dur, -1);\n            return this;\n        },\n\n        diff : function (input, val, asFloat) {\n            var inputMoment = this._isUTC ? moment(input).utc() : moment(input).local(),\n                zoneDiff = (this.zone() - inputMoment.zone()) * 6e4,\n                diff = this._d - inputMoment._d - zoneDiff,\n                year = this.year() - inputMoment.year(),\n                month = this.month() - inputMoment.month(),\n                date = this.date() - inputMoment.date(),\n                output;\n            if (val === 'months') {\n                output = year * 12 + month + date / 30;\n            } else if (val === 'years') {\n                output = year + (month + date / 30) / 12;\n            } else {\n                output = val === 'seconds' ? diff / 1e3 : // 1000\n                    val === 'minutes' ? diff / 6e4 : // 1000 * 60\n                    val === 'hours' ? diff / 36e5 : // 1000 * 60 * 60\n                    val === 'days' ? diff / 864e5 : // 1000 * 60 * 60 * 24\n                    val === 'weeks' ? diff / 6048e5 : // 1000 * 60 * 60 * 24 * 7\n                    diff;\n            }\n            return asFloat ? output : round(output);\n        },\n\n        from : function (time, withoutSuffix) {\n            return moment.duration(this.diff(time)).lang(this._lang).humanize(!withoutSuffix);\n        },\n\n        fromNow : function (withoutSuffix) {\n            return this.from(moment(), withoutSuffix);\n        },\n\n        calendar : function () {\n            var diff = this.diff(moment().sod(), 'days', true),\n                calendar = this.lang().calendar,\n                allElse = calendar.sameElse,\n                format = diff < -6 ? allElse :\n                diff < -1 ? calendar.lastWeek :\n                diff < 0 ? calendar.lastDay :\n                diff < 1 ? calendar.sameDay :\n                diff < 2 ? calendar.nextDay :\n                diff < 7 ? calendar.nextWeek : allElse;\n            return this.format(typeof format === 'function' ? format.apply(this) : format);\n        },\n\n        isLeapYear : function () {\n            var year = this.year();\n            return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n        },\n\n        isDST : function () {\n            return (this.zone() < moment([this.year()]).zone() ||\n                this.zone() < moment([this.year(), 5]).zone());\n        },\n\n        day : function (input) {\n            var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n            return input == null ? day :\n                this.add({ d : input - day });\n        },\n\n        startOf: function (val) {\n            // the following switch intentionally omits break keywords\n            // to utilize falling through the cases.\n            switch (val.replace(/s$/, '')) {\n            case 'year':\n                this.month(0);\n                /* falls through */\n            case 'month':\n                this.date(1);\n                /* falls through */\n            case 'day':\n                this.hours(0);\n                /* falls through */\n            case 'hour':\n                this.minutes(0);\n                /* falls through */\n            case 'minute':\n                this.seconds(0);\n                /* falls through */\n            case 'second':\n                this.milliseconds(0);\n                /* falls through */\n            }\n            return this;\n        },\n\n        endOf: function (val) {\n            return this.startOf(val).add(val.replace(/s?$/, 's'), 1).subtract('ms', 1);\n        },\n\n        sod: function () {\n            return this.clone().startOf('day');\n        },\n\n        eod: function () {\n            // end of day = start of day plus 1 day, minus 1 millisecond\n            return this.clone().endOf('day');\n        },\n\n        zone : function () {\n            return this._isUTC ? 0 : this._d.getTimezoneOffset();\n        },\n\n        daysInMonth : function () {\n            return moment.utc([this.year(), this.month() + 1, 0]).date();\n        },\n\n        // If passed a language key, it will set the language for this\n        // instance.  Otherwise, it will return the language configuration\n        // variables for this instance.\n        lang : function (lang) {\n            if (lang === undefined) {\n                return getLangDefinition(this);\n            } else {\n                this._lang = lang;\n                return this;\n            }\n        }\n    };\n\n    // helper for adding shortcuts\n    function makeGetterAndSetter(name, key) {\n        moment.fn[name] = function (input) {\n            var utc = this._isUTC ? 'UTC' : '';\n            if (input != null) {\n                this._d['set' + utc + key](input);\n                return this;\n            } else {\n                return this._d['get' + utc + key]();\n            }\n        };\n    }\n\n    // loop through and add shortcuts (Month, Date, Hours, Minutes, Seconds, Milliseconds)\n    for (i = 0; i < proxyGettersAndSetters.length; i ++) {\n        makeGetterAndSetter(proxyGettersAndSetters[i].toLowerCase(), proxyGettersAndSetters[i]);\n    }\n\n    // add shortcut for year (uses different syntax than the getter/setter 'year' == 'FullYear')\n    makeGetterAndSetter('year', 'FullYear');\n\n\n    /************************************\n        Duration Prototype\n    ************************************/\n\n\n    moment.duration.fn = Duration.prototype = {\n        weeks : function () {\n            return absRound(this.days() / 7);\n        },\n\n        valueOf : function () {\n            return this._milliseconds +\n              this._days * 864e5 +\n              this._months * 2592e6;\n        },\n\n        humanize : function (withSuffix) {\n            var difference = +this,\n                rel = this.lang().relativeTime,\n                output = relativeTime(difference, !withSuffix, this.lang()),\n                fromNow = difference <= 0 ? rel.past : rel.future;\n\n            if (withSuffix) {\n                if (typeof fromNow === 'function') {\n                    output = fromNow(output);\n                } else {\n                    output = fromNow.replace(/%s/i, output);\n                }\n            }\n\n            return output;\n        },\n\n        lang : moment.fn.lang\n    };\n\n    function makeDurationGetter(name) {\n        moment.duration.fn[name] = function () {\n            return this._data[name];\n        };\n    }\n\n    function makeDurationAsGetter(name, factor) {\n        moment.duration.fn['as' + name] = function () {\n            return +this / factor;\n        };\n    }\n\n    for (i in unitMillisecondFactors) {\n        if (unitMillisecondFactors.hasOwnProperty(i)) {\n            makeDurationAsGetter(i, unitMillisecondFactors[i]);\n            makeDurationGetter(i.toLowerCase());\n        }\n    }\n\n    makeDurationAsGetter('Weeks', 6048e5);\n\n\n    /************************************\n        Exposing Moment\n    ************************************/\n\n\n    // CommonJS module is defined\n    if (hasModule) {\n        module.exports = moment;\n    }\n    /*global ender:false */\n    if (typeof ender === 'undefined') {\n        // here, `this` means `window` in the browser, or `global` on the server\n        // add `moment` as a global object via a string identifier,\n        // for Closure Compiler \"advanced\" mode\n        this['moment'] = moment;\n    }\n    /*global define:false */\n    if (typeof define === \"function\" && define.amd) {\n        define(\"moment\", [], function () {\n            return moment;\n        });\n    }\n}).call(this);","/*\n    json2.js\n    2013-05-26\n\n    Public Domain.\n\n    NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\n\n    See http://www.JSON.org/js.html\n\n\n    This code should be minified before deployment.\n    See http://javascript.crockford.com/jsmin.html\n\n    USE YOUR OWN COPY. IT IS EXTREMELY UNWISE TO LOAD CODE FROM SERVERS YOU DO\n    NOT CONTROL.\n\n\n    This file creates a global JSON object containing two methods: stringify\n    and parse.\n\n        JSON.stringify(value, replacer, space)\n            value       any JavaScript value, usually an object or array.\n\n            replacer    an optional parameter that determines how object\n                        values are stringified for objects. It can be a\n                        function or an array of strings.\n\n            space       an optional parameter that specifies the indentation\n                        of nested structures. If it is omitted, the text will\n                        be packed without extra whitespace. If it is a number,\n                        it will specify the number of spaces to indent at each\n                        level. If it is a string (such as '\\t' or '&nbsp;'),\n                        it contains the characters used to indent at each level.\n\n            This method produces a JSON text from a JavaScript value.\n\n            When an object value is found, if the object contains a toJSON\n            method, its toJSON method will be called and the result will be\n            stringified. A toJSON method does not serialize: it returns the\n            value represented by the name/value pair that should be serialized,\n            or undefined if nothing should be serialized. The toJSON method\n            will be passed the key associated with the value, and this will be\n            bound to the value\n\n            For example, this would serialize Dates as ISO strings.\n\n                Date.prototype.toJSON = function (key) {\n                    function f(n) {\n                        // Format integers to have at least two digits.\n                        return n < 10 ? '0' + n : n;\n                    }\n\n                    return this.getUTCFullYear()   + '-' +\n                         f(this.getUTCMonth() + 1) + '-' +\n                         f(this.getUTCDate())      + 'T' +\n                         f(this.getUTCHours())     + ':' +\n                         f(this.getUTCMinutes())   + ':' +\n                         f(this.getUTCSeconds())   + 'Z';\n                };\n\n            You can provide an optional replacer method. It will be passed the\n            key and value of each member, with this bound to the containing\n            object. The value that is returned from your method will be\n            serialized. If your method returns undefined, then the member will\n            be excluded from the serialization.\n\n            If the replacer parameter is an array of strings, then it will be\n            used to select the members to be serialized. It filters the results\n            such that only members with keys listed in the replacer array are\n            stringified.\n\n            Values that do not have JSON representations, such as undefined or\n            functions, will not be serialized. Such values in objects will be\n            dropped; in arrays they will be replaced with null. You can use\n            a replacer function to replace those with JSON values.\n            JSON.stringify(undefined) returns undefined.\n\n            The optional space parameter produces a stringification of the\n            value that is filled with line breaks and indentation to make it\n            easier to read.\n\n            If the space parameter is a non-empty string, then that string will\n            be used for indentation. If the space parameter is a number, then\n            the indentation will be that many spaces.\n\n            Example:\n\n            text = JSON.stringify(['e', {pluribus: 'unum'}]);\n            // text is '[\"e\",{\"pluribus\":\"unum\"}]'\n\n\n            text = JSON.stringify(['e', {pluribus: 'unum'}], null, '\\t');\n            // text is '[\\n\\t\"e\",\\n\\t{\\n\\t\\t\"pluribus\": \"unum\"\\n\\t}\\n]'\n\n            text = JSON.stringify([new Date()], function (key, value) {\n                return this[key] instanceof Date ?\n                    'Date(' + this[key] + ')' : value;\n            });\n            // text is '[\"Date(---current time---)\"]'\n\n\n        JSON.parse(text, reviver)\n            This method parses a JSON text to produce an object or array.\n            It can throw a SyntaxError exception.\n\n            The optional reviver parameter is a function that can filter and\n            transform the results. It receives each of the keys and values,\n            and its return value is used instead of the original value.\n            If it returns what it received, then the structure is not modified.\n            If it returns undefined then the member is deleted.\n\n            Example:\n\n            // Parse the text. Values that look like ISO date strings will\n            // be converted to Date objects.\n\n            myData = JSON.parse(text, function (key, value) {\n                var a;\n                if (typeof value === 'string') {\n                    a =\n/^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/.exec(value);\n                    if (a) {\n                        return new Date(Date.UTC(+a[1], +a[2] - 1, +a[3], +a[4],\n                            +a[5], +a[6]));\n                    }\n                }\n                return value;\n            });\n\n            myData = JSON.parse('[\"Date(09/09/2001)\"]', function (key, value) {\n                var d;\n                if (typeof value === 'string' &&\n                        value.slice(0, 5) === 'Date(' &&\n                        value.slice(-1) === ')') {\n                    d = new Date(value.slice(5, -1));\n                    if (d) {\n                        return d;\n                    }\n                }\n                return value;\n            });\n\n\n    This is a reference implementation. You are free to copy, modify, or\n    redistribute.\n*/\n\n/*jslint evil: true, regexp: true */\n\n/*members \"\", \"\\b\", \"\\t\", \"\\n\", \"\\f\", \"\\r\", \"\\\"\", JSON, \"\\\\\", apply,\n    call, charCodeAt, getUTCDate, getUTCFullYear, getUTCHours,\n    getUTCMinutes, getUTCMonth, getUTCSeconds, hasOwnProperty, join,\n    lastIndex, length, parse, prototype, push, replace, slice, stringify,\n    test, toJSON, toString, valueOf\n*/\n\n\n// Create a JSON object only if one does not already exist. We create the\n// methods in a closure to avoid creating global variables.\n\nif (typeof JSON !== 'object') {\n    JSON = {};\n}\n\n(function () {\n    'use strict';\n\n    function f(n) {\n        // Format integers to have at least two digits.\n        return n < 10 ? '0' + n : n;\n    }\n\n    if (typeof Date.prototype.toJSON !== 'function') {\n\n        Date.prototype.toJSON = function () {\n\n            return isFinite(this.valueOf())\n                ? this.getUTCFullYear()     + '-' +\n                    f(this.getUTCMonth() + 1) + '-' +\n                    f(this.getUTCDate())      + 'T' +\n                    f(this.getUTCHours())     + ':' +\n                    f(this.getUTCMinutes())   + ':' +\n                    f(this.getUTCSeconds())   + 'Z'\n                : null;\n        };\n\n        String.prototype.toJSON      =\n            Number.prototype.toJSON  =\n            Boolean.prototype.toJSON = function () {\n                return this.valueOf();\n            };\n    }\n\n    var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        escapable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n        gap,\n        indent,\n        meta = {    // table of character substitutions\n            '\\b': '\\\\b',\n            '\\t': '\\\\t',\n            '\\n': '\\\\n',\n            '\\f': '\\\\f',\n            '\\r': '\\\\r',\n            '\"' : '\\\\\"',\n            '\\\\': '\\\\\\\\'\n        },\n        rep;\n\n\n    function quote(string) {\n\n// If the string contains no control characters, no quote characters, and no\n// backslash characters, then we can safely slap some quotes around it.\n// Otherwise we must also replace the offending characters with safe escape\n// sequences.\n\n        escapable.lastIndex = 0;\n        return escapable.test(string) ? '\"' + string.replace(escapable, function (a) {\n            var c = meta[a];\n            return typeof c === 'string'\n                ? c\n                : '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n        }) + '\"' : '\"' + string + '\"';\n    }\n\n\n    function str(key, holder) {\n\n// Produce a string from holder[key].\n\n        var i,          // The loop counter.\n            k,          // The member key.\n            v,          // The member value.\n            length,\n            mind = gap,\n            partial,\n            value = holder[key];\n\n// If the value has a toJSON method, call it to obtain a replacement value.\n\n        if (value && typeof value === 'object' &&\n                typeof value.toJSON === 'function') {\n            value = value.toJSON(key);\n        }\n\n// If we were called with a replacer function, then call the replacer to\n// obtain a replacement value.\n\n        if (typeof rep === 'function') {\n            value = rep.call(holder, key, value);\n        }\n\n// What happens next depends on the value's type.\n\n        switch (typeof value) {\n        case 'string':\n            return quote(value);\n\n        case 'number':\n\n// JSON numbers must be finite. Encode non-finite numbers as null.\n\n            return isFinite(value) ? String(value) : 'null';\n\n        case 'boolean':\n        case 'null':\n\n// If the value is a boolean or null, convert it to a string. Note:\n// typeof null does not produce 'null'. The case is included here in\n// the remote chance that this gets fixed someday.\n\n            return String(value);\n\n// If the type is 'object', we might be dealing with an object or an array or\n// null.\n\n        case 'object':\n\n// Due to a specification blunder in ECMAScript, typeof null is 'object',\n// so watch out for that case.\n\n            if (!value) {\n                return 'null';\n            }\n\n// Make an array to hold the partial results of stringifying this object value.\n\n            gap += indent;\n            partial = [];\n\n// Is the value an array?\n\n            if (Object.prototype.toString.apply(value) === '[object Array]') {\n\n// The value is an array. Stringify every element. Use null as a placeholder\n// for non-JSON values.\n\n                length = value.length;\n                for (i = 0; i < length; i += 1) {\n                    partial[i] = str(i, value) || 'null';\n                }\n\n// Join all of the elements together, separated with commas, and wrap them in\n// brackets.\n\n                v = partial.length === 0\n                    ? '[]'\n                    : gap\n                    ? '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']'\n                    : '[' + partial.join(',') + ']';\n                gap = mind;\n                return v;\n            }\n\n// If the replacer is an array, use it to select the members to be stringified.\n\n            if (rep && typeof rep === 'object') {\n                length = rep.length;\n                for (i = 0; i < length; i += 1) {\n                    if (typeof rep[i] === 'string') {\n                        k = rep[i];\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            } else {\n\n// Otherwise, iterate through all of the keys in the object.\n\n                for (k in value) {\n                    if (Object.prototype.hasOwnProperty.call(value, k)) {\n                        v = str(k, value);\n                        if (v) {\n                            partial.push(quote(k) + (gap ? ': ' : ':') + v);\n                        }\n                    }\n                }\n            }\n\n// Join all of the member texts together, separated with commas,\n// and wrap them in braces.\n\n            v = partial.length === 0\n                ? '{}'\n                : gap\n                ? '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}'\n                : '{' + partial.join(',') + '}';\n            gap = mind;\n            return v;\n        }\n    }\n\n// If the JSON object does not yet have a stringify method, give it one.\n\n    if (typeof JSON.stringify !== 'function') {\n        JSON.stringify = function (value, replacer, space) {\n\n// The stringify method takes a value and an optional replacer, and an optional\n// space parameter, and returns a JSON text. The replacer can be a function\n// that can replace values, or an array of strings that will select the keys.\n// A default replacer method can be provided. Use of the space parameter can\n// produce text that is more easily readable.\n\n            var i;\n            gap = '';\n            indent = '';\n\n// If the space parameter is a number, make an indent string containing that\n// many spaces.\n\n            if (typeof space === 'number') {\n                for (i = 0; i < space; i += 1) {\n                    indent += ' ';\n                }\n\n// If the space parameter is a string, it will be used as the indent string.\n\n            } else if (typeof space === 'string') {\n                indent = space;\n            }\n\n// If there is a replacer, it must be a function or an array.\n// Otherwise, throw an error.\n\n            rep = replacer;\n            if (replacer && typeof replacer !== 'function' &&\n                    (typeof replacer !== 'object' ||\n                    typeof replacer.length !== 'number')) {\n                throw new Error('JSON.stringify');\n            }\n\n// Make a fake root object containing our value under the key of ''.\n// Return the result of stringifying the value.\n\n            return str('', {'': value});\n        };\n    }\n\n\n// If the JSON object does not yet have a parse method, give it one.\n\n    if (typeof JSON.parse !== 'function') {\n        JSON.parse = function (text, reviver) {\n\n// The parse method takes a text and an optional reviver function, and returns\n// a JavaScript value if the text is a valid JSON text.\n\n            var j;\n\n            function walk(holder, key) {\n\n// The walk method is used to recursively walk the resulting structure so\n// that modifications can be made.\n\n                var k, v, value = holder[key];\n                if (value && typeof value === 'object') {\n                    for (k in value) {\n                        if (Object.prototype.hasOwnProperty.call(value, k)) {\n                            v = walk(value, k);\n                            if (v !== undefined) {\n                                value[k] = v;\n                            } else {\n                                delete value[k];\n                            }\n                        }\n                    }\n                }\n                return reviver.call(holder, key, value);\n            }\n\n\n// Parsing happens in four stages. In the first stage, we replace certain\n// Unicode characters with escape sequences. JavaScript handles many characters\n// incorrectly, either silently deleting them, or treating them as line endings.\n\n            text = String(text);\n            cx.lastIndex = 0;\n            if (cx.test(text)) {\n                text = text.replace(cx, function (a) {\n                    return '\\\\u' +\n                        ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n                });\n            }\n\n// In the second stage, we run the text against regular expressions that look\n// for non-JSON patterns. We are especially concerned with '()' and 'new'\n// because they can cause invocation, and '=' because it can cause mutation.\n// But just to be safe, we want to reject all unexpected forms.\n\n// We split the second stage into 4 regexp operations in order to work around\n// crippling inefficiencies in IE's and Safari's regexp engines. First we\n// replace the JSON backslash pairs with '@' (a non-JSON character). Second, we\n// replace all simple value tokens with ']' characters. Third, we delete all\n// open brackets that follow a colon or comma or that begin the text. Finally,\n// we look to see that the remaining characters are only whitespace or ']' or\n// ',' or ':' or '{' or '}'. If that is so, then the text is safe for eval.\n\n            if (/^[\\],:{}\\s]*$/\n                    .test(text.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@')\n                        .replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g, ']')\n                        .replace(/(?:^|:|,)(?:\\s*\\[)+/g, ''))) {\n\n// In the third stage we use the eval function to compile the text into a\n// JavaScript structure. The '{' operator is subject to a syntactic ambiguity\n// in JavaScript: it can begin a block or an object literal. We wrap the text\n// in parens to eliminate the ambiguity.\n\n                j = eval('(' + text + ')');\n\n// In the optional fourth stage, we recursively walk the new structure, passing\n// each name/value pair to a reviver function for possible transformation.\n\n                return typeof reviver === 'function'\n                    ? walk({'': j}, '')\n                    : j;\n            }\n\n// If the text is not JSON parseable, then a SyntaxError is thrown.\n\n            throw new SyntaxError('JSON.parse');\n        };\n    }\n}());\n","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","!function t(e,r,i){function s(_,o){if(!r[_]){if(!e[_]){var u=\"function\"==typeof require&&require;if(!o&&u)return u(_,!0);if(n)return n(_,!0);throw new Error(\"Cannot find module '\"+_+\"'\")}var a=r[_]={exports:{}};e[_][0].call(a.exports,function(t){var r=e[_][1][t];return s(r?r:t)},a,a.exports,t,e,r,i)}return r[_].exports}for(var n=\"function\"==typeof require&&require,_=0;_<i.length;_++)s(i[_]);return s}({1:[function(t,e){var r=function(t,e){for(var r=0,i=e.length;i>r;r++)for(var s in e[r])t.prototype[s]=e[r][s]};e.exports=function(t,e){function i(t,e,r){this.__eventId=r,this.__value=t,this.__path=e||[],this.__wrap()}return i.prototype.set=function(t,r){e.publish(\"update\"+this.__eventId,{value:t,path:this.__path,forceUpdate:r})},i.prototype.getValue=function(){return this.__value},i.prototype.val=i.prototype.getValue,i.prototype.getPath=function(){return this.__path},i.prototype.getKey=function(){return this.__path[this.__path.length-1]},i.prototype.forEach=function(t){if(this.__isObject())for(var e in this.__wrappers)t(e,this.__wrappers[e],this.__wrappers);else this.__isArray()&&this.__wrappers.forEach(t)},i.prototype.remove=function(){e.publish(\"remove\"+this.__eventId,{path:this.__path})},i.prototype.__wrap=function(){var t;if(this.__cleanup(),this.__isObject()){this.__wrappers={};for(var e in this.__value)t=this.__path.slice(),t.push(e),this.__wrappers[e]=new i(this.__value[e],t,this.__eventId),this[e]=this.__wrappers[e]}else if(this.__isArray()){this.__wrappers=[];for(var r=0,s=this.__value.length;s>r;r++)t=this.__path.slice(),t.push(r),this.__wrappers[r]=new i(this.__value[r],t,this.__eventId),this[r]=this.__wrappers[r]}},i.prototype.__cleanup=function(){if(this.__wrappers){if(this.__isObject())for(var t in this.__wrappers)delete this[t];else if(this.__isArray())for(var e=0,r=this.__wrappers.length;r>e;e++)delete this[e];delete this.__wrappers}},i.prototype.__forceUpdate=function(){this.set(this.__value,!0)},i.prototype.__isObject=function(){return this.__value&&this.__value.constructor===Object},i.prototype.__isArray=function(){return this.__value&&this.__value.constructor===Array},r(i,t),i}},{}],2:[function(t,e){var r=t(\"./pubsub\"),i=t(\"./wrappers/array\"),s=t(\"./wrappers/hash\"),n=t(\"./data_wrapper\")([i,s],r),_={}.hasOwnProperty,o=function(t,e){function r(){this.constructor=t}for(var i in e)_.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},u=function(t,e){function r(t,e){this.__value=t,this.__path=[],this.__callbacks=e?[e]:[],this.__callbacksQueued=!1,this.__subscribe(),this.__wrap()}return o(r,t),r.prototype.on=function(t,e){\"update\"===t&&this.__callbacks.push(e)},r.prototype.off=function(t,e){if(\"update\"===t)if(e){for(var r=0,i=this.__callbacks.length;i>r;r++)if(e===this.__callbacks[r]){this.__callbacks.splice(r,1);break}}else this.__callbacks=[]},r.prototype.update=function(t,e,r){return r||this.__shouldUpdate(t,e)?(this.__setValue(t,e),this.__rewrap(e),this.__callbacksQueued||(this.__callbacksQueued=!0,setTimeout(function(){this.__runCallbacks()}.bind(this),0)),!0):!1},r.prototype.__runCallbacks=function(){this.__callbacksQueued=!1;for(var t=0,e=this.__callbacks.length;e>t;t++)this.__callbacks[t]&&this.__callbacks[t](this)},r.prototype.__subscribe=function(){this.__eventId=e.subscribeToCortex(function(t,e){this.update(e.value,e.path,e.forceUpdate)}.bind(this),function(t,e){this.__remove(e.path)}.bind(this))},r.prototype.__remove=function(t){if(t.length){var e=t.slice(0,t.length-1),r=this.__subValue(e),i=t[t.length-1],s=r[i];return r.constructor===Object?delete r[i]:r.constructor===Array&&r.splice(i,1),this.update(r,e,!0),s}delete this.__wrappers,delete this.__value},r.prototype.__rewrap=function(t){for(var e=t.slice(0,t.length-1),r=this,i=0,s=e.length;s>i;i++)r=r[e[i]];r.__wrap()},r.prototype.__setValue=function(t,e){if(e.length>1){var r=this.__subValue(e.slice(0,e.length-1));r[e[e.length-1]]=t}else 1===e.length?this.__value[e[0]]=t:this.__value=t},r.prototype.__subValue=function(t){for(var e=this.__value,r=0,i=t.length;i>r;r++)e=e[t[r]];return e},r.prototype.__shouldUpdate=function(t,e){for(var r=this.__value,i=0,s=e.length;s>i;i++)r=r[e[i]];return this.__isDifferent(r,t)},r.prototype.__isDifferent=function(t,e){if(t&&t.constructor===Object){if(!e||e.constructor!==Object||this.__isDifferent(Object.keys(t).sort(),Object.keys(e).sort()))return!0;for(var r in t)if(this.__isDifferent(t[r],e[r]))return!0}else{if(!t||t.constructor!==Array)return t!==e;if(!e||e.constructor!==Array||t.length!==e.length)return!0;for(var i=0,s=t.length;s>i;i++)if(this.__isDifferent(t[i],e[i]))return!0}},r}(n,r);\"undefined\"!=typeof window&&null!==window&&(window.Cortex=u),e.exports=u},{\"./data_wrapper\":1,\"./pubsub\":3,\"./wrappers/array\":4,\"./wrappers/hash\":5}],3:[function(t,e){var r=function(){function t(){this.uid=-1,this.topics={}}return t.prototype.subscribe=function(t,e){this.topics.hasOwnProperty(t)||(this.topics[t]=[]),this.topics[t].push({callback:e})},t.prototype.publish=function(t,e){if(!this.topics.hasOwnProperty(t))return!1;var r=this.topics[t],i=function(){for(var i=0,s=r.length;s>i;i++)r[i].callback(t,e)};return i(),!0},t.prototype.subscribeToCortex=function(t,e){return this.uid+=1,this.subscribe(\"update\"+this.uid,t),this.subscribe(\"remove\"+this.uid,e),this.uid},t.prototype.unsubscribeFromCortex=function(t){delete this.topics[\"update\"+t],delete this.topics[\"remove\"+t]},t}();e.exports=new r},{}],4:[function(t,e){var r={count:function(){return this.__value.length},map:function(t){return this.__wrappers.map(t)},filter:function(t,e){return this.__wrappers.filter(t,e)},find:function(t){for(var e=0,r=this.__wrappers.length;r>e;e++)if(t(this.__wrappers[e],e,this.__wrappers))return this.__wrappers[e];return null},findIndex:function(t){for(var e=0,r=this.__wrappers.length;r>e;e++)if(t(this.__wrappers[e],e,this.__wrappers))return e;return-1},push:function(t){var e=this.__value.push(t);return this.__forceUpdate(),e},pop:function(){var t=this.__value.pop();return this.__forceUpdate(),t},unshift:function(t){var e=this.__value.unshift(t);return this.__forceUpdate(),e},shift:function(){var t=this.__value.shift();return this.__forceUpdate(),t},insertAt:function(t,e){var r=[t,0].concat(e);Array.prototype.splice.apply(this.__value,r),this.__forceUpdate()},removeAt:function(t,e){(isNaN(e)||0>=e)&&(e=1);var r=this.__value.splice(t,e);return this.__forceUpdate(),r}};e.exports=r},{}],5:[function(t,e){var r={keys:function(){return Object.keys(this.__value)},values:function(){var t,e=[];for(t in this.__value)e.push(this.__value[t]);return e},hasKey:function(t){return null!=this.__value[t]},destroy:function(t){var e=this.__value[t];return delete this.__value[t],this.__forceUpdate(),e},\"delete\":function(t){return console.warn(\"Method deprecated! Please use .destroy(key) method\"),this.remove(t)},add:function(t,e){return this.__value[t]=e,this.__forceUpdate(),e}};e.exports=r},{}]},{},[2]);","/*\n * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/\n *\n * Uses the built in easing capabilities added In jQuery 1.1\n * to offer multiple easing options\n *\n * TERMS OF USE - jQuery Easing\n *\n * Open source under the BSD License.\n *\n * Copyright © 2008 George McGinley Smith\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *\n * Redistributions of source code must retain the above copyright notice, this list of\n * conditions and the following disclaimer.\n * Redistributions in binary form must reproduce the above copyright notice, this list\n * of conditions and the following disclaimer in the documentation and/or other materials\n * provided with the distribution.\n *\n * Neither the name of the author nor the names of contributors may be used to endorse\n * or promote products derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\n *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED\n * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n * OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n*/\n\n// t: current time, b: begInnIng value, c: change In value, d: duration\njQuery.easing['jswing'] = jQuery.easing['swing'];\n\njQuery.extend( jQuery.easing,\n{\n\tdef: 'easeOutQuad',\n\tswing: function (x, t, b, c, d) {\n\t\t//alert(jQuery.easing.default);\n\t\treturn jQuery.easing[jQuery.easing.def](x, t, b, c, d);\n\t},\n\teaseInQuad: function (x, t, b, c, d) {\n\t\treturn c*(t/=d)*t + b;\n\t},\n\teaseOutQuad: function (x, t, b, c, d) {\n\t\treturn -c *(t/=d)*(t-2) + b;\n\t},\n\teaseInOutQuad: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return c/2*t*t + b;\n\t\treturn -c/2 * ((--t)*(t-2) - 1) + b;\n\t},\n\teaseInCubic: function (x, t, b, c, d) {\n\t\treturn c*(t/=d)*t*t + b;\n\t},\n\teaseOutCubic: function (x, t, b, c, d) {\n\t\treturn c*((t=t/d-1)*t*t + 1) + b;\n\t},\n\teaseInOutCubic: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t + b;\n\t\treturn c/2*((t-=2)*t*t + 2) + b;\n\t},\n\teaseInQuart: function (x, t, b, c, d) {\n\t\treturn c*(t/=d)*t*t*t + b;\n\t},\n\teaseOutQuart: function (x, t, b, c, d) {\n\t\treturn -c * ((t=t/d-1)*t*t*t - 1) + b;\n\t},\n\teaseInOutQuart: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t*t + b;\n\t\treturn -c/2 * ((t-=2)*t*t*t - 2) + b;\n\t},\n\teaseInQuint: function (x, t, b, c, d) {\n\t\treturn c*(t/=d)*t*t*t*t + b;\n\t},\n\teaseOutQuint: function (x, t, b, c, d) {\n\t\treturn c*((t=t/d-1)*t*t*t*t + 1) + b;\n\t},\n\teaseInOutQuint: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return c/2*t*t*t*t*t + b;\n\t\treturn c/2*((t-=2)*t*t*t*t + 2) + b;\n\t},\n\teaseInSine: function (x, t, b, c, d) {\n\t\treturn -c * Math.cos(t/d * (Math.PI/2)) + c + b;\n\t},\n\teaseOutSine: function (x, t, b, c, d) {\n\t\treturn c * Math.sin(t/d * (Math.PI/2)) + b;\n\t},\n\teaseInOutSine: function (x, t, b, c, d) {\n\t\treturn -c/2 * (Math.cos(Math.PI*t/d) - 1) + b;\n\t},\n\teaseInExpo: function (x, t, b, c, d) {\n\t\treturn (t==0) ? b : c * Math.pow(2, 10 * (t/d - 1)) + b;\n\t},\n\teaseOutExpo: function (x, t, b, c, d) {\n\t\treturn (t==d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\n\t},\n\teaseInOutExpo: function (x, t, b, c, d) {\n\t\tif (t==0) return b;\n\t\tif (t==d) return b+c;\n\t\tif ((t/=d/2) < 1) return c/2 * Math.pow(2, 10 * (t - 1)) + b;\n\t\treturn c/2 * (-Math.pow(2, -10 * --t) + 2) + b;\n\t},\n\teaseInCirc: function (x, t, b, c, d) {\n\t\treturn -c * (Math.sqrt(1 - (t/=d)*t) - 1) + b;\n\t},\n\teaseOutCirc: function (x, t, b, c, d) {\n\t\treturn c * Math.sqrt(1 - (t=t/d-1)*t) + b;\n\t},\n\teaseInOutCirc: function (x, t, b, c, d) {\n\t\tif ((t/=d/2) < 1) return -c/2 * (Math.sqrt(1 - t*t) - 1) + b;\n\t\treturn c/2 * (Math.sqrt(1 - (t-=2)*t) + 1) + b;\n\t},\n\teaseInElastic: function (x, t, b, c, d) {\n\t\tvar s=1.70158;var p=0;var a=c;\n\t\tif (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\n\t\treturn -(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\n\t},\n\teaseOutElastic: function (x, t, b, c, d) {\n\t\tvar s=1.70158;var p=0;var a=c;\n\t\tif (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\n\t\treturn a*Math.pow(2,-10*t) * Math.sin( (t*d-s)*(2*Math.PI)/p ) + c + b;\n\t},\n\teaseInOutElastic: function (x, t, b, c, d) {\n\t\tvar s=1.70158;var p=0;var a=c;\n\t\tif (t==0) return b;  if ((t/=d/2)==2) return b+c;  if (!p) p=d*(.3*1.5);\n\t\tif (a < Math.abs(c)) { a=c; var s=p/4; }\n\t\telse var s = p/(2*Math.PI) * Math.asin (c/a);\n\t\tif (t < 1) return -.5*(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\n\t\treturn a*Math.pow(2,-10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )*.5 + c + b;\n\t},\n\teaseInBack: function (x, t, b, c, d, s) {\n\t\tif (s == undefined) s = 1.70158;\n\t\treturn c*(t/=d)*t*((s+1)*t - s) + b;\n\t},\n\teaseOutBack: function (x, t, b, c, d, s) {\n\t\tif (s == undefined) s = 1.70158;\n\t\treturn c*((t=t/d-1)*t*((s+1)*t + s) + 1) + b;\n\t},\n\teaseInOutBack: function (x, t, b, c, d, s) {\n\t\tif (s == undefined) s = 1.70158;\n\t\tif ((t/=d/2) < 1) return c/2*(t*t*(((s*=(1.525))+1)*t - s)) + b;\n\t\treturn c/2*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2) + b;\n\t},\n\teaseInBounce: function (x, t, b, c, d) {\n\t\treturn c - jQuery.easing.easeOutBounce (x, d-t, 0, c, d) + b;\n\t},\n\teaseOutBounce: function (x, t, b, c, d) {\n\t\tif ((t/=d) < (1/2.75)) {\n\t\t\treturn c*(7.5625*t*t) + b;\n\t\t} else if (t < (2/2.75)) {\n\t\t\treturn c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;\n\t\t} else if (t < (2.5/2.75)) {\n\t\t\treturn c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;\n\t\t} else {\n\t\t\treturn c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;\n\t\t}\n\t},\n\teaseInOutBounce: function (x, t, b, c, d) {\n\t\tif (t < d/2) return jQuery.easing.easeInBounce (x, t*2, 0, c, d) * .5 + b;\n\t\treturn jQuery.easing.easeOutBounce (x, t*2-d, 0, c, d) * .5 + c*.5 + b;\n\t}\n});\n\n/*\n *\n * TERMS OF USE - EASING EQUATIONS\n *\n * Open source under the BSD License.\n *\n * Copyright © 2001 Robert Penner\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *\n * Redistributions of source code must retain the above copyright notice, this list of\n * conditions and the following disclaimer.\n * Redistributions in binary form must reproduce the above copyright notice, this list\n * of conditions and the following disclaimer in the documentation and/or other materials\n * provided with the distribution.\n *\n * Neither the name of the author nor the names of contributors may be used to endorse\n * or promote products derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE\n *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE\n *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED\n * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n * OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n */\n","/**\n *  Definitifion for the Class Object\n */\n(function(){\n    var initializing = false, fnTest = /xyz/.test(function(){xyz;}) ? /\\b_super\\b/ : /.*/;\n    this.Class = function(){};\n\n\tClass.extend = function(prop) {\n\t\tvar _super = this.prototype;\n\n\t\tinitializing = true;\n\t\tvar prototype = new this();\n\t\tinitializing = false;\n\n\t\tfor (var name in prop) {\n\t\t\tprototype[name] = typeof prop[name] == \"function\" &&\n\t\t\ttypeof _super[name] == \"function\" && fnTest.test(prop[name]) ?\n\n\t\t\t(function(name, fn){\n\t\t\t\treturn function() {\n\t\t\t\t\tvar tmp = this._super;\n\t\t\t\t\tthis._super = _super[name];\n\t\t\t\t\tvar ret = fn.apply(this, arguments);\n\t\t\t\t\tthis._super = tmp;\n\n\t\t\t\t\treturn ret;\n\t\t\t\t};\n\t\t\t})(name, prop[name]) : prop[name];\n\t\t}\n\n\t\tfunction Class() {\n\t\t\tif ( !initializing && this.init )\n\t\t\tthis.init.apply(this, arguments);\n\t\t}\n\n\t\tClass.prototype = prototype;\n\t\tClass.prototype.constructor = Class;\n\t\tClass.extend = arguments.callee;\n\t\treturn Class;\n\t};\n\n    Class.addSingleton = function(ctor) {\n        ctor.getInstance = function(params) {\n            return ctor._instance || (ctor._instance = new ctor(params));\n        }\n    };\n\n    this.Iface = function(methods) {\n        this.methods = methods;\n    };\n\n    this.Iface.extractPublicMethodsFrom = function(cls) {\n        var methods = [];\n\n        for(var propname in cls.prototype) {\n            var val = cls.prototype[propname];\n            \n            if(propname != 'constructor' && propname != 'init' && typeof val === 'function' && propname.charAt(0) != '_') {\n                methods.push(propname);\n            }\n        }\n\n        return methods;\n    };\n\n    Iface._implementations = {}; // map class-name => list of interface-names\n    Iface.defineImplementation = function(iter, cls) {\n        /*\n         * if wanted, this block would test the function to check if it implements all of its interface's methods,\n         * and throw an exception if it doesn't upon definition\n\n        var f_cls = eval(cls);\n        var f_iter = eval(iter);\n\n        for(var iname in f_iter.prototype) {\n            var is_defined = (typeof f_cls.prototype[iname] === 'function' && fnTest.test(f_cls.prototype[iname]));\n\n            if(!is_defined) {\n                var exc = 'Fatal: Class \"' + cls + '\" does not implement required \"' + iname + '\" of interface \"' + iter + '\".';\n                throw new Error(exc);\n            }\n        }\n        */\n\n        if(!(cls in Iface._implementations)) {\n            Iface._implementations[cls] = [];\n        }\n\n        Iface._implementations[cls].push(iter);\n    };\n})();\n\n/**\n *  Definitifion for the Namespace Function\n */\nNamespace = function() {\n\tvar a=arguments, o=null, i, j, d;\n\tfor (i=0; i<a.length; i=i+1) {\n\t\td=a[i].split(\".\");\n\t\to=window;\n\t\tfor (j=0; j<d.length; j=j+1) {\n\t\t\to[d[j]]=o[d[j]] || {};\n\t\t\to=o[d[j]];\n\t\t}\n\t}\n\treturn o;\n}\n\n/**\n * extra functions that need to be defined -- should probably be moved to a jquery / javascript utility file\n */\nObject.size = function(obj) {\n    var size = 0, key;\n    for (key in obj) {\n        if (obj.hasOwnProperty(key)) size++;\n    }\n    return size;\n};\n\nString.prototype.escape = function() {\n    return this.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');\n};\n\n$.fn.serializeObject = function(){\n    var o = {};\n    var a = this.serializeArray();\n\n    $.each(a, function() {\n        if (o[this.name]) {\n            if (!o[this.name].push) {\n                o[this.name] = [o[this.name]];\n            }\n            o[this.name].push(this.value || '');\n        } else {\n            o[this.name] = this.value || '';\n        }\n    });\n\n    return o;\n};\n/** \n * Return the values of an object.\n * Opposite of Object.keys\n */\nObject.values = (function(v) {\n    var accumulator = [];\n    jQuery.each(Object.keys(v), function(i, key) {\n        accumulator.push(v[key]);\n    });\n    return accumulator;\n});\n\nif(!Function.prototype.bind) {\n    Function.prototype.bind = function (oThis) {\n        if (typeof this !== \"function\") {\n            // closest thing possible to the ECMAScript 5 internal IsCallable function\n            throw new TypeError(\"Function.prototype.bind - what is trying to be bound is not callable\");\n        }\n\n        var aArgs = Array.prototype.slice.call(arguments, 1), \n            fToBind = this, \n            fNOP = function () {},\n            fBound = function () {\n                return fToBind.apply(this instanceof fNOP && oThis\n                    ? this\n                    : oThis,\n                    aArgs.concat(Array.prototype.slice.call(arguments)));\n            };\n\n        fNOP.prototype = this.prototype;\n        fBound.prototype = new fNOP();\n\n        return fBound;\n    };\n}\n","Namespace('Imgur'); // base namespace\nNamespace('ImgurIface'); // base iface namespace\n\nImgur = Class.extend({\n    INVOKED_BY_COOKIE_LIFE: 1200,\n    INVOKED_BY_COOKIE: 'auth_invoked_by',\n    INVOKED_BY_PARAM: 'invokedBy',\n\n    init : function(params) {\n        this._ = $.extend(true, {\n            'hash'                  : null,\n            'url'                   : location.pathname,\n            'protocol'              : window.location.protocol,\n            'host'                  : window.location.host,\n            'isDropDownOpen'        : false,\n            'cdnUrl'                : null,\n            'signed'                : false,\n            'socket'                : null,\n            'likeDay'               : false,\n            'followDay'             : false,\n            'emitter'               : Imgur.Emitter.getInstance(), // emit events to no one if not set later\n            'linkCodes'             : [\n                'imageLink',\n                'directishLink',\n                'htmlImage',\n                'bbcode',\n                'linkedBbcode',\n                'markdown'\n             ],\n            'imageSizes' : {\n                'original'    : {\n                    'width'   : null,\n                    'suffix'  : ''\n                },\n                'retinaThumb' : {\n                    'width'   : 1456,\n                    'suffix'  : 'r'\n                },\n                'hugeThumb'   : {\n                    'width'   : 1024,\n                    'suffix'  : 'h'\n                },\n                'giantThumb'  : {\n                    'width'   : 728,\n                    'suffix'  : 'g'\n                },\n                'largeThumb'  : {\n                    'width'   : 640,\n                    'suffix'  : 'l'\n                },\n                'mediumThumb' : {\n                    'width'   : 320,\n                    'suffix'  : 'm'\n                },\n                'smallThumb'  : {\n                    'width'   : 160,\n                    'suffix'  : 't'\n                },\n                'bigSquare'   : {\n                    'width'   : 160,\n                    'suffix'  : 'b'\n                },\n                'smallSquare' : {\n                    'width'   : 90,\n                    'suffix'  : 's'\n                }\n            },\n            'messages'   : {\n                'error'         : 'There was an error. Please try again.',\n                'titledesc'     : 'Title and/or description has been updated',\n                'readonly'      : 'Imgur is in read-only mode. Please try again later.',\n                'upvoted'       : '<div class=\"favorited upvoted_msg\"></div>',\n                'downvoted'     : '<div class=\"favorited downvoted_msg\"></div>'\n            },\n            'el' : {\n                'topbar'        : $('#topbar'),\n                'imageLinks'    : '.image-link',\n                'youtubeLinks'  : '.youtube-link',\n                'allImageLinks' : $('.image-link, .imgur-image'),\n                'search': {\n                    'searchContainer': $('.search-container'),\n                    'searchForm': $('.search-container .search-form'),\n                    'searchBar': $('.search-container .search'),\n                    'searchIcon': $('.search-container .search-icon-container')\n                },\n                'dropdown': {\n                    'signin'   : $('#topbar .signin-link'),\n                    'register' : $('#topbar #register'),\n                    'upload'   : $('#topbar .creation-dropdown'),\n                    'mainMenu' : $('#topbar .menu-btn'),\n                }\n            },\n            'pageDepth': 0\n        }, params);\n        return this._;\n    },\n\n    setEmitter: function(emitter) {\n        this._.emitter = emitter;\n    },\n\n    generalInit : function() {\n        var self = this;\n\n        $(document).ajaxError(function(e, request, settings) {\n            if(settings.url === self._.protocol + '//' + self._.host + '/upload' || settings.displayGenericError === false) {\n                return; // already handling errors for upload\n            }\n\n            if(request.status == 500 || request.status == 503) {\n                humanMsg.displayMsg(self._.messages.error, 'error-msg');\n            } else if(request.status == 501) {\n                humanMsg.displayMsg(self._.messages.readonly, 'error-msg');\n            }\n        });\n\n        $.ajaxSetup({ 'cache' : true });\n\n        if($.browser.msie) {\n            if(parseInt($.browser.version) < 9) {\n                $.ajaxSetup({ 'cache' : false });\n            }\n        }\n\n        this.showBetaBar();\n        this.initHeaderActions();\n        this.runPlaceholder();\n\n        try {\n            $('.title').tipsy({\n                'html'    : true,\n                'gravity' : 's',\n                'opacity' : 0.95\n            });\n\n            $('.title-nw').tipsy({\n                'html'    : true,\n                'gravity' : 'nw',\n                'opacity' : 0.95\n            });\n\n            $('.title-n').tipsy({\n                'html'    : true,\n                'gravity' : 'n',\n                'opacity' : 0.95\n            });\n\n            $('.title-w').tipsy({\n                'html'    : true,\n                'gravity' : 'w',\n                'opacity' : 0.95\n            });\n\n            $('.title-e').tipsy({\n                'html'    : true,\n                'gravity' : 'e',\n                'opacity' : 0.95\n            });\n\n            $('body').on('click', this._.el.imageLinks, function(e) {\n                e.preventDefault();\n                $.colorbox({\n                    href: this.href,\n                    initialHeight: 240,\n                    initialWidth: 320,\n                    maxWidth: '95%',\n                    maxHeight: '95%',\n                    className: 'noHeader',\n                    scalePhotos: true,\n                    photo: true,\n                    fixed: true,\n                    scrolling: false,\n                    transition: 'elastic',\n                    onOpen: function() { $('.tipsy').remove() },\n                    onComplete: function() { $('.tipsy').remove() }\n                });\n            }.bind(this));\n\n            $('body').on('click', this._.el.youtubeLinks, function(e) {\n                if(typeof e !== 'object' || e.which !== 1 || e.ctrlKey) {\n                    // invalid event or non-normal LMB click\n                    return;\n                }\n\n                e.preventDefault();\n                $.colorbox({\n                    href: Imgur.Util.getYoutubeEmbedLink(e.target.href),\n                    transition: 'none',\n                    width: '600px',\n                    height: '400px',\n                    iframe: true,\n                    fixed: true,\n                    scrolling: false\n                });\n            }.bind(this));\n\n            this._.el.allImageLinks.tipsy({\n                delayIn:  200,\n                gravity:  $.fn.tipsy.autoNS,\n                title:    this.imageLinkTipsy,\n                html:     true,\n                opacity:  1,\n                offset:   2,\n                live:     true\n            });\n        } catch(e) {}\n\n        $('body').on('click', '.imgur-image', function(e){\n            if(e.ctrlKey || e.metaKey || e.altKey || e.shiftKey) { return; }\n\n            e.preventDefault();\n            $(this).colorbox({\n                initialHeight: 240,\n                initialWidth: 320,\n                maxWidth: '95%',\n                maxHeight: '95%',\n                className: 'noHeader',\n                scalePhotos: true,\n                photo: true,\n                fixed: true,\n                scrolling: false,\n                transition: 'elastic',\n                onOpen: function() { $('.tipsy').remove() },\n                onComplete: function() {\n                    $('.tipsy').remove();\n                    var hash = $(this).attr('data-hash');\n                    var url = $(this).attr('href');\n\n                    $.getJSON('/ajax/favorited/' + hash, _.bind(self.appendFavoriteBar, self, hash, url));\n                },\n                onClosed: function() {\n                    self.removeFavoriteBar();\n                }\n            });\n        });\n\n        // Manage the dropdown events for add new button:\n        $('#create-dropdown-button').on('click', function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n            $('#createDropdown').addClass('create-dropdown-opened');\n        }.bind(this));\n        this._.emitter.on('closed dropdown menu', this, function (triggerEvent) {\n            if ($(triggerEvent.target).get(0) !== $('#create-dropdown-button').get(0)) {\n                $('#createDropdown').removeClass('create-dropdown-opened');\n            }\n        }.bind(this));\n\n        $(document).on('cbox_open', function() {\n            if ($('#colorbox').hasClass('blurbox') && !$('#colorbox').hasClass('blurbox--scroll')) {\n                $('body').addClass('blurbox-active');\n            }\n        });\n\n        $(document).on('cbox_cleanup', function() {\n            if ($('#colorbox').hasClass('blurbox') && !$('#colorbox').hasClass('blurbox--scroll')) {\n                $('body').removeClass('blurbox-active');\n            }\n        });\n\n        var retina = Imgur.Util.isRetinaDisplay()? '1' : '0';\n        $.cookie('retina', retina, { path: '/' });\n        try {\n            window.localStorage && window.localStorage.setItem('retina', retina);\n        } catch (e) {\n            // This, dearest friend, is the retina localStorage failure in Safari private browsing.\n        }\n    },\n\n    imageLinkTipsy : function() {\n        $('.tipsy').remove();\n        var $this = $(this);\n        var text = $this.attr('href');\n\n        // check if parent and first level of children don't have nsfw\n        if($('#hzImg').length) {\n            return '';\n        } else if($this.closest('.comment').find('> .children > .comment > .caption').text().match(/nsfw/gi) || $this.parent().text().match(/nsfw/gi)) {\n            return '<div>nsfw link</div>';\n        }\n\n        var img = new Image();\n        img.src = text;\n\n        if(!img.complete) {\n            $this.addClass('show-tipsy');\n            // make sure when image is loaded that the pointer is still over the link\n            $this.hover(function(){\n                $this.toggleClass('show-tipsy');\n            });\n\n            img.onload = function(e) {\n                if($.browser.msie) {\n                    $('.tipsy .tipsy-inner').html('<img style=\"max-width:100%; max-height: 300px\" src=\"' + text + '\">');\n                } else {\n                    if($this.hasClass('show-tipsy')) {\n                        $this.tipsy(\"show\");\n                    } else {\n                        $this.tipsy(\"hide\");\n                    }\n                }\n                $this.unbind('mouseenter mouseleave');\n            };\n\n            img.onerror = function() {\n                $('.tipsy .tipsy-inner').html('<div>Image could not be loaded</div>');\n                $('.tipsy').css({'left': '-=75px'});\n                $this.unbind('mouseenter mouseleave');\n            };\n\n            img = null;\n            return '<img style=\"width: 25px;\" src=\"//s.imgur.com/images/loaders/ddddd1_121211/48.gif\">';\n        } else {\n            img = null;\n            return '<img style=\"max-width:100%; max-height: 300px\" src=\"' + text + '\">';\n        }\n    },\n\n    appendFavoriteBar : function(hash, url, response) {\n        var $dom = $(_.templates['galleryimage.favoriteBar']({\n            value: url,\n            favorited: response.data.favorited\n        }));\n\n        $favoriteImage = $dom.find('.favorite-image');\n        var fav = new Imgur.Favorite({\n            '$favButton' : $favoriteImage\n        });\n\n        $favoriteImage.on('click', function(){\n            fav.favorite(hash, false, false, false);\n        });\n\n        $dom.find('.favorite-image').tipsy({\n            gravity : 'e',\n            opacity : 1\n        });\n\n        $dom.find('#copy-container').tipsy({\n            gravity : 'w',\n            opacity : 1\n        });\n\n        $('#cboxLoadedContent').after($dom);\n        this.bindZeroClipboard();\n    },\n\n    bindZeroClipboard : function() {\n        var zc = new ZeroClipboard.Client();\n        zc.glue('copy-clipboard', 'copy-container');\n\n        zc.addEventListener('onMouseUp', function(e) {\n            $copyContainer = $('#copy-container');\n            $copyContainer.attr('title', 'copied');\n            $copyContainer.tipsy('show');\n            $copyContainer.attr('original-title', 'copy');\n\n            zc.setText($copyContainer.siblings('input').val());\n\n            flashElement($('#copy'));\n        });\n    },\n\n    removeFavoriteBar : function() {\n        $('#favorite-bar').remove();\n    },\n\n    initHeaderActions : function(emitter) {\n        var self = this;\n\n        try {\n            if(!this._.isSubdomain && this._.dropdownPulseTime != null  && localStorage && localStorage[this._.dropdownPulseTime] == undefined) {\n                this._.el.dropdown.mainMenu.addClass('pulse');\n            }\n        } catch(e) {\n            // if local storage is disabled. just pretend the pulse is disabled\n        }\n\n        this._.el.dropdown.mainMenu.click(function(e){\n            return self.openDropdownMenu(e, self._.el.dropdown.mainMenu);\n        });\n\n        this._.el.dropdown.upload.click(function(e){\n            return self.openDropdownMenu(e, self._.el.dropdown.upload);\n        });\n\n        this._.el.dropdown.signin.click(function(e) {\n            e.preventDefault();\n            self.signin('regularSignIn', true);\n        });\n\n        this._.el.dropdown.register.click(function(e) {\n            e.preventDefault();\n            self.signin('regularSignIn');\n        });\n\n        if(this._.el.dropdown.mainMenu.length ||\n            this._.el.dropdown.upload.length ||\n            this._.el.dropdown.signin.length ||\n            this._.el.dropdown.register.length) {\n\n            $(document).on('click keyup', function(e) {\n                self.closeDropdownMenu(e);\n            });\n        }\n    },\n\n    _showBetaInvite: function(override) {\n        if(Imgur.Environment.beta.inBeta) { return; }\n        if(this._.beta == null) { return; }\n        if(!this._.beta.showInvite && !override) { return; }\n\n        Imgur.Environment.ctaConfig = $.extend(true, Imgur.Environment.ctaConfig, this._.beta.ctaInvite);\n    },\n\n    _showBetaWelcome: function() {\n        if(!Imgur.Environment.beta.inBeta) { return; }\n        Imgur.Environment.ctaConfig = $.extend(true, Imgur.Environment.ctaConfig, this._.beta.ctaWelcome);\n    },\n\n    showBetaBar: function() {\n        this._showBetaInvite();\n        this._showBetaWelcome();\n    },\n\n    showAnnouncementBar: function(announcement, closed_cookie) {\n        if($('#so').length || $('#an-msg').length) { return; }\n        if(closed_cookie) {\n            if($.cookie(closed_cookie)) { return; }\n        } else {\n            if($.cookie('an-msg-closed')) { return; }\n        }\n\n        var $bar = $('<div id=\"an-msg\" class=\"global-message\"></div>');\n        var $x   = $('<a href=\"javascript:;\" class=\"close-message title\" title=\"close this message\">&times;</a>');\n\n        $x.click(function() {\n            Imgur.Util.closeMessage($(this), closed_cookie);\n        });\n\n        this._.el.topbar.after($bar.html(announcement).prepend($x));\n    },\n\n    closeDropdownMenu : function(e) {\n        var self = this;\n\n        //Mouse click or esc key\n        if (e.which == 1 || e.which == 2 || e.which == 3 || e.which == 27) {\n            var target = e? $(e.target): null;\n        } else {\n            return false;\n        }\n\n        if(!target.parents('.tag-group-selector-container').length &&\n            !target.closest('#tags-underbar').length &&\n            !target.closest('#colorbox').length &&\n            (\n            target == null\n            || target.parents('.signin-link').length == 0\n            || target.is('a')\n            || target.is('.dot')\n            )) {\n            $('.tipsy').remove();\n            this._.emitter.trigger('closed dropdown menu', e);\n            $('.opened').removeClass('opened');\n        }\n    },\n\n    openDropdownMenu : function(e, menu) {\n        if(menu.hasClass('opened')) {\n            this.closeDropdownMenu(e);\n        } else {\n            $('.opened').removeClass('opened');\n            menu.addClass('opened');\n\n            if(menu.hasClass('pulse')) {\n                this.hidePulse(menu);\n            }\n\n            return false;\n        }\n    },\n\n    hidePulse : function(element)  {\n        try {\n            localStorage[this._.dropdownPulseTime] = true;\n        } catch(e) {\n            // local storage is disabled\n        }\n\n        element.removeClass('pulse');\n    },\n\n    runPlaceholder : function(elements) {\n        var inputSelector = 'input[type=text][title],input[type=password][title],textarea[title]',\n            c = elements || $(inputSelector);\n        c.each(function () {\n            $(this).showPlaceholder();\n\n            if($(this).hasClass('placeholder-onkeydown')) {\n                $(this).bind('keydown paste', function () {\n                    $(this).hidePlaceholder();\n                });\n\n                $(this).bind('focus', function (e) {\n                    if ($(this).val() == $(this).attr('title')) {\n                        $(this).setCursorPosition(0);\n                    } else {\n                        //$(this).setCursorPosition($(this).val().length);\n                    }\n                });\n\n                $(this).bind('click', function () {\n                    if ($(this).val() == $(this).attr('title')) {\n                        $(this).setCursorPosition(0);\n                    }\n                });\n            } else {\n                $(this).bind('focus focusin keydown paste', function () {\n                    $(this).hidePlaceholder();\n                });\n            }\n\n            $(this).bind('blur focusout', function () {\n                $(this).showPlaceholder();\n            });\n\n            $('form').submit(function () {\n                $(this).find(inputSelector).each(function (idx, ele) {\n                    $(ele).hidePlaceholder();\n                });\n            });\n        });\n    },\n\n    hideAds : function() {\n        $('.advertisement embed').css('visibility', 'hidden');\n    },\n\n    showAds : function() {\n        $('.advertisement embed').css('visibility', 'visible');\n    },\n\n    signin: function(invokedBy, forceSignin) {\n        var href = 'http' + (Imgur.Environment.isDev? '': 's') + '://' + this._.host + '/' + (forceSignin? 'signin': 'register') + '?redirect=' + encodeURIComponent(window.location);\n\n        // disable signin modal due to security concerns\n        window.location = href;\n        return;\n\n        this.setInvokedBy(invokedBy);\n        if(!this._.mobile) {\n            var self = this;\n            this.hideAds();\n\n            $.colorbox({\n                href          : href + '/modal',\n                iframe        : true,\n                fastIframe    : false,\n                width         : 420,\n                height        : forceSignin? 359: 554,\n                top           : '10%',\n                open          : true,\n                scrolling     : false,\n                className     : 'noBorder',\n                close         : '',\n                onLoad        : function() {\n                    $('#cboxClose').hide();\n                },\n                onComplete    : function() {\n                    $('#cboxClose').show();\n                    $('.noBorder #cboxLoadedContent iframe').css('background-color', 'transparent');\n                    $.colorbox.resize({height: 640});\n                },\n                onClosed      : function(e) {\n                    self.showAds(e);\n                    $('#cboxClose').css('display', '');\n                    $('.noBorder #cboxLoadedContent iframe').css('background-color', '');\n\n                    var eventName = forceSignin ? 'signinCancelClick' : 'registerCancelClick';\n                    Imgur.Util.jafoLog({\n                        event: eventName,\n                        meta: {\n                            location: 'modal'\n                        }\n                    });\n                }\n            });\n\n            return false;\n        } else {\n            window.location = '//' + this._.host + '/signin?redirect=' + window.location.pathname;\n        }\n\n        Imgur.Util.initPage();\n    },\n\n    setInvokedBy: function(value) {\n        value = (typeof value === 'object' ? JSON.stringify(value) : value);\n        var expires = new Date();\n        expires.setSeconds(expires.getSeconds() + this.INVOKED_BY_COOKIE_LIFE);\n        $.cookie(this.INVOKED_BY_COOKIE, value, {\n            expires: expires,\n            path: '/', domain: '.'+Imgur.Environment.host\n        });\n    },\n\n    getInvokedBy: function() {\n        var raw = $.cookie(this.INVOKED_BY_COOKIE);\n        if (typeof raw !== 'string') {\n            return {};\n        }\n\n        var data;\n        try {\n            data = JSON.parse(raw);\n        } catch (e) { };\n        var meta = data || {};\n        var invokedBy = data ? data.invokedBy : raw;\n        if (invokedBy) {\n            meta['invokedRegisterSigninBy'] = invokedBy;\n        }\n\n        return meta;\n    },\n\n    vote : function(e) {\n        e.preventDefault();\n        var $arrow = $(e.currentTarget);\n\n        var $up = $arrow.parent().children('.arrow-up');\n        var $down = $arrow.parent().children('.arrow-down');\n        var id = $arrow.attr('data');\n        var type = $arrow.attr('type');\n        var points = null;\n        var ups    = 0;\n        var downs  = 0;\n        var hash = this._.hash;\n\n        if(hash && hash.length && type == 'image') {\n            id = hash;\n        }\n\n        // try to get the points value authoritatively\n        if(type == 'caption') {\n            points = Imgur.Caption.getInstance({'hash': hash}).getCaptionPropertyById(hash, id, 'points');\n        }\n\n        if(points == null) {\n            // fall back to reading <span class=\"points\">\n            // there can be multiple instances of thumbnails on a gallery page\n            // due to lazy loading, so we take the first()\n            points = parseInt($(\".points-\" + id).first().text().replace(/,/g, ''), 10);\n\n            if(type == 'image') {\n                ups   = parseInt($(\".points-\" + id + '-ups').first().text().replace(/,/g, ''), 10);\n                downs = parseInt($(\".points-\" + id + '-downs').first().text().replace(/,/g, ''), 10);\n            }\n        }\n        var vote      = $arrow.hasClass('arrow-down')? 'down': 'up';\n        var errored   = false;\n        var self      = Imgur.getInstance();\n        var wasUpvote = $up.hasClass('green');\n        var wasDownvote = $down.hasClass('red');\n        var signed    = self._.signed;\n        //adding a selector for side gallery test - GH #1865\n        var $galleryItem  = $('[id=\"' + id + '\"], [id=\"gallery-nav-' + id + '\"]');\n        var jafoType = (type === 'image' ? 'gallery' : type === 'caption' ? 'comment' : type);\n\n        if(!signed) {\n            self.signin({ invokedRegisterSigninBy: 'voteAttempt', type: jafoType });\n        } else {\n            // Do not update UI state if not signed in.\n            // Signing in will force a refresh, getting the correct state\n            if (wasUpvote && $up[0] == $arrow[0]) {\n                vote = 'veto';\n                $galleryItem.removeClass('green');\n                $arrow.removeClass('green icon-upvote-fill').addClass('icon-upvote-outline');\n                points--;\n                ups--;\n            } else if (wasDownvote && $down[0] == $arrow[0]) {\n                vote = 'veto';\n                $galleryItem.removeClass('red');\n                $arrow.removeClass('red icon-downvote-fill').addClass('icon-downvote-outline');\n                points++\n                downs--\n            } else if ($up[0] == $arrow[0]) { // different vote\n                $galleryItem.removeClass('red').addClass('green');\n                $up.addClass('green icon-upvote-fill').removeClass('icon-upvote-outline');\n                $down.removeClass('red icon-downvote-fill').addClass('icon-downvote-outline');\n\n                if(wasDownvote) {\n                    // voted from down\n                    points = points + 2;\n                    downs--;\n                    ups++;\n                } else {\n                    points++;\n                    ups++;\n                }\n            } else {\n                //voted down from up or first vote\n                $galleryItem.removeClass('green').addClass('red');\n                $down.addClass('red icon-downvote-fill').removeClass('icon-downvote-outline');\n                $up.removeClass('green icon-upvote-fill').addClass('icon-upvote-outline');\n\n                if(wasUpvote) {\n                    points = points - 2;\n                    ups--;\n                    downs++;\n                } else {\n                    points--;\n                    downs++;\n                }\n            }\n\n            //add upvote and downvote for front page\n            $('.points-'+id).text(this.numberFormat(points));\n\n            if(type == 'image') {\n                $('.points-'+id+'-ups').text(this.numberFormat(ups));\n                $('.points-'+id+'-downs').text(this.numberFormat(downs));\n            }\n\n            if(Math.abs(points) == 1) {\n                $('.points-text-'+id).html('point');\n            } else {\n                $('.points-text-'+id).html('points');\n            }\n        }\n\n        // Send update whether signed in or not. Action will get saved for when user logs in.\n        var sid = this._.sid;\n        if(!sid) {\n            if(!(sid = Imgur.Environment.msid)) {\n                sid = Imgur.Caption.getInstance()._.sid;\n                if(!sid) {\n                    sid = $('#sid').val();\n                }\n            }\n        }\n\n        $.ajax({\n            url  : (this._.baseURL ? this._.baseURL : '') + '/action/vote/' + id,\n            type : 'POST',\n            data : {\n                'vote': vote,\n                'sid' : sid,\n                'type': type,\n                'location': 'outside',\n                'gallery': Imgur.Gallery.getInstance().getGalleryMetadata()\n            },\n            displayGenericError : false,\n            success             : function(response) {\n                if(response.gallery && response.gallery.message) {\n                    humanMsg.displayMsg(response.gallery.message);\n                }\n\n                if(!Imgur.Environment.signed) {\n                    return;\n                }\n\n                Imgur.Util.jafoLog({\n                    event: 'vote',\n                    meta: _.merge(Imgur.Gallery.getInstance().getGalleryMetadata(), {\n                        hash: id,\n                        type: jafoType,\n                        vote: vote,\n                        location: 'outside'\n                    })\n                });\n            }\n        });\n    },\n\n    getSettings : function() {\n        return {\n            'host'    : this._.host,\n            'cdnUrl'  : this._.cdnUrl,\n            'signed'  : this._.signed,\n            'auth'    : this._.auth\n        };\n    },\n\n    numberFormat : function(num, suffix) {\n        num = (''+num).split('.');\n        for(var n=[], snum=num[0], l=snum.length; l>0; l-=3, snum=snum.substring(0,l) ) {\n            n.unshift(snum.substr(-3));\n        }\n\n        return    n+(num[1]?'.'+num[1]:'')+(suffix? (' '+(Math.abs(num)!==1? suffix+'s' : suffix)) : '');\n    },\n\n    setHash : function(hash) {\n        this._.hash = hash;\n    },\n\n    getPageHash : function() {\n        var hash = window.location.hash;\n        return hash.substring(1);\n    },\n\n    getLinkCodes : function() {\n        return this._.linkCodes;\n    },\n\n    getImageSizes : function() {\n        return this._.imageSizes;\n    },\n\n    getExtension : function(filename) {\n        return (/[.]/.exec(filename))?/[^.]+$/.exec(filename): '';\n    },\n\n    getExtension : function(filename) {\n        return (/[.]/.exec(filename))?/[^.]+$/.exec(filename): '';\n    },\n\n    setPageHash : function(hash) {\n        if(typeof history.replaceState == 'function') {\n            history.replaceState(null, hash, '#'+hash);\n        }\n    },\n\n    setURL : function(url) {\n        if(url.substr(0,1) != '/') {\n            url = '/'+url;\n        }\n\n        this._.url = url;\n    },\n\n    parseUri : function(str) {\n        var o = {\n            strictMode: false,\n            key: [\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"],\n            q:   {\n                name:   \"queryKey\",\n                parser: /(?:^|&)([^&=]*)=?([^&]*)/g\n            },\n            parser: {\n                strict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n                loose:  /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n            }\n        }\n\n        var    m   = o.parser[o.strictMode ? \"strict\" : \"loose\"].exec(str),\n            uri = {},\n            i   = 14;\n\n        while (i--) uri[o.key[i]] = m[i] || \"\";\n\n        uri[o.q.name] = {};\n        uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {\n            if ($1) uri[o.q.name][$1] = $2;\n        });\n\n        return uri;\n    },\n\n    setHost : function(host) {\n        this._.host = host;\n    },\n\n    buildMap : function(col, data) {\n        var map = {};\n        for(var i in data) {\n            var datum = data[i];\n            var coldata = datum[col];\n            map[coldata] = datum;\n        }\n        return map;\n    },\n\n    previewBeta : function() {\n        $.colorbox({\n            'href'       : '/lightboxes/betapreview',\n            'iframe'     : true,\n            'width'      : '700px',\n            'height'     : '600px',\n            'transition' : 'none',\n            'className'  : 'noHeader',\n            'fixed'      : false,\n            'open'       : true\n        });\n    },\n\n    acceptBeta : function() {\n        window.location = '//' + this._.host + '/beta/enable';\n    },\n\n    getSearchUrl : function(o, page, json){\n        var params = '';\n        var sort = o.sort;\n        var url  = '/search/'+sort+'/'+o.window+(page? '/page/'+page : '');\n\n        if(json) {\n            url += (Imgur.Environment.signed? '/miss': '/hit')+'.json';\n        }\n\n        if(o.advSearch) {\n            $.each(o.advSearch, _.bind(function(key, val) {\n                if(params !== '') {\n                    params += '&';\n                }\n\n                params += key + '=' + val;\n            }, this));\n        }\n\n        if(o.searchQuery) {\n            params = 'q='+o.searchQuery+'&'+params;\n        }\n\n        return ret = {\n            url : url,\n            query : params\n        };\n    }\n});\n\nClass.addSingleton(Imgur);\n","Namespace('Imgur.Constants');\n\nImgur.Constants = {\n    MIN_TAG_LENGTH: 2,\n    MAX_TAG_LENGTH: 36,\n    MAX_TAGS_PER_POST: 5\n};\n//# sourceMappingURL=constants.js.map\n","Namespace('Imgur.Emitter');\n\n/**\n * an event emitter\n */\nImgur.Emitter = Class.extend({\n    init: function() {\n        this.callbacks = {};\n    },\n\n    /**\n     * Bind an event handler\n     */\n    on: function(event, this_arg, callback) {\n        if(typeof callback !== 'function') {\n            console.error('Tried to call on() with a non-functional argument', event, this_arg, callback);\n        }\n\n        if(event.constructor === Array) {\n            return _.each(event, _.bind(function(e) {\n                this.on(e, this_arg, callback);\n            }, this));\n        }\n\n        if(!(event in this.callbacks)) {\n            this.callbacks[event] = [];\n        }\n\n        this.callbacks[event].push({\n            f: callback,\n            this_arg: this_arg\n        });\n    },\n\n    /**\n     * Bind an event handler that triggers only the first time\n     */\n    once: function(event, this_arg, callback) {\n        if(typeof callback !== 'function') {\n            console.error('Tried to call once() with a non-functional argument', event, this_arg, callback);\n        }\n\n        if(event.constructor === Array) {\n            return _.each(event, _.bind(function(e) {\n                this.once(e, this_arg, callback);\n            }, this));\n        }\n\n        if(!(event in this.callbacks)) {\n            this.callbacks[event] = [];\n        }\n\n        var has_been_called = false;\n\n        var do_once = _.bind(function() {\n            if(has_been_called) {\n                return;\n            }\n\n            var args = _.toArray(arguments);\n\n            callback.apply(this_arg, args);\n            has_been_called = true;\n        }, this);\n\n        this.callbacks[event].push({\n            this_arg: this_arg,\n            f: do_once\n        });\n    },\n\n    off: function(event, this_arg, callback) {\n        if(event.constructor === Array) {\n            return _.each(event, _.bind(function(e) {\n                this.off(e, this_arg, callback);\n            }, this));\n        }\n        if(event in this.callbacks) {\n            if(callback) {\n                _.remove(this.callbacks[event], function(obj, i) {\n                    return (obj.f === callback && obj.this_arg == this_arg);\n                });\n            } else {\n                this.callbacks[event] = [];\n            }\n        }\n    },\n\n    trigger: function(event) {\n        var args = _.toArray(arguments).slice(1);\n\n        if(event.constructor === Array) {\n            return _.each(event, _.bind(function(e) {\n                this.trigger.apply(this, [e].concat(args));\n            }, this));\n        }\n\n        if(event in this.callbacks) {\n            _.each(this.callbacks[event], function(obj) {\n                obj.f.apply(obj.this_arg, args);\n            });\n        }\n    }\n});\n\nClass.addSingleton(Imgur.Emitter);","Namespace('Imgur.Util');\n\nImgur.Util = {\n    hashtagRegex: /(#((?!\\d+($|(?:[^a-z0-9_])))[a-z0-9]+(?:_[a-zA-Z0-9]+)*))(?=$|\\s|\\W)/ig,\n\n    getAnalyticsCdnUrl: function() {\n        return '//p.' + Imgur.Environment.host;\n    },\n\n    // like underscore.js's debounce function.\n    waitForFinalEvent : (function () {\n        var timers = {};\n        return function (callback, ms, uniqueId) {\n            if(uniqueId == null) {\n                throw 'waitForFinalEvent should be called with a uniqueId!';\n            } else {\n                // Clear any existing timers under that id.\n                if (timers[uniqueId]) {\n                    clearTimeout (timers[uniqueId]);\n                }\n                timers[uniqueId] = setTimeout(callback, ms);\n            }\n        };\n    })(),\n\n    newWindow : function(url, width, height) {\n        var callback = function() {\n            if(!window.open(url, 't', 'scrollbars=yes,toolbar=0,resizable=1,status=0,width=' + width + ',height=' + height)) { document.location.href = url; }\n        };\n\n        if(/Firefox/.test(navigator.userAgent)) {\n            setTimeout(callback, 0);\n        } else {\n            callback();\n        }\n    },\n\n    firePixel: function(src) {\n        var img = document.createElement('img');\n        img.src = src;\n    },\n\n    // Taken from NanoScroller\n    getBrowserScrollbarWidth: function() {\n        var outer, outerStyle, scrollbarWidth;\n        outer = document.createElement('div');\n        outerStyle = outer.style;\n        outerStyle.position = 'absolute';\n        outerStyle.width = '100px';\n        outerStyle.height = '100px';\n        outerStyle.overflow = 'scroll';\n        outerStyle.top = '-9999px';\n        document.body.appendChild(outer);\n        scrollbarWidth = outer.offsetWidth - outer.clientWidth;\n        document.body.removeChild(outer);\n        return scrollbarWidth;\n    },\n\n    numberFormat : function(str) {\n        str += '';\n\n        var x  = str.split('.'),\n            x1 = x[0];\n            x2 = x.length > 1 ? '.' + x[1] : '',\n            rgx = /(\\d+)(\\d{3})/;\n\n        while (rgx.test(x1)) {\n            x1 = x1.replace(rgx, '$1' + ',' + '$2');\n        }\n\n        return x1 + x2;\n    },\n\n    truncatedNumberFormat: function(n) {\n        if(undefined == n) {\n            return 'n/a';\n        }\n\n        if(n == 0) {\n            return '0';\n        }\n\n        if(n < 0) {\n            return '-' + Imgur.Util.truncatedNumberFormat(-n);\n        }\n\n        var suffix = ['', 'k', 'm', 'b', 't'];\n        var ndigits = Math.log(Math.floor(n)) / Math.log(10);\n        var suffix_index = Math.floor(ndigits / 3);\n        var suffix_char = suffix[suffix_index];\n        var n_truncated = Math.round(n / (Math.pow(10, suffix_index * 3)));\n\n        return (String(n_truncated) + suffix_char);\n    },\n\n    pluralize : function(number, str) {\n        return number == 1? str: str+'s';\n    },\n\n    obfuscateEmail: function(email) {\n        if (typeof email !== 'string') {\n            return '';\n        }\n        return email.replace(/^(.*)@(.*)$/, function(match, name, domain) {\n            return Imgur.Util.obfuscateString(name) + '@' + Imgur.Util.obfuscateString(domain);\n        });\n    },\n\n    obfuscateString: function(string) {\n        if (typeof string !== 'string') {\n            return '';\n        }\n        if (string.length <= 5) {\n            return string.replace(/./g, '*');\n        }\n        return string.replace(/^(.{2})(.*)(.{2})$/, function(match, p1, p2, p3) {\n            return p1 + p2.replace(/./g, '*') + p3;\n        });\n    },\n\n    byteSize : function(bytes, precision) {\n        if(!precision) precision = 2;\n\n        var kilobyte = 1024;\n        var megabyte = kilobyte * 1024;\n        var gigabyte = megabyte * 1024;\n        var terabyte = gigabyte * 1024;\n\n        if ((bytes >= 0) && (bytes < kilobyte)) {\n            return bytes + ' B';\n\n        } else if ((bytes >= kilobyte) && (bytes < megabyte)) {\n            return (bytes / kilobyte).toFixed(precision) + ' KB';\n\n        } else if ((bytes >= megabyte) && (bytes < gigabyte)) {\n            return (bytes / megabyte).toFixed(precision) + ' MB';\n\n        } else if ((bytes >= gigabyte) && (bytes < terabyte)) {\n            return (bytes / gigabyte).toFixed(precision) + ' GB';\n\n        } else if (bytes >= terabyte) {\n            return (bytes / terabyte).toFixed(precision) + ' TB';\n\n        } else {\n            return bytes + ' B';\n        }\n    },\n\n    closeMessage : function(element, cookieName) {\n        var $element = $(element);\n        cookieName = cookieName? cookieName : $element.parent().attr('id')+'-closed';\n\n        $.cookie(cookieName, 'true', { path: '/', expires: 7, domain: '.imgur.com' });\n        $element.parent().fadeOut();\n    },\n\n    // Encodes any HTML as characters -- safe for jquery insert with .html()\n    htmlEntity : function(str) {\n        if (typeof str !== 'string') {\n            return '';\n        }\n\n        var el = jQuery('<div/>');\n        str    = str.split(\"\\n\");\n\n        jQuery.each(str, function(i, piece) {\n            str[i] = el.text(piece).html();\n        });\n\n        return str.join(\"\\n\");\n    },\n\n    /**\n     * Deprecated. Use Imgur.Linkify instead\n     */\n    linkify : function(input, usernames, album, hashtags, tagLocation) {\n        var host = Imgur.Environment.host,\n            hostEscaped = Imgur.Util.escapeRegex(host);\n\n        // Exclude punctuation marks from linkified URLs and search the entire string.\n        var regex = {\n            any: null,\n            hash: new RegExp('https?://(?:[\\\\w-]+\\\\.)*' + hostEscaped + '/(?!gallery)(?!contact)(?!random)(?!rules)([A-z0-9]{5}|[A-z0-9]{7})[sbtmlh]?(\\\\.(?:jpe?g|gif|png))?(\\\\?.*)?$', 'i'),\n            imgur: new RegExp('^https?://([\\\\w-]+\\\\.)*' + hostEscaped + '(\\\\/.*)?', 'i'),\n            image: /.*\\.(jpe?g|gif|png)$/i,\n            permalink: new RegExp('^https?://([\\\\w-]+\\\\.)*' + hostEscaped + '\\\\/.+\\\\/comment\\\\/[0-9]+', 'i'),\n            albumImage: new RegExp('^https?://([\\\\w-]+\\\\.)*' + hostEscaped + '\\\\/a\\\\/.*#.*', 'i'),\n            youtubeLink: new RegExp('^https?://((?:www\\\\.)?(youtube\\\\.com\\\\/watch\\\\?v=[A-z0-9-]+|youtu\\\\.be\\\\/[A-z0-9-]+))'),\n            youtubeLinkWithTime: new RegExp('^https?://((?:www\\\\.)?(youtube\\\\.com\\/watch\\\\?v=[A-z0-9-]+|youtu\\\\.be\\/[A-z0-9-]+))(\\\\?|&|&amp;)t=')\n        };\n\n        regex.any = /(https?:\\/\\/(((\\w|\\.)+)(\\/)?([^.\\\"!\\s]+((\\.(jpe?g|gif|png)))?))+[^.,?\\\"\\'\\!\\:\\s])/ig;\n\n\n        var matches = input.match(regex.any),\n            output = \"\";\n\n        if(matches) {\n            for(var i = 0; i < matches.length; i++) {\n\n                var match = matches[i], match_length = match.length, index = input.indexOf(match), close = match[match_length - 1], open  = '';\n\n                /* Don't linkify closing containers unless they are part of the link\n                 * (http://en.wikipedia.org/wiki/Game_of_Thrones_(season_4)) => http://en.wikipedia.org/wiki/Game_of_Thrones_(season_4)\n                 */\n\n                switch(close) {\n                    case ')':\n                        open = '(';\n                        break;\n                    case ']':\n                        open = '[';\n                        break;\n                }\n\n                // String ends with one of the designated container tags so let's check if it's part of the link or not\n                if(open) {\n                    var j = 0, opening = 0, closing = 0;\n\n                    for(j = 0; j < match_length; j++) {\n                        if(match[j] == open) {\n                            opening++;\n                        } else if(match[j] == close) {\n                            closing++;\n                        }\n                    }\n\n                    if(closing != opening) {\n                        match = match.substring(0, match_length - 1);\n                    } else {\n                        close = '';\n                    }\n                } else {\n                    close = '';\n                }\n\n                var href = match;\n\n                var isHash = !!(match.match(regex.hash)),\n                    isImgur = !!(match.match(regex.imgur)),\n                    isImage = !!(match.match(regex.image)),\n                    isPermalink = !!(match.match(regex.permalink)),\n                    isAlbumImage = !!(match.match(regex.albumImage)),\n                    isYoutubeLink = !!(match.match(regex.youtubeLink));\n                    isYoutubeLinkWithTime = !!(match.match(regex.youtubeLinkWithTime));\n\n                var isNewTab = !isImage && !isHash && !isPermalink && !isAlbumImage;\n\n                if(isHash) {\n                    isImage = true;\n                    isImgur = true;\n                    var hashMatches = match.match(regex.hash);\n                    if(hashMatches.length >= 4) {\n                        var ext = (hashMatches[2]) || '.jpg', hash = hashMatches[1];\n                        href = Imgur.Environment.cdnUrl + '/' + hash + ext;\n                    }\n                }\n\n\n                var tag;\n\n                if (isYoutubeLink) {\n                    var classSuffix = isYoutubeLinkWithTime? '-no-embed' : '';\n                    var noFollow    = isYoutubeLinkWithTime? ' target=\"_blank\"' : '';\n                    tag = '<a class=\"youtube-link' + classSuffix + '\" href=\"' + href + '\"' + noFollow + '>' + match + '</a>' + close;\n                } else if (isHash) {\n                    tag = '<a class=\"imgur-image\" target=\"_blank\" ' +\n                          'data-hash=\"' + hashMatches[1] + '\" ' +\n                          'href=\"' + href + '\">' + match + '</a>' + close;\n                } else {\n                    tag = '<a ' + (!isImgur && !isImage ? 'rel=\"noreferrer nofollow\" ' : '') +\n                          (isImage ? 'class=\"image-link\" ' : '') +\n                          (isNewTab ? 'target=\"_blank\" ' : '') +\n                          'href=\"' + href + '\">' + match + '</a>' + close;\n                }\n\n                output += input.substring(0, index);\n                output += tag;\n                input = input.substring(index+match_length);\n            }\n            output += input;\n        } else {\n            output = input;\n        }\n\n        if(usernames) {\n            // Regex got more complicated...\n            // Zero match is, of course, the whole match\n            // First match is the non-alphanumeric to make sure it's not an email addy\n            // Second match is the @\n            // Third match is the actual account name\n            output = output.replace(/(^|[^A-z0-9])(@)(([A-z]|[0-9]){4,})/g, '$1<a href=\"//' + host + '/user/$3\">$2$3</a>');\n        }\n\n        if (hashtags) {\n            var analytics = '';\n            if (tagLocation) {\n                analytics = 'data-jafo=\"{@@event@@:@@tagClick@@,@@meta@@:{@@tagName@@:@@$2@@,@@location@@:@@' + tagLocation + '@@}}\"'\n            }\n            output = output.replace(this.hashtagRegex, '<a ' + analytics + ' href=\"//' + host + '/t/$2\">$1</a>');\n        }\n\n        if(album) {\n            output = output.replace(/(#[0-9]+)/g, '<a class=\"image-id-link\" href=\"$1\">$1</a>');\n        }\n\n        return output;\n    },\n\n    basename : function(path) {\n        return path.replace(/\\?.*$/g, '').replace(/^.*[\\/\\\\]/g, '');\n    },\n\n    // Overlays the sticker onto the target, mimicking dimensions and position relative to document\n    overlay : function($sticker, $target) {\n        var newCoords   = $target.offset();\n        var newHeight   = $target.outerHeight();\n        var newWidth    = $target.outerWidth();\n\n        $sticker.css({\n            position    : 'absolute',\n            top         : newCoords.top,\n            left        : newCoords.left,\n            width       : newWidth,\n            height      : newHeight,\n            'z-index'   : $target.css('z-index')+1e5\n        });\n    },\n\n    forceHideColorBox : function(immediate) {\n        if(immediate) {\n            $('#colorbox, #cboxOverlay').hide();\n        } else {\n            $('#colorbox, #cboxOverlay').fadeOut('fast');\n        }\n\n    },\n\n    fireImgurEvent : function(eventName) {\n        var e = document.createEvent(\"Events\");\n        e.initEvent(eventName, true, true);\n        window.dispatchEvent(e);\n    },\n\n    // String.replace can contain various strings like $' that alter the resulting string.\n    // We'll escape them with low value non-ascii bytes. Those can never be in valid\n    // comments (or probably anywhere else) after the ORM processes them, so it's safe to use them here.\n    // JavaScript doesn't use C-strings either so a null byte is fine.\n\n    TEMPLATE_ESCAPEES: {\n        \"$$\": \"\\0\",\n        \"$&\": \"\\1\",\n        \"$`\": \"\\2\",\n        \"$'\": \"\\3\"\n    },\n\n    /**\n     * Replace all {keys} of template in str with value.\n     * str is a template like '<div id=\"{id}\">{text}</div>'\n     * template is an object mapping like {id: 2, text: \"Hello, World!\"}\n     * Keys in the template can't contain {}'s or this will mess up.\n     */\n    template : function(str, template) {\n        var properties = Object.keys(template);\n\n        jQuery.each(template, function(key, value) {\n            template[key] = Imgur.Util._escapeTemplateValue(new String(value));\n        });\n\n        jQuery.each(properties, function(i, key) {\n            var template_key = new RegExp('{' + Imgur.Util.escapeRegex(key) + '}', 'g');\n            str = str.replace(template_key, template[key]);\n        });\n\n        str = Imgur.Util._unescapeTemplateValue(str);\n\n        return str;\n    },\n\n    /**\n     * Replace all special $-sequences with low ascii bytes, for use in String.replace\n     */\n    _escapeTemplateValue: function(value) {\n        for(var unescaped in Imgur.Util.TEMPLATE_ESCAPEES) {\n            value = value.replace(new RegExp(Imgur.Util.escapeRegex(unescaped), 'g'), Imgur.Util.TEMPLATE_ESCAPEES[unescaped]);\n        }\n        return value;\n    },\n\n    /**\n     * Replace the low order bytes with their corresponding $-sequences\n     */\n    _unescapeTemplateValue: function(value) {\n        for(var i = 0; i < value.length; i++) {\n            var code = value.charCodeAt(i);\n\n            for(var unescaped in Imgur.Util.TEMPLATE_ESCAPEES) {\n                if(code === Imgur.Util.TEMPLATE_ESCAPEES[unescaped].charCodeAt(0)) {\n                    value = value.substring(0, i) + unescaped + value.substring(i+1);\n                    i += unescaped.length;\n                }\n            }\n        }\n        return value;\n    },\n\n    /**\n     * Escapes a literal string that is to be put into the RegExp constructor.\n     */\n    escapeRegex: function(key) {\n        return key.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n    },\n\n    /**\n     * Return the Levenshtein edit distance between two strings\n     */\n    editDistance: function(a, b) {\n        if(typeof a != 'string' || typeof b != 'string') return 0;\n        if(!a.length) return b.length;\n        if(!b.length) return a.length;\n\n        var matrix = [];\n\n        // increment along the first column of each row\n        var i;\n        for(i = 0; i <= b.length; i++){\n            matrix[i] = [i];\n        }\n\n        // increment each column in the first row\n        var j;\n        for(j = 0; j <= a.length; j++){\n            matrix[0][j] = j;\n        }\n\n        // Fill in the rest of the matrix\n        for(i = 1; i <= b.length; i++){\n            for(j = 1; j <= a.length; j++){\n                if(b.charAt(i-1) == a.charAt(j-1)){\n                    matrix[i][j] = matrix[i-1][j-1];\n                } else {\n                    matrix[i][j] = Math.min(matrix[i-1][j-1] + 1, // substitution\n                                        Math.min(matrix[i][j-1] + 1, // insertion\n                                            matrix[i-1][j] + 1)); // deletion\n                }\n            }\n        }\n\n        return matrix[b.length][a.length];\n    },\n\n    getYoutubeEmbedLink: function(link) {\n        var href    = (link && typeof link === 'string')? link: this.href;\n        var params  = href.split('&');\n        var videoId = (params[0].match(/\\?v\\=/))? params[0].substring(href.indexOf('v=')+2): params[0].substring(href.lastIndexOf('/')+1);\n\n        return '//www.youtube.com/embed/' + videoId + '?autoplay=1';\n    },\n\n    truncate : function(str, str_len, elipsis) {\n        if(str.length <= str_len) {\n            return str;\n        }\n\n        return str.substring(0, str_len) + (elipsis? '...' : '');\n    },\n\n    decorate: function(decoratee, decorator, fnList) {\n        return Imgur.Util.decorateWithFunction(decoratee, _.map(fnList, (function(fnKey) {\n            return {\n                spot: fnKey,\n                cover: decorator.prototype[fnKey]\n            };\n        })));\n    },\n\n    decorateDetailed: function(decoratee, decorator, fnMap) {\n        _.each(fnMap, function(descriptor) {\n            descriptor.cover = decorator.prototype[descriptor.cover];\n        });\n\n        return Imgur.Util.decorateWithFunction(decoratee, fnMap);\n    },\n\n    decorateWith: function(decoratee, decorator_instance, fnList) {\n        return Imgur.Util.decorateWithDetailed(decoratee, decorator_instance, _.map(fnList, (function(fnKey) {\n            return {\n                spot: fnKey,\n                cover: fnKey\n            };\n        })));\n    },\n\n    decorateWithDetailed: function(decoratee, decorator_instance, fnMap) {\n        var proto = Object.getPrototypeOf(decorator_instance);\n\n        _.each(fnMap, function(descriptor) {\n            descriptor.cover = _.bind(proto[descriptor.cover], decorator_instance);\n        });\n\n        return Imgur.Util.decorateWithFunction(decoratee, fnMap);\n    },\n\n    /**\n     * return a new instance of decoratee with its spots covered, such that the covers are called instead\n     * the arguments list is prefixed with the original decoratee, and an optional list (args) in the descriptor.\n     */\n    decorateWithFunction: function(decoratee, fnMap) {\n        var newDecoratorClass = (function() {});\n        newDecoratorClass.prototype = Object.create(Object.getPrototypeOf(decoratee));\n\n        _.each(fnMap, function(descriptor) {\n            var coverFunc = descriptor.cover,\n                spot = descriptor.spot,\n                args = descriptor.args || [];\n\n            var coverAfterPartial;\n\n            if(descriptor.type === 'pass') {\n                coverAfterPartial = function () {\n                    coverFunc.apply(this, args.concat(_.toArray(arguments)));\n                    return Object.getPrototypeOf(decoratee)[spot].apply(decoratee, arguments);\n                };\n            } else if(descriptor.type === 'passAfter') {\n                coverAfterPartial = function () {\n                    var rv = Object.getPrototypeOf(decoratee)[spot].apply(decoratee, arguments);\n                    coverFunc.apply(this, args.concat(_.toArray(arguments)));\n                    return rv;\n                };\n            } else {\n                var _args = [coverFunc, decoratee].concat(args);\n                coverAfterPartial = _.partial.apply(_, _args);\n            }\n\n            newDecoratorClass.prototype[spot] = coverAfterPartial;\n        });\n\n        var newInstance = Object.create(newDecoratorClass.prototype);\n\n        _.each(_.keys(decoratee), function(key) {\n            newInstance[key] = decoratee[key];\n        });\n\n        return newInstance;\n    },\n\n    getGoogleTracker : function() {\n        if(typeof(__ga) != 'function') {\n            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n            })(window,document,'script','https://www.google-analytics.com/analytics.js','__ga');\n\n            __ga('create', 'UA-6671908-2', 'auto');\n        }\n\n        return __ga;\n    },\n\n    /*\n    * Don't even look at this thing. Just forget you even saw it here.\n    * It'll go away if we ignore it (and finish monocle).\n    */\n    googleTrackPageview : function() {\n        this.getGoogleTracker();\n        __ga('send', 'pageview');\n\n        // Track Quastcast as well. Since they don't have a nice API like Google\n        // we have to load their .gif pixel everytime.\n        $('<img src=\"//pixel.quantserve.com/pixel/p-f8oruOqDFlMeI.gif\" border=\"0\" height=\"1\" width=\"1\" alt=\"Quantcast\"/>');\n\n        // Track ComScore - Code taken from their tracking pixel\n        var _comscore = _comscore || [];\n        _comscore.push({ c1: \"2\", c2: \"7770950\", c3: \"8\", c4: \"http%3A%2F%2Fimgur.com%2F\" });\n        _comscore.push({ c1: \"8\", c2: \"7770950\", c3: \"8\", c4: \"http%3A%2F%2Fimgur.com%2F\" });\n\n        function udm_(a, b) {\n            var c = \"comScore=\", d = document, e = d.cookie, f = \"\", g = \"indexOf\", h = \"substring\", i = \"length\", j = 2048, k, l = \"&ns_\", m = \"&\", n, o, p, q, r = window, s = r.encodeURIComponent || escape;\n            if (e[g](c) + 1)\n                for (p = 0, o = e.split(\";\"), q = o[i]; p < q; p++)\n                    n = o[p][g](c), n + 1 && (f = m + unescape(o[p][h](n + c[i])));\n            a += l + \"_t=\" + +(new Date) + l + \"c=\" + (d.characterSet || d.defaultCharset || \"\") + \"&c8=\" + s(d.title) + f + \"&c7=\" + s(d.URL) + \"&c9=\" + s(d.referrer), a[i] > j && a[g](m) > 0 && (k = a[h](0, j - 8).lastIndexOf(m), a = (a[h](0, k) + l + \"cut=\" + s(a[h](k + 1)))[h](0, j)), d.images ? (n = new Image, r.ns_p || (ns_p = n), typeof b == \"function\" && (n.onload = n.onerror = b), n.src = a) : d.write(\"<\", \"p\", \"><\", 'img src=\"', a, '\" height=\"1\" width=\"1\" alt=\"*\"', \"><\", \"/p\", \">\")\n        }\n\n        // wait - this gets set above as well\n        typeof _comscore == \"undefined\" && (_comscore = []), function() {\n            var a = \"length\", b = self, c = b.encodeURIComponent ? encodeURIComponent : escape, d = \".scorecardresearch.com\", e = \"//app\" + d + \"/s2e/invite\", f = Math, g = \"script\", h = \"width\", i = /c2=(\\d*)&/, j, k = function(b) {\n                if (!!b) {\n                    var e, f = [], g, h = 0, i, j, k = \"\";\n                    for (var l in b) {\n                        g = typeof b[l];\n                        if (g == \"string\" || g == \"number\")\n                            f[f[a]] = l + \"=\" + c(b[l]), l == \"c2\" ? k = b[l] : l == \"c1\" && (h = 1)\n                    }\n                    if (f[a] <= 0 || k == \"\")\n                        return;\n                    j = b.options || {}, j.d = j.d || document;\n                    if (typeof j.url_append == \"string\") {\n                        i = j.url_append.replace(/&amp;/, \"&\").split(\"&\");\n                        for (var l = 0, n = i[a], o; l < n; l++)\n                            o = i[l].split(\"=\"), o[a] == 2 && (f[f[a]] = o[0] + \"=\" + c(o[1]))\n                    }\n                    e = [\"http\", j.d.URL.charAt(4) == \"s\" ? \"s://sb\" : \"://b\", d, \"/b?\", h ? \"\" : \"c1=2&\", f.join(\"&\").replace(/&$/, \"\")], udm_(e.join(\"\"), function() {\n                        m(this, j)\n                    })\n                }\n            }, l = function(b) {\n                b = b || _comscore;\n                for (var c = 0, d = b[a]; c < d; c++)\n                    k(b[c]);\n                b = _comscore = []\n            }, m = function(a, b) {\n                if (!(a.src.indexOf(\"c1=2\") < 0 || !b.d.createElement))\n                    if (b.force_script_extension || a[h] == 2 && a.height > f.round(f.random() * 100)) {\n                        var c = b.d.createElement(g), d = b.d.getElementsByTagName(g)[0], j = [b.script_extension_url || e, \"?\", \"c2=\", a.src.match(i)[1]].join(\"\");\n                        d && (c.src = j, c.async = !0, d.parentNode.insertBefore(c, d))\n                    }\n            };\n            l(), (j = b.COMSCORE) ? (j.purge = l, j.beacon = k) : COMSCORE = {purge: l,beacon: k}\n        }();\n    },\n\n    getQueryParams : function(url) {\n        var params = {};\n\n        if (url.length > 1) {\n            for (var key, value = 0, paramarray = url.substr(1).split(\"&\"); value < paramarray.length; value++) {\n                key = paramarray[value].split(\"=\");\n                params[decodeURIComponent(key[0])] = key.length > 1 ? decodeURIComponent(key[1]) : \"\";\n            }\n        }\n\n        return params;\n    },\n\n    createQueryUrl : function(url, params) {\n        var urlParts = url.split('?');\n        var currentParams = urlParts[1] ? this.getQueryParams('?' + urlParts[1]) : {};\n        var mergedParams;\n        var queryUrl = urlParts[0];\n\n        if (_.isArray(params)) {\n            // params like [ \"queryparam1\", \"queryParam2=val\", ... ]\n            mergedParams = $.param(currentParams);\n            if (mergedParams.length) {\n                mergedParams += '&';\n            }\n            mergedParams += params.join('&');\n        } else {\n            // params like { queryParam1: \"val\", ... } or empty\n            mergedParams = $.param(_.merge(currentParams, params));\n        }\n\n        if (mergedParams) {\n            queryUrl += '?' + mergedParams;\n        }\n\n        return queryUrl;\n    },\n\n    isSubdomain : function(host) {\n        return location.host != host;\n    },\n\n    registerInterestingEvents: function(emitter, f, reactComponentClass) {\n        if(reactComponentClass.type.prototype.getInterestingEvents().length) {\n            var evts = reactComponentClass.type.prototype.getInterestingEvents();\n            for(var i = 0, evt = evts[i]; i < evts.length; i++, evt = evts[i]) {\n                emitter.on(evt, null, f);\n            }\n        }\n    },\n\n    // fire a tracking pixel for the image view\n    triggerView: function(id_ref, options) {\n        if (!id_ref){\n            return;\n        }\n\n        var opt_discard     = !!options.discard;\n        var suffix          = id_ref[id_ref.length - 1];\n\n        var type;\n\n        if(!!options.image || !options.album) {\n            type = 'image';\n        } else if(!!options.album || !options.image) {\n            type = 'album';\n        }\n\n        if(id_ref.length === 7 || id_ref.length === 5 || (id_ref.length % 2 == 0 && (suffix == 'h' || suffix == 'l'))) {\n            var referrer;\n\n            if(opt_discard) {\n                referrer = window.location.href.replace(/#.*/, '').replace(/\\?.*/, '');\n            } else {\n                referrer = document.referrer;\n            }\n\n            var pixel_url = '//p.' + Imgur.Environment.host + '/' + type + 'view.gif?a=' + id_ref + '&r=' + encodeURIComponent(referrer);\n            var pixel = document.createElement('img');\n            pixel.src = pixel_url;\n        }\n    },\n\n    // dive for a namespace path on an object without try/catch or typeof hell\n    // example: dive(window, 'document.location.href')\n    dive: function (obj, path) {\n        var sect = (''+path).replace(/^\\./, '').split('.'),\n            curr = sect.length > 0? sect.shift(): null,\n            iter;\n\n        if(curr && obj && 'undefined' !== typeof obj[curr]) {\n            if(sect.length === 0) {\n                return obj[curr];\n            } else {\n                return Imgur.Util.dive(obj[curr], sect.join('.'));\n            }\n        }\n    },\n\n    PERFORMANCE_CHECKPOINT_USER_AGENT: 'Ticktock performance monitor <ops@imgur.com>',\n\n    triggerPerformanceCheckpoint: function(which) {\n        if(window.navigator.userAgent === Imgur.Util.PERFORMANCE_CHECKPOINT_USER_AGENT) {\n            var img = document.createElement('img');\n            img.src = '//s.' + Imgur.Environment.host + '/images/blank.gif?ticktock=' + which;\n        }\n    },\n\n    checkInIframe: function() {\n        try {\n            return window.self !== window.top;\n        } catch (e) {\n            return true;\n        }\n    },\n\n    isRetinaDisplay: function() {\n        if (window.matchMedia) {\n            var mq = window.matchMedia(\"only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)\");\n            return (mq && mq.matches || (window.devicePixelRatio > 1));\n        }\n\n        return false;\n    },\n\n    referrerIsImgur: function() {\n        if (!document.referrer) {\n            return false;\n        }\n\n        var parser  = document.createElement('a');\n        parser.href = document.referrer;\n\n        return parser.host == Imgur.Environment.host;\n    }\n};\n","Namespace('Imgur.Storage');\n\nImgur.Storage = Class.extend({\n    get: (function() {}),\n    exists: (function() {}),\n    save: (function(object) {})\n});\n","Namespace('Imgur.Storage.Cookie');\n\nImgur.Storage.Cookie = Imgur.Storage.extend({\n    /**\n     * life in seconds\n     */\n    init: function(cookieName, cookieLife) {\n        this._ = {\n            cookieName: cookieName,\n            cookieLife: (cookieLife ? (cookieLife / (3600*24)) : (3600*24*7))\n        };\n    },\n\n    exists: function() {\n        return ($.cookie(this._.cookieName) !== null);\n    },\n\n    save: function(object) {\n        $.cookie(this._.cookieName, Imgur.Util.Base64.encode(JSON.stringify(object)), {\n            expires: this._.cookieLife,\n            path: '/'\n        });\n    },\n\n    get: function(defaults) {\n        try {\n            return JSON.parse(Imgur.Util.Base64.decode($.cookie(this._.cookieName)));\n        \n        // base 64 decoding or json decoding failed\n        } catch(e) {\n            if(defaults != null) {\n                return defaults;\n            }\n\n            return null;\n        }\n    }\n});\n","Namespace('Imgur.LocalStorage');\n\nImgur.LocalStorage = {\n    supported: function() {\n        try {\n            if (!window.localStorage) {\n                return false;\n            }\n\n            var canary = '__canary__';\n            var canaryValue = '1'; // use strings because localStorage prefers strings\n\n            localStorage.setItem(canary, canaryValue);\n            if (localStorage.getItem(canary) === canaryValue) {\n                localStorage.removeItem(canary)\n                return true;\n            }\n        } catch(e) {\n            return false;\n        }\n    },\n\n    exists: function(key) {\n        return this.supported() && (typeof key === 'undefined' || typeof localStorage.getItem(key) === 'string');\n    },\n\n    save: function(key, object, expires) {\n        if (!this.supported()) {\n            console.warn('Could not save', key, 'to local storage because local storage not supported');\n            return false;\n        }\n\n        this.purgeExpired();\n\n        if (typeof object === 'undefined' || object === null) {\n            localStorage.removeItem(key);\n        } else {\n            if (typeof object !== 'object') {\n                object = {\n                    _value: object\n                }\n            }\n            if (expires) {\n                object._expires = new Date(expires);\n                if (object._expires < new Date()) {\n                    return false;\n                }\n            }\n            localStorage.setItem(key, JSON.stringify(object));\n        }\n\n        return true;\n    },\n\n    get: function(key, defaults) {\n        var data;\n        var date = new Date();\n\n        if (!this.supported()) {\n            console.warn('Could not get ', key, 'from local storage because local storage not supported');\n            return defaults;\n        }\n\n        try {\n            data = JSON.parse(localStorage.getItem(key));\n        } catch (e) {\n            return defaults;\n        }\n\n        if (data && typeof data._expires !== 'undefined' && date > new Date(data._expires)) {\n            return undefined;\n        }\n\n        if (data && typeof data._value !== 'undefined') {\n            return data._value;\n        } else if (data) {\n            return data;\n        }\n    },\n\n    purgeExpired: function() {\n        var date = new Date();\n\n        for (var i = 0, existingKey, data; i < localStorage.length; i++) {\n            existingKey = localStorage.key(i);\n\n            try {\n                data = JSON.parse(localStorage.getItem(existingKey));\n            } catch (e) {\n                continue;\n            }\n\n            if (typeof data === 'object' && data !== null && data._expires && date > new Date(data._expires)) {\n                // remove item if we are past the expiration date.\n                localStorage.removeItem(existingKey);\n            }\n        }\n    }\n};\n","Namespace('Imgur.Experiments');\n\n// if you are adding an experiment method to this file, the naming scheme is exp<github-issue-number>\n// this makes it easy to find info related to old experiments and see if they can be removed.\n\nImgur.Experiments = {\n\n    initialSession: false,\n    activeExperiments: [],\n    sessionNumber: null,\n    config: null,\n\n    isActive: function(expID){\n        return (this.activeExperiments.indexOf(expID) !== -1 || this.activeExperiments.indexOf('exp'+expID) !== -1);\n    },\n\n    startExperiments: function(experimentConfig){\n        this.config = experimentConfig;\n\n        var bucket;\n        for (var expID in experimentConfig){\n            if (!experimentConfig.hasOwnProperty(expID)) {\n                continue;\n            }\n\n            if (experimentConfig[expID].active !== true) {\n                continue;\n            }\n\n            bucket = this.getUserBucket(expID);\n\n            if(!bucket) {\n                continue; // likely empty or a storage failure.\n            }\n\n            // run any test-specific setup JS\n            var shouldRun = bucket.included;\n            var shouldReport = false;\n            if (bucket && shouldRun === true){\n                var testFunc = this[expID];\n                if (typeof testFunc === 'function'){\n                    shouldReport = testFunc.call(this, bucket.variation);\n                }\n            }\n\n            // bail early if experiment should not report;\n            if (shouldReport === false) {\n                continue;\n            }\n\n            this.activeExperiments.push(expID);\n            Imgur.Util.registerExperiment(expID, bucket.variation);\n            Imgur.Util.jafoLog({\n                event: 'internalExperimentLoaded',\n                meta: {\n                    expID: expID,\n                    variation: bucket.variation\n                }\n            });\n        }\n    },\n\n    getUserBucket: function(expID){\n        var bucket;\n\n        if (!Imgur.LocalStorage.supported()){\n            return; //ie7 and below doesn't support LocalStorage, so don't include them in the tests\n        }\n\n        bucket = Imgur.LocalStorage.get('bucketParams-'+expID);\n        if (!bucket) {\n            bucket = this.setUserBucket(expID);\n        }\n\n        if (typeof bucket !== 'undefined'){\n            return bucket;\n        }\n    },\n\n    setUserBucket: function(expID) {\n        var variationRandValue;\n        var config = this.config[expID];\n        if (!config){\n            return false;\n        }\n\n        // new user -- need to bucket\n        var testRandValue = Math.random();\n\n        var bucket = {\n            included: false,\n            variation: 'control'\n        };\n\n        var shouldBucket = (testRandValue <= config.inclusionProbability);\n        if (shouldBucket === true){\n            bucket.included = true;\n            variationRandValue = Math.random();\n            for (var i = 0; i < config.variations.length; i++){\n                if (variationRandValue <= config.variations[i].inclusionProbability){\n                    bucket.variation = config.variations[i].name;\n                    break;\n                }\n                variationRandValue -= config.variations[i].inclusionProbability;\n            }\n        }\n\n        Imgur.LocalStorage.save('bucketParams-'+expID, bucket, config.expirationDate);\n\n        return bucket;\n    },\n\n    expT4377: function(variation){\n        if (variation == 'lift-igniter-no-pp' || variation == 'control-no-pp') {\n            // load lift igniter script on both their arm and control so they can compare their own performance to control.\n\n            (function(w,d,s,p,v,e,r) {w['$igniter_var']=v;w[v]=w[v]||function(){(w[v].q=w[v].q||[]).push(\n                    arguments)};w[v].l=1*new Date();e=d.createElement(s),r=d.getElementsByTagName(s)[0];e.async=1;\n                e.src=p+'?ts='+(+new Date()/3600000|0);\n                r.parentNode.insertBefore(e,r)})(window,document,'script','//cdn.petametrics.com/kdem4a3gdar4oq52.js','$p');\n\n            var customConfig = {\n                config: {\n                    globalTracking: true,\n                    inventory: {\n                        version: 1,\n                        collect: variation == 'lift-igniter-no-pp',\n                    },\n                    sdk: {\n                        multiFetch: true,\n                        pushStateReset: true,\n                    },\n                },\n            };\n\n            $p(\"init\", \"kdem4a3gdar4oq52\", customConfig);\n            $p(\"send\", \"pageview\");\n        }\n\n        if (variation == 'cxense-no-pp') {\n            window.cX = window.cX || {}; window.cX.callQueue = window.cX.callQueue || [];\n            window.cX.callQueue.push(['setSiteId', '1141841818742508432']);\n            window.cX.callQueue.push(['sendPageViewEvent']);\n            (function(d,s,e,t){e=d.createElement(s);e.type='text/java'+s;e.async='async';\n            e.src='http'+('https:'===location.protocol?'s://s':'://')+'cdn.cxense.com/cx.js';\n            t=d.getElementsByTagName(s)[0];t.parentNode.insertBefore(e,t);})(document,'script');\n        }\n\n        var gallery = _widgetFactory._.config.gallery;\n\n        if (!gallery){\n            return false;\n        }\n\n        var inDefaultMostViralSort =\n            gallery.section === 'hot' &&\n            gallery.window === 'day' &&\n            gallery.sort === 'viral';\n\n        // section can be null for new / incognito users\n        inDefaultMostViralSort = inDefaultMostViralSort || gallery.section === null;\n\n        var landingUrl = window.location.toString();\n        if (landingUrl.indexOf('/gallery/') > -1) {\n            // User landed on a gallery URL.\n            // Don't start Imgur reporting.\n            return false;\n        }\n\n        if (!inDefaultMostViralSort){\n            // User has picked a custom sidegallery sort OR came from reddit and is shown a reddit sidebar\n            // Don't start imgur reporting.\n            return false;\n        }\n\n        // if we end up here, start Imgur reporting\n        return true;\n    },\n};\n","/**\n * React mixin for infinite scrolling of lists\n *\n * Usage:\n *  Mark the last element in your list with ref 'infinite-scroll'. \n *\n *  Define a method this.infiniteScrollLoad(page, callback) to be called when the user scrolls to the bottom.\n *\n *  Use the presence or absence of 'infinite-scroll-initialized' on the parent node to show or hide a per-component loader.\n *  Use the presence or absence of 'infinite-scroll-loaded' on the parent node to show or hide a per-infinite-scroll-page loader.\n *\n *  When rendering, use this.infiniteScrollCountPages() to get the number of pages loaded, and this.infiniteScrollGetPage(i) to get\n *  the ith page of data. \n *\n *  If you have a custom scroll event container (e.g. nanoscroll) then use ref 'infinite-scroll-container'\n */\nImgur.ReactInfiniteScroll = {\n    getDefaultProps: function() {\n        return {\n            infiniteScrollStartingPage: 0\n        };\n    },\n\n    getInitialState: function() {\n       return { \n            infiniteScrollLoading: false,\n            infiniteScrollLastPage: this.props.infiniteScrollStartingPage-1,\n            infiniteScrollEnabled: true\n       };\n    },\n\n    componentDidMount: function() {\n        if(this.infiniteScrollNeedToLoadFirstPage()) {\n            this._load(this.props.infiniteScrollStartingPage);\n        }\n\n        var $infiniteScrollContainer;\n\n        if(this.refs['infinite-scroll-container']) {\n            $infiniteScrollContainer = $(this.refs['infinite-scroll-container']);\n        } else {\n            $infiniteScrollContainer = $(window);\n        }\n\n        // `scrollend` is a NanoScroll jQuery emitted event\n        $infiniteScrollContainer.on('scroll scrollend', _.throttle(this._checkScroll, 200));\n    },\n\n    componentDidUpdate: function(prevProps, prevState) {\n        if(prevState.infiniteScrollLoading != this.state.infiniteScrollLoading) {\n            var react = window.ReactDOM || window.React;\n            if(this.state.infiniteScrollLoading) {\n                $(react.findDOMNode(this).parentNode).removeClass('infinite-scroll-loaded');\n            } else {\n                $(react.findDOMNode(this).parentNode).addClass('infinite-scroll-loaded');\n            }\n        }\n    },\n\n    _checkScroll: function() {\n        if(!this.state.infiniteScrollEnabled || this.state.infiniteScrollLoading) {\n            return;\n        }\n\n        var last_rendered = this.refs['infinite-scroll'];\n\n        if(last_rendered) {\n            if($(last_rendered).is(':in-viewport')) {\n                this._load(this.state.infiniteScrollLastPage+1);\n            }\n        }\n    },\n\n    _load: function(page) {\n        this.setState({\n            infiniteScrollLoading: true,\n            infiniteScrollLastPage: Math.max(page, this.state.infiniteScrollLastPage)\n        });\n\n        this.infiniteScrollLoad(page, _.bind(function(result, halt) {\n            if(result !== undefined) {\n                this._store(page, result);\n            }\n\n            if(halt) {\n                this.setState({\n                    infiniteScrollEnabled: false\n                });\n            }\n\n            this.setState({\n                infiniteScrollLoading: false\n            }, _.bind(function() {\n                if(!halt) {\n                    this._checkScroll();\n                }\n            }, this));\n        }, this));\n    },\n\n    _store: function(page_number, data) {\n        var state = {};\n        state['infinite-scroll-' + page_number] = data;\n        this.setState(state);\n    },\n    \n    infiniteScrollCountPages: function() {\n        for(var i = 0;;i++) {\n            if(!this.state['infinite-scroll-' + i]) {\n                return i;\n            }\n        }\n    },\n\n    infiniteScrollHavePage: function(page) {\n        return 'infinite-scroll-' + page in this.state;\n    },\n\n    infiniteScrollGetPage: function(page) {\n        return this.state['infinite-scroll-' + page];\n    },\n\n    infiniteScrollStart: function() {\n        this.setState({\n            infiniteScrollEnabled: true\n        });\n    }\n};\n","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nNamespace('Imgur.Factory');\n\nImgur.Factory.Widget = Class.extend({\n    init: function init(env) {\n        this._ = {};\n        this._.env = env;\n        this._.config = {};\n        this._.incus = null;\n    },\n\n    mergeConfig: function mergeConfig(key, value) {\n        if (!(key in this._.config)) {\n            this._.config[key] = {};\n        }\n\n        this._.config[key] = _.merge(this._.config[key], value || {});\n    },\n\n    _getConfig: function _getConfig(config, key, empty) {\n        if (key.indexOf('.') == -1) {\n            return config[key];\n        } else {\n            var i = key.indexOf('.');\n            var prefix = key.substr(0, i),\n                suffix = key.substr(i + 1);\n\n            return this._getConfig(config[prefix] || {}, suffix) || empty;\n        }\n    },\n\n    getConfig: function getConfig(key, empty) {\n        var config;\n\n        if (key.indexOf('.') != -1) {\n            var i = key.indexOf('.');\n            var prefix = key.substr(0, i),\n                suffix = key.substr(i + 1);\n\n            config = this._.config[prefix] || {};\n            key = suffix;\n        } else {\n            config = this._.config || {};\n        }\n\n        return this._getConfig(config, key, empty);\n    },\n\n    _getPostAuthorized: function _getPostAuthorized() {\n        var msid = this._.env.msid;\n\n        return function (url, data, success, fail) {\n            success = success || _.noop;\n            fail = fail || _.noop;\n\n            data = _.merge(data, {\n                msid: msid,\n                sid: msid,\n                modhash: msid\n            });\n\n            return $.post(url, data, success).fail(fail);\n        };\n    },\n\n    produceInsideGalleryFactory: function produceInsideGalleryFactory() {\n        var gallery_env = _.merge(this._.env, this.getConfig('gallery'));\n\n        gallery_env.cdnURL = gallery_env.cdnUrl;\n\n        return new Imgur.Factory.InsideGallery(this, gallery_env, this.getConfig('groups'), _.bind(this._getPostAuthorized, this));\n    },\n\n    produceOutsideGalleryFactory: function produceOutsideGalleryFactory() {\n        var gallery_env = _.merge(this._.env, this.getConfig('gallery'));\n\n        gallery_env.cdnURL = gallery_env.cdnUrl;\n\n        return new Imgur.Factory.OutsideGallery(this._.env, gallery_env, this.getConfig('groups'), _.bind(this._getPostAuthorized, this));\n    },\n\n    produceLocationCommand: function produceLocationCommand(emitter) {\n        var redirectCommand = new Imgur.Element.CommandLocation();\n        emitter.on('command.location', redirectCommand, redirectCommand.handleCommand);\n        emitter.on('command.refresh', redirectCommand, redirectCommand.handleRefreshCommand);\n    },\n\n    produceAccountBioEditor: function produceAccountBioEditor() {\n        var $bioElement = $('#account-bio.access'),\n            $bioEditElement = $('#account-bio-edit');\n\n        var accountBio = new Imgur.User.Bio($bioElement, $bioEditElement);\n\n        $bioElement.click(_.bind(accountBio.editAccountBio, accountBio));\n        $bioEditElement.blur(_.bind(accountBio.saveAccountBio, accountBio));\n    },\n\n    produceSearch: function produceSearch() {\n        var search_config = this.getConfig('search');\n\n        // On some embedded page that doesn't contain search\n        // or an ephemeral page like the logout result\n        if ($(\"#global-search-container\").length == 0 || !search_config) {\n            return;\n        }\n\n        var gallery_config = this.getConfig('gallery');\n        var search_type = search_config.type;\n\n        var emitter = new Imgur.Emitter();\n        var ajax = this._getAjaxGet();\n        var suggestUrl = '//' + this._.env.host + '/search/suggest';\n        var storeSearchSuggestions = new Imgur.Search.Store.Suggestions(emitter, search_config.q);\n        var searchSuggestModel = new Imgur.Search.SuggestModel(ajax, storeSearchSuggestions, suggestUrl);\n\n        var TYPES = Imgur.Search.TopBarView.getDefaultProps().SUGGESTION_TYPES;\n        var ordering = [TYPES.TAG, TYPES.MEME, TYPES.USER, TYPES.SEARCH, TYPES.ECHO];\n        var factory = new Imgur.Search.SuggestionFactory(this._.env.host);\n        var searchResults = new Imgur.Search.Results(emitter, storeSearchSuggestions, ordering, factory);\n        Imgur.Dev.DebugVar('searchresults', searchResults);\n\n        var structured = 'advanced' === search_type ? new Imgur.Search.Structured($(\"#search_advanced\")) : null;\n        var advController = new Imgur.Search.Controller.Advanced(structured);\n        var searchSort = 'advanced' === search_type ? gallery_config.sort : 'relevance';\n        var searchWindow = 'advanced' === search_type ? gallery_config.window : 'all';\n\n        var searchProps = {\n            sort: searchSort,\n            window: searchWindow,\n            suggestionStore: storeSearchSuggestions,\n            searchResults: searchResults,\n            searchSuggestModel: searchSuggestModel,\n            host: this._.env.host,\n            defaultSuggestOpened: 'advanced' === search_type && structured.getIsHidden(),\n            structured: structured\n        };\n\n        Imgur.Dev.DebugVar('storesugg', storeSearchSuggestions);\n        var renderSearch = function renderSearch() {\n            var ReactDOM = window.ReactDOM || window.React;\n            var component = ReactDOM.render(React.createElement(Imgur.Search.TopBarView, searchProps), $(\"#global-search-container\").get(0));\n            // kind of an ugly way to maintain dependency, but not sure how else to do it with react\n            advController.setTopBarComponent(component);\n        };\n\n        renderSearch();\n        emitter.on('new suggestions', null, renderSearch);\n        emitter.on('new global search query', null, renderSearch);\n        emitter.on('new active suggestion', null, renderSearch);\n\n        var hotkeyController = new Imgur.Search.HotkeyController($(\"#global-search-container\"));\n        $(document).on('keyup', _.bind(hotkeyController.handleKeyUp, hotkeyController));\n\n        if ('advanced' === search_type) {\n            var $advSearchIcon = $(\"#search_adv_toggle\");\n            structured.get$AllOf().on('keyup', _.bind(advController.handleKeyUpStructured, advController));\n            $advSearchIcon.on('click', _.bind(advController.handleToggleAdvancedClick, advController));\n\n            var topBarQuery = storeSearchSuggestions.getQuery(),\n                flatQuery = structured.getFlatQuery();\n\n            if (!topBarQuery) {\n                storeSearchSuggestions.setQuery(flatQuery);\n            } else {\n                structured.setFlatQuery(topBarQuery);\n            }\n        }\n        Imgur.Util.triggerPerformanceCheckpoint('search');\n    },\n\n    initIdleMonitor: function initIdleMonitor() {\n        var logResumedBrowsing = function logResumedBrowsing(lastActive, now) {\n            Imgur.Util.jafoLog({\n                event: 'resumedBrowsing',\n                meta: {\n                    inactive: now - lastActive\n                }\n            });\n        };\n\n        var presence = new Incus.Presence(5 * 60);\n        presence.on('return', logResumedBrowsing);\n    },\n\n    _getAjaxGet: function _getAjaxGet() {\n        return function (url, data, success, fail) {\n            fail = fail || _.noop;\n            success = success || _.noop;\n\n            return $.get(url, data, success).fail(fail);\n        };\n    },\n\n    produceLinkify: function produceLinkify(emitter) {\n        var linkify = new Imgur.Linkifier();\n\n        // order matters; first one to grab or say it can view gets it\n\n        linkify.addGrabber(new Imgur.Linkify.ImgurGrabber(Imgur.Environment.host, Imgur.Environment.cdnUrl));\n        linkify.addGrabber(new Imgur.Linkify.PlainGrabber());\n        linkify.addGrabber(new Imgur.Linkify.UsernameGrabber());\n        linkify.addGrabber(new Imgur.Linkify.HashtagGrabber());\n        linkify.addGrabber(new Imgur.Linkify.OpGrabber(emitter));\n\n        linkify.addViewer('youtube', new Imgur.Linkify.YoutubeViewer());\n        linkify.addViewer('html5video', new Imgur.Linkify.Html5VideoViewer());\n        linkify.addViewer('gifv', new Imgur.Linkify.ImgurGifvViewer(new Imgur.Linkify.Html5VideoViewer()));\n        linkify.addViewer('imgur', new Imgur.Linkify.ImgurViewer());\n        linkify.addViewer('image', new Imgur.Linkify.ImageViewer());\n\n        return linkify;\n    },\n\n    /* TODO: move cta functions below into their own class */\n    produceCtaBanner: function produceCtaBanner(url) {\n        var env = this.getConfig('global');\n        var ref = document.referrer;\n        var pathname = window.location.pathname;\n        var ctaProps;\n        var isPromoted;\n\n        if (!env.ctaConfig) {\n            return;\n        }\n\n        try {\n            isPromoted = this.ctaOnPromoted();\n\n            // be rid of old promoted if not needed\n            if (!isPromoted && $('.cta-content.pp-banner:visible').length > 0) {\n                ReactDOM.unmountComponentAtNode(document.getElementById('cta-container-placeholder'));\n            }\n\n            if (isPromoted) {\n                ctaProps = this.getFirstActiveCtaProps(env, 'promoted', pathname);\n            } else if (Imgur.Environment.ctaConfig.betainvite) {\n                ctaProps = this.getFirstActiveCtaProps(Imgur.Environment, 'betainvite', pathname);\n            } else if (ref.match(/^https?:\\/\\/([^\\/]+\\.)?twitch\\.tv(\\/|$)/i) || ref.match(/^https?:\\/\\/([^\\/]+\\.)?reddit\\.com\\/r\\/(gaming|games|dota2|globaloffensive|pcmasterrace|wow|ffxiv|smashbros|pathofexile|minecraft|dayz|leagueoflegends|starcraft|callofduty|battlefield)/i)) {\n                ctaProps = this.getFirstActiveCtaProps(env, 'gaming', pathname);\n            } else if (ref.match(/^https?:\\/\\/([^\\/]+\\.)?facebook\\.com(\\/|$)/i) || env.likeDay) {\n                ctaProps = this.getFirstActiveCtaProps(env, 'facebook', pathname);\n            } else if (ref.match(/^https?:\\/\\/([^\\/]+\\.)?(twitter\\.com|t\\.co)(\\/|$)/i) || env.followDay) {\n                ctaProps = this.getFirstActiveCtaProps(env, 'twitter', pathname);\n            } else if (ref.match(/^https?:\\/\\/([^\\/]+\\.)?pinterest\\.com(\\/|$)/i)) {\n                ctaProps = this.getFirstActiveCtaProps(env, 'pinterest', pathname);\n            } else if (env.ctaConfig['global']) {\n                ctaProps = this.getFirstActiveCtaProps(env, 'global', pathname);\n            }\n\n            ctaProps = env.ctaConfig['converted'] ? this.getFirstActiveCtaProps(env, 'converted', pathname) : ctaProps;\n\n            if (this.isSkipCta(ctaProps, pathname)) {\n                ctaProps = this.getFirstActiveCtaProps(env, env.signed ? 'user' : 'anonymous', pathname);\n            }\n\n            // leaderboard ads should always win over CTA for anon users\n            if (this.leaderboardBeatsCta(ctaProps)) {\n                return;\n            }\n\n            if (this.hideCta(env, ctaProps) || this.isFrontPageOnly(ctaProps, pathname)) {\n                ReactDOM.unmountComponentAtNode(document.getElementById('cta-container-placeholder'));\n                return;\n            }\n        } catch (e) {\n            // if local storage is disabled, just assume it's closed\n            return;\n        }\n\n        if (!env.signed && url && ctaProps.url == '/') {\n            ctaProps.url = url;\n        }\n        var component;\n        switch (ctaProps.type) {\n            case 'button':\n                component = React.createElement(Imgur.Banner.Cta, ctaProps);\n                break;\n            case 'nobutton':\n                component = React.createElement(Imgur.Banner.CtaNoButton, ctaProps);\n                break;\n            case 'custom':\n                component = React.createElement(Imgur.Banner[ctaProps.jsReactClassName], ctaProps);\n                break;\n        }\n\n        if (component) {\n            ReactDOM.render(component, document.getElementById('cta-container-placeholder'));\n            this.logCtaRender(ctaProps.trackingName);\n        }\n    },\n\n    logCtaRender: _.once(function (bannerName) {\n        Imgur.Util.jafoLog({\n            event: 'bannerAppear',\n            meta: {\n                banner: bannerName,\n                bannerType: 'headerCTA',\n                location: 'aboveTopNavBar',\n                platform: 'web'\n            }\n        });\n        if (bannerName === 'mobileApps') {\n            Imgur.Util.jafoLog({\n                event: 'appBannerAppear',\n                meta: {\n                    banner: bannerName,\n                    bannerType: 'bannerCTA',\n                    location: 'aboveTopNavBar',\n                    platform: 'web'\n                }\n            });\n        }\n    }),\n\n    produceCtaLightbox: function produceCtaLightbox(url) {\n        var env = this.getConfig('global');\n        var ref = document.referrer;\n        var pathname = window.location.pathname;\n        var ctaProps;\n\n        if (!env.ctaConfig) {\n            return;\n        }\n        if (!window.localStorage) {\n            return;\n        }\n\n        try {\n            if (env.ctaConfig['global-lightbox']) {\n                ctaProps = this.getFirstActiveCtaProps(env, 'global-lightbox', pathname);\n            }\n\n            if (this.isSkipCta(ctaProps, pathname) || this.hideCta(env, ctaProps) || this.isFrontPageOnly(ctaProps, pathname)) {\n                ReactDOM.unmountComponentAtNode(document.getElementById('cta-lightbox-placeholder'));\n                return;\n            }\n        } catch (e) {\n            // if local storage is disabled, just assume it's closed\n            return;\n        }\n\n        if (!env.signed && url && ctaProps.url == '/') {\n            ctaProps.url = url;\n        }\n\n        var component;\n        switch (ctaProps.type) {\n            case 'custom':\n                component = React.createElement(Imgur.Lightbox[ctaProps.jsReactClassName], ctaProps);\n                break;\n        }\n\n        if (component) {\n            var root = document.getElementById('cta-lightbox-placeholder');\n            root.style.display = 'block';\n            ReactDOM.render(component, root);\n            this.logCtaLightboxRender(ctaProps.trackingName);\n        }\n    },\n\n    logCtaLightboxRender: _.once(function (bannerName) {\n        Imgur.Util.jafoLog({\n            event: 'bannerAppear',\n            meta: {\n                banner: bannerName,\n                bannerType: 'lightbox',\n                platform: 'web'\n            }\n        });\n        if (bannerName === 'mobileApps') {\n            Imgur.Util.jafoLog({\n                event: 'appBannerAppear',\n                meta: {\n                    banner: bannerName,\n                    bannerType: 'lightbox',\n                    platform: 'web'\n                }\n            });\n        }\n    }),\n\n    /* NOTE: Throws exception if localStorage not available */\n    getFirstActiveCtaProps: function getFirstActiveCtaProps(env, configName, pathname) {\n        var config = env.ctaConfig[configName];\n\n        for (var ctaIndex = 0; ctaIndex < config.length; ctaIndex++) {\n            var ctaProps = config[ctaIndex];\n\n            if (!this.isSkipCta(ctaProps, pathname)) {\n                return ctaProps;\n            }\n        }\n        return null;\n    },\n\n    /* NOTE: Throws exception if localStorage not available */\n    isSkipCta: function isSkipCta(ctaProps, pathname) {\n        return !ctaProps || !ctaProps.active || this.hasSeenCta(ctaProps) || this.showOnHashOnly(ctaProps) || this.isFrontPageOnly(ctaProps, pathname);\n    },\n\n    leaderboardBeatsCta: function leaderboardBeatsCta(ctaProps) {\n        var galleryConfig = this.getConfig('gallery');\n\n        if (_typeof(Imgur.Environment.auth) === 'object' && Imgur.Environment.auth.id) {\n            // authenticated user\n            return false;\n        }\n\n        if ((typeof galleryConfig === 'undefined' ? 'undefined' : _typeof(galleryConfig)) !== 'object') {\n            // Not in any sort of gallery context\n            return false;\n        }\n\n        if (_typeof(galleryConfig.image) !== 'object') {\n            // Not on an inside page - carry on\n            return false;\n        } else if (ctaProps && ctaProps.insidePageOK) {\n            return false;\n        }\n\n        if (this.ctaOnPromoted()) {\n            return false;\n        }\n\n        // that's all the right checks - suppress that CTA!\n        return true;\n    },\n\n    isFrontPageOnly: function isFrontPageOnly(ctaProps, pathname) {\n        if (ctaProps.insidePageOK) {\n            return false;\n        }\n        return pathname != '/' && pathname.indexOf('/new/') != 0 && pathname.indexOf('/hot/') != 0;\n    },\n\n    showOnHashOnly: function showOnHashOnly(ctaProps) {\n        return ctaProps.pageHash && (!Imgur.InsideNav || Imgur.InsideNav && Imgur.InsideNav.getInstance().getHash() != ctaProps.pageHash);\n    },\n\n    ctaOnPromoted: function ctaOnPromoted() {\n        try {\n            return Imgur.InsideNav && Imgur.InsideNav.getInstance().getImage().isAd;\n        } catch (e) {\n            // fall back for direct nav\n            return Imgur.Environment.image && Imgur.Environment.image.isAd;\n        }\n    },\n\n    hideCta: function hideCta(env, ctaProps) {\n        if (env.isSubdomain) {\n            return true;\n        }\n\n        if (!ctaProps.active) {\n            return true;\n        }\n\n        if (Imgur.Environment.auth.is_spammer) {\n            // Spammers see a banner saying that they're a spammer, so don't show a regular CTA.\n            return true;\n        }\n\n        if (ctaProps.targetAdblock && !window.usesABP) {\n            return true;\n        }\n\n        if (ctaProps.targetNoApp && Imgur.Environment.auth.hasApp) {\n            return true;\n        }\n\n        return this.hasSeenCta(ctaProps);\n    },\n\n    hasSeenCta: function hasSeenCta(ctaProps) {\n        return ctaProps.localStorageName && localStorage && localStorage.getItem(ctaProps.localStorageName) != undefined;\n    },\n\n    startExperiments: function startExperiments() {\n        Imgur.Experiments.startExperiments(Imgur.Environment.experiments);\n    },\n\n    produceJafo: function produceJafo() {\n        var env = this.getConfig('analytics'),\n            jafo = new Imgur.Jafo(Imgur.Environment.auth.id, env.logPixel);\n\n        // bind the HTML data attribute version...\n        jafo.bindDataAttr();\n\n        // make a global endpoint for easy dev use\n        Imgur.Util.jafoLog = _.bind(jafo.logAction, jafo);\n        Imgur.Util.jafoLog.direct = _.bind(jafo.directFire, jafo);\n\n        Imgur.Util.registerExperiment = _.bind(jafo.registerExperiment, jafo);\n\n        Imgur.Util.registerExperimentData = _.bind(jafo.registerExperimentData, jafo);\n\n        // debug\n        Imgur.Dev.DebugVar('jafo', jafo);\n    },\n\n    produceGifgen: function produceGifgen($target, steps, src) {\n        /*\n        var render_overlay_base64 = function(text) {\n        };\n         var finished_cb = function() {\n            var url = cortex.query.getValue(),\n                source = cortex.src.getValue(),\n                start = cortex.cut_start.getValue(),\n                stop = start + cortex.cut_duration.getValue(),\n                overlays = cortex.overlays.getValue();\n             for(var i = 0; i < overlays.length; i++) {\n                overlays[i].base64 = render_overlay_base64(overlays[i].text).substr(\"data:image/png;base64,\".length); // cut off the base64 header\n            }\n             var unload_handler = function(e) {\n                var msg = 'Are you sure you want to leave?';\n                (e||window.event).returnValue = msg;\n                return msg;\n            };\n             $(window).on('beforeunload', unload_handler);\n             $.post('/vidgif/upload', {\n                source: source,\n                url: url,\n                start: start,\n                stop: stop,\n                overlays: overlays\n            }, function(response) {\n                if(!response.data.error) {\n                    var timer_ref = null,\n                        get_timer_ref = (function() { return timer_ref });\n                     var poller = create_poller(get_timer_ref, unload_handler);\n                     cortex.ticket.set(response.data.ticket);\n                     if(window.history) {\n                        window.history.pushState({\"ticket\": response.data.ticket}, null, '/vidgif?ticket=' + response.data.ticket);\n                    }\n                     timer_ref = window.setInterval(poller, 500);\n                } else {\n                    cortex.upload_failure.set(response.data.error);\n                }\n            });\n        };\n         create_poller = (function(get_timer_ref, unload_handler) {\n            return function() {\n                $.ajax({\n                    url: '/vidgif/poll/' + cortex.ticket.getValue(),\n                    success: function(response) {\n                        cortex.upload_step.set(response.data.step);\n                        cortex.upload_progress_overall.set(response.data.progress_overall);\n                        cortex.upload_progress_step.set(response.data.progress_step);\n                         if(response.data.failed) {\n                            window.clearInterval(get_timer_ref());\n                             if(response.data.error_message) {\n                                cortex.upload_failure.set(response.data.error_message);\n                            } else {\n                                cortex.upload_failure.set('An error occurred.');\n                            }\n                         } else if('hash' in response.data) {\n                            $(window).off('beforeunload', unload_handler);\n                            window.clearInterval(get_timer_ref());\n                            window.location = '/' + response.data.hash;\n                        }\n                    }\n                });\n            };\n        });\n        */\n\n        var div = React.createClass({\n            displayName: 'div',\n\n            render: function render() {\n                return React.DOM.div();\n            }\n        });\n\n        var routes = React.createElement(\n            ReactRouter.Route,\n            { handler: Imgur.Gifgen, path: '/vidgif', src: src },\n            React.createElement(ReactRouter.Route, { name: 'video-specific', handler: Imgur.Gifgen.Video, path: '/vidgif/video/between/:start/:duration' }),\n            React.createElement(ReactRouter.Route, { name: 'video-general', handler: Imgur.Gifgen.Video, path: '/vidgif/video', params: { start: undefined, stop: undefined } }),\n            React.createElement(ReactRouter.Route, { name: 'upload', handler: Imgur.Gifgen.Upload, path: '/vidgif/ticket/:ticket' }),\n            React.createElement(ReactRouter.DefaultRoute, { name: 'query', handler: div })\n        );\n\n        ReactRouter.run(routes, ReactRouter.HistoryLocation, function (Handler, state) {\n            var ReactDOM = window.ReactDOM || window.React;\n            ReactDOM.render(React.createElement(Handler, state), $target.get(0));\n        });\n    },\n\n    _incusInstance: function _incusInstance() {\n        if (!Imgur.Environment.auth || typeof Imgur.Environment.auth.incus_id === 'undefined') {\n            return;\n        }\n\n        if (!this._.incus) {\n            var uid = Imgur.Environment.auth.incus_id;\n            this._.incus = new Incus.Client(window.location.protocol + '//rt.' + Imgur.Environment.host, uid, window.location.pathname);\n        }\n        return this._.incus;\n    },\n\n    initNotifications: function initNotifications(milestone_levels, reputation_levels) {\n        var incus = this._incusInstance();\n        if (!incus) {\n            return;\n        }\n        this._initHBaseNotifications(milestone_levels, reputation_levels, incus);\n\n        var presence = new Incus.Presence();\n        new Incus.Presence.IncusNotifier(presence, incus);\n    },\n\n    bindIncusGallery: function bindIncusGallery(emitter) {\n        var incus = this._incusInstance();\n        var galleryCfg = this.getConfig('gallery');\n\n        if (incus && galleryCfg && galleryCfg.baseURL) {\n            var baseUrl = galleryCfg.baseURL;\n\n            emitter.on('select', null, function (image) {\n                incus.setPage(baseUrl + '/' + image.hash);\n            });\n        }\n\n        var imagePointsUpdater = new Imgur.PointsUpdater.Image('image', emitter);\n        incus.on('imagePoints', _.bind(imagePointsUpdater.handleUpdate, imagePointsUpdater));\n        var commentPointsUpdater = new Imgur.PointsUpdater.Comment('comment', emitter);\n        incus.on('commentPoints', _.bind(commentPointsUpdater.handleUpdate, commentPointsUpdater));\n\n        emitter.on('select', commentPointsUpdater, commentPointsUpdater.kill);\n        emitter.on('select', commentPointsUpdater, imagePointsUpdater.kill);\n    },\n\n    bindIncusMessages: function bindIncusMessages(messages) {\n        this._.messageDropdown.setState({\n            oldMessages: messages\n        });\n    },\n\n    _initHBaseNotifications: function _initHBaseNotifications(milestone_levels, reputation_levels, incus) {\n        var $eventsContainer = $('#topbar .notification-events');\n        var $conversationsContainer = $('#topbar .notification-conversations');\n\n        $eventsContainer.removeClass('nodisplay');\n        $conversationsContainer.removeClass('nodisplay');\n\n        var eventDropdownProps = {\n            socket: incus,\n            reputation: new Imgur.Reputation(reputation_levels)\n        };\n        var messageDropdownProps = {\n            unreadCount: Number(Imgur.Environment.auth.notifications_messages),\n            socket: incus\n        };\n        var ReactDOM = window.ReactDOM || window.React;\n        ReactDOM.render(React.createElement(Imgur.Notification.EventDropdown, eventDropdownProps), $eventsContainer.get(0));\n        this._.messageDropdown = ReactDOM.render(React.createElement(Imgur.Notification.MessageDropdown, messageDropdownProps), $conversationsContainer.get(0));\n\n        var getparams = Imgur.Util.getQueryParams(window.location.search);\n\n        if (!_.isUndefined(getparams['nid'])) {\n            // There is at least one notification to be marked as read\n\n            $.ajax({\n                url: '/account/notifications/mark',\n                method: 'POST',\n                data: _.merge({}, getparams, {\n                    mark_type: 'read',\n                    'notifications[0][foreign_id]': getparams['nid'],\n                    'notifications[0][foreign_type]': getparams['ntype'],\n                    'notifications[0][snapshot]': getparams['nsnap'],\n                    msid: Imgur.Environment.msid\n                })\n            });\n\n            var notification_key = [getparams['ntype'], getparams['nid']].join(':');\n            Imgur.Util.jafoLog({\n                'event': 'notificationRead',\n                meta: {\n                    notifNum: getparams['nnum'],\n                    notificationId: notification_key,\n                    notificationTrigger: getparams['ntype']\n                }\n            });\n\n            // Replace a URL that looks like 'imgur.com/foobar?xyz...' with 'imgur.com/foobar'\n            if (window.history && window.history.replaceState) {\n                var newUrl = \"\";\n\n                if ('lr' in getparams) {\n                    newUrl = window.location.href.replace(window.location.search, '?lr=' + parseInt(getparams['lr']));\n                } else {\n                    newUrl = window.location.href.replace(window.location.search, \"\");\n                }\n\n                window.history.replaceState(null, document.title, newUrl);\n            }\n        }\n    },\n\n    produceFavorite: function produceFavorite(params) {\n        var imgurFavorite = new Imgur.Favorite(params);\n\n        imgurFavorite._init();\n\n        if (!this._.favKeyBound) {\n            $(document).keydown(_.bind(imgurFavorite.handleKey, imgurFavorite));\n\n            this._.favKeyBound = true;\n        }\n\n        return imgurFavorite;\n    },\n\n    produceApocalypseCta: function produceApocalypseCta(zombieScore, humanScore) {\n        ReactDOM.render(React.createElement(Imgur.Elements.ApocalypseCta, { zombieScore: zombieScore, humanScore: humanScore }), document.getElementById('apocalypse-cta'));\n    }\n});\n//# sourceMappingURL=widget.js.map\n","Namespace('Imgur');\n\nImgur.Loader = Class.extend({\n    init: function($el, $container) {\n        this._ = {\n            counter: 0,\n            el: {\n                $loader: $el,\n                $container: $container || $el\n            }\n        };\n    },\n\n    get$Loader: function() {\n        return this._.el.$loader;\n    },\n\n    isHidden: function() {\n        return this._.el.$loader.css('display') == 'none';\n    },\n\n    show: function() {\n        this._.counter++;\n\n        this._.el.$loader.css('display', 'inherit');\n        this._.el.$container.removeClass('nodisplay');\n    },\n\n    hide: function() {\n        this._.counter--;\n\n        if(0 == this._.counter) {\n            this._.el.$loader.css('display', 'none');\n            \n            if(!this._.el.$container.hasClass('nodisplay')) {\n                this._.el.$container.addClass('nodisplay');\n            }\n        }\n    }\n});\n","Namespace('Imgur');\n\nImgur.Nanoscroll = React.createClass({\n    displayName: 'Nanoscroll',\n\n    propTypes: {\n        options: React.PropTypes.object\n    },\n\n    getDefaultProps: function() {\n        return {\n            options: {},\n            contentClassNames: '',\n            nanoStyle: {},\n            contentStyle: {},\n        };\n    },\n\n    componentDidMount: function() {\n        $(this.refs['nano-container']).nanoScroller(this.props.options);\n    },\n\n    componentDidUpdate: function() {\n        $(this.refs['nano-container']).nanoScroller(this.props.options);\n    },\n\n    render: function() {\n        return React.DOM.div({ref: 'nano-container', className: 'nano', style: this.props.nanoStyle},\n            React.DOM.div({className: 'content ' + this.props.contentClassNames, style: this.props.contentStyle}, this.props.children)\n        );\n    }\n});\n","Namespace('Imgur');\n\nImgur.BodyModal = {\n    componentDidMount: function() {\n        $('body').on('click', this.handleBodyClick);\n    },\n\n    componentWillUnmount: function() {\n        $('body').off('click', this.handleBodyClick);\n    },\n\n    getInitialState: function() {\n        return {\n            bodyModalVisible: false\n        };\n    },\n\n    handleBodyClick: function(e) {\n        var ReactDOM = window.ReactDOM || window.React;\n        if($(e.target).closest(ReactDOM.findDOMNode(this)).length === 0) {\n            this.setState({\n                bodyModalVisible: false\n            });\n        }\n    },\n\n    handleBodyModalClick: function(e) {\n        this.setState({\n            bodyModalVisible: !this.state.bodyModalVisible\n        });\n    }\n};\n","Namespace('Imgur.Elements');\n\nImgur.Elements.FlashyText = React.createClass({\n    propTypes: {\n        value: React.PropTypes.string.isRequired\n    },\n\n    getInitialState: function() {\n        return {\n            flashNumber: 0\n        };\n    },\n\n    componentWillReceiveProps: function(nextProps) {\n        if(this.props.value !== nextProps.value) {\n            this.setState({\n                flashNumber: this.state.flashNumber + 1\n            });\n        }\n    },\n\n    render: function() {\n        return React.createElement(React.addons.CSSTransitionGroup, {transitionName: 'flash', transitionLeave: false},\n            React.DOM.span({key: this.state.flashNumber}, this.props.value)\n        );\n    }\n});\n","Imgur.Reputation = Class.extend({\n    init: function(levels) {\n        this.levels = levels;\n    },\n\n    getLevelName: function(reputation) {\n        for(var i = 0; i < this.levels.length; i++) {\n            if(reputation < this.levels[i].reputation) {\n                return this.levels[i].name;\n            }\n        }\n\n        return this.levels[this.levels.length - 1].name;\n    }\n});\n","Imgur.PointsUpdater = Class.extend({\n\n    init: function(type, emitter) {\n        this.type = type;\n        this.emitter = emitter;\n        this.aggregators = {};\n    },\n    \n    getForeignId: function(pointUpdate) {\n        throw 'abstract';\n    },\n\n    getPointsValue: function(pointUpdate) {\n        throw 'abstract';\n    },\n\n    handleUpdate: function(pointUpdate) {\n        var pointForeignId = this.getForeignId(pointUpdate);\n        var pointValue = this.getPointsValue(pointUpdate);\n\n        if(!(pointForeignId in this.aggregators)) {\n            this.aggregators[pointForeignId] = new Imgur.PointsUpdater.Aggregator(this.emitter);\n        }\n        \n        var pointUpdateFull = _.merge({}, pointUpdate, {\n            points: pointValue,\n            type: this.type\n        });\n\n        this.aggregators[pointForeignId].handleUpdate(pointUpdateFull);\n    },\n\n    kill: function() {\n        _.each(this.aggregators, function(aggregator) {\n            aggregator.kill();\n        });\n\n        this.aggregators = {};\n    }\n\n});\n","Imgur.PointsUpdater.Aggregator = Class.extend({\n\n    init: function(emitter) {\n        this.emitter = emitter;\n        this.pointsUpdate = null;\n\n        this.timerRef = window.setInterval(_.bind(this.flush, this), 3000);\n    },\n    \n    handleUpdate: function(pointsUpdate) {\n        this.pointsUpdate = pointsUpdate;\n    },\n\n    flush: function() {\n        if(this.pointsUpdate) {\n            this.emitter.trigger('pointUpdate', this.pointsUpdate);\n        }\n\n        this.pointsUpdate = null;\n    },\n\n    kill: function() {\n        window.clearInterval(this.timerRef);\n    }\n\n});\n","Imgur.PointsUpdater.Comment = Imgur.PointsUpdater.extend({\n    getForeignId: function(pointUpdate) {\n        return Number(pointUpdate.comment);\n    },\n\n    getPointsValue: function(pointUpdate) {\n        return Number(pointUpdate.points);\n    }\n});\n","Imgur.PointsUpdater.Image = Imgur.PointsUpdater.extend({\n    getForeignId: function(pointUpdate) {\n        return pointUpdate.hash;\n    },\n\n    getPointsValue: function(pointUpdate) {\n        return pointUpdate.ups - pointUpdate.downs;\n    }\n});\n","Namespace('Imgur.Notification');\n\nImgur.Notification = Imgur.extend({\n    init : function(params) {\n        this._ = $.extend(true, {\n            'openingDropDown' : false,\n            'baseUrl'         : '/account/notifications',\n            'loaderSrc'       : '//s.imgur.com/images/loaders/ddddd1_181817/48.gif',\n            'cacheArray'      : {},\n            'originalTitle'   : document.title,\n            'unreadCounts'    : {},\n            'titleTimeout'    : null,\n            'focusType'       : 'focus'\n        }, params);\n\n        this.setFocusHandler();\n        return this._;\n    },\n\n    setTitle : function(title) {\n        this._.originalTitle = title;\n        this._updateTitleToReflectCount();\n    },\n\n    setUnreadCount: function(which, count) {\n        this._.unreadCounts[which] = count;\n        this._updateTitleToReflectCount();\n    },\n\n    _updateTitleToReflectCount: function() {\n        var sum = 0;\n\n        for(var k in this._.unreadCounts) {\n            sum += this._.unreadCounts[k];\n        }\n\n        if(sum > 0) {\n            document.title = '(' + sum + ') ' + this._.originalTitle;\n        } else {\n            document.title = this._.originalTitle;\n        }\n    },\n\n    viewed : function(id, type) {\n        var data = { 'id' : id, 'type': type };\n        this.updateSubCounter(id, type);\n        \n        var self = this;\n        $.ajax({\n            'type'    : 'POST',\n            'url'     : this._.baseUrl + '/viewed/',\n            'data'    : data\n        });\n    },\n    \n    showNotificationsDropdown : function() {\n        var self = this;\n        \n        var $dropdown = $('<div/>', {id: 'notification-dropdown'}).html('<img src=\"http://s.imgur.com/images/loaders/181817_ededed/24.gif\" alt=\"\">');\n        var $wrapper  = $('<div/>', {'class': 'notification-dropdown-wrapper'}).html($dropdown);\n        $('.notification-container').append($wrapper);\n        \n        $wrapper.mouseleave(self.hideNotificationsDropdown);\n        \n        var insertData = function (replies, messages) {\n            $dropdown.html('<a href=\"//'+Imgur.getInstance()._.host+'/user/'+self._.auth.url+'/replies\">replies ('+replies+')</a>');\n            $dropdown.append('<div class=\"hairline\"></div>');\n            $dropdown.append('<a href=\"//'+Imgur.getInstance()._.host+'/account/messages\">messages ('+messages+')</a>');\n        }\n        \n        if (typeof(this._.cacheArray.dropdown) !== 'undefined') {\n            insertData(this._.cacheArray.dropdown.replies, this._.cacheArray.dropdown.messages)\n        } else {\n            $.ajax({\n                'type'    : 'GET',\n                'url'     : '//'+Imgur.getInstance()._.host+'/account/notifications.json',\n                'crossDomain' : true,\n                'xhrFields': { withCredentials: true },\n                'success' : function(response) {\n                    insertData(response.data.trending_captions.length, response.data.messages.length);\n                    \n                    self._.cacheArray.dropdown = {\n                        replies : response.data.trending_captions.length,\n                        messages: response.data.messages.length\n                    };\n                }\n            \n            });\n        }\n    },\n    \n    initNotificationsDropdown : function () {\n        var self = this;\n        \n        $('.notification-container').mouseenter(function () {\n            self._.openingDropDown = true;\n\n            setTimeout(function () {\n                if (self._.openingDropDown ) {\n                    self.showNotificationsDropdown();\n                }\n            }, 600);\n        }).mouseleave(\n            function () {\n                self._.openingDropDown = false;\n            }\n        );\n    },\n    \n    hideNotificationsDropdown : function() {\n        $('.notification-dropdown-wrapper').fadeOut('fast', function() {\n            this.remove();\n        });\n    },\n\n    updateSubCounter : function(ids, type) {\n        var $counter = $('#unread-'+type);\n        var count    = parseInt($counter.html()) - ids.length;\n\n        if(count > 0) {\n            $counter.html('('+count+')');\n        } else {\n            $counter.remove();\n        }\n    },\n\n    updateTotalCounter : function(remove, add) {\n        var $counter = $('#topbar').find('.notification-area');\n        \n        if(add) {\n            var count = 0;\n            if($counter.length && parseInt($counter.html())) {\n                count = parseInt($counter.html());\n            } else if(!$counter.length) {\n                this.insertNotificationArea();\n                $counter = $('#topbar').find('.notification-area');\n            }\n            \n            count  = count + remove;\n        } else {\n            var count  = parseInt($counter.html()) - remove;\n        }\n\n        if(count < 1)  {\n            $('.notification-container').remove()\n        } else {\n            $counter.html(count);\n        }\n    },\n    \n    insertNotificationArea : function() {\n        $('.user-nav .account').before(\n            '<li class=\"notification-container red\"> \\\n                <a href=\"//'+Imgur.getInstance()._.host+'/account/notifications\" class=\"notification-area new-notification \">0</a> \\\n            </li>'\n        );\n        \n        this.initNotificationsDropdown();\n    },\n    \n    setFocusHandler : function(focusCb) {\n        if(this._.focusType == 'focus') {\n            if(typeof focusCb == 'function') {\n                focusCb();\n                focusCb = null;\n            }\n        }\n        \n        var self = this;\n        $(window).unbind('blur');\n        $(window).unbind('focus');\n        $(window).on(\"blur focus\", function(e) {  \n            if (self._.focusType != e.type && e.type == \"focus\") {   //  reduce double fire issues\n                if(typeof focusCb == 'function') {\n                    focusCb();\n                    focusCb = null;\n                }\n            }\n\n            self._.focusType = e.type;\n        });\n    },\n    \n    initRealtime : function(socket) {\n        var self = this;\n        socket.on('newMessage',       function(data) { self.handleMessageNotification(data); });\n        socket.on('newReply',         function(data) { self.handleReplyNotification(data);   });\n        socket.on('readNotification', function(data) {\n            if(typeof data.count != 'undefined'){\n                self.updateTotalCounter(data.count);\n            }\n        });\n        //socket.on('newComment',        function(data) { self.handleNewComment(data);         });\n    },\n    \n    handleMessageNotification : function(data) {\n        var message = '<span class=\"bold margin-bottom\">New message from ' + Imgur.Util.truncate(data.from, 15, true) +'</span><br>'+Imgur.Util.htmlEntity(Imgur.Util.truncate(data.body, 40, true));\n        var link    = '//'+Imgur.getInstance()._.host+'/account/messages';\n        \n        this.showGrowl(message, link, '');\n        this.updateTotalCounter(1, true);\n    },\n    \n    handleReplyNotification : function(data) {\n        var message = '<span class=\"bold margin-bottom\">You have a new reply!</span>';\n        var link    = '//'+Imgur.getInstance()._.host+'/user/'+this._.auth.url+'/replies';\n        var image   = '//i.imgur.com/'+data.hash+'b.jpg';\n        \n        this.showGrowl(message, link, image);\n        this.updateTotalCounter(1, true);\n    },\n\n    /*handleNewComment : function(data) {\n        if (data.comment.author != Imgur.Environment.auth.url) {\n            Imgur.Caption.getInstance().mergeCaption(data.comment.hash, data.comment);\n            var oldHeight = $(document).height();\n            var oldScrollTop = $(window).scrollTop();\n            var oldBottom = $(window).scrollTop() + $(window).height();\n            Imgur.InsideNav.getInstance().processCaptions();\n            var newHeight = $(document).height();\n            var captionOffset = $('[data-id=\"' + data.comment.id + '\"]').offset();\n\n            //If comment hasn't rendered then we do nothing\n            if (captionOffset) {\n                //Prevent jumping when new comment is added off screen\n                if (captionOffset.top < oldScrollTop) {\n                    $(window).scrollTop($(window).scrollTop() + newHeight - oldHeight);\n                }\n            }\n        }\n    },*/\n\n    showGrowl : function(message, link, image) {\n        noty({ 'text': message, 'link': link, 'image': image });\n    }\n});\n\nClass.addSingleton(Imgur.Notification);\n","Namespace('Imgur.Notification');\n\nImgur.Notification.UIMessage = Class.extend({\n    /**\n     * Reached mode: if the count exactly equals the milestone, then display a special message if set to true\n     */\n    init: function (reputation, levels, notification, reachedMode, host) {\n        this._ = {\n            reputation: reputation,\n            levels: levels,\n            reachedMode: reachedMode,\n            host: host\n        };\n    },\n\n    knowHowToRender: function (foreignType) {\n        return (['post', 'account', 'comment', 'trophy'].indexOf(foreignType) !== -1);\n    },\n\n    getLinkHref: function (foreignType, foreignData, foreignId, snapshot, timeLastRead) {\n        var hrefBase;\n\n        switch (foreignType) {\n            case 'post':\n                hrefBase = '//' + this._.host + '/gallery/' + foreignData.post.hash;\n                break;\n            case 'account':\n                hrefBase  = '//' + this._.host + '/user/' + Imgur.Environment.auth.url;\n                break;\n            case 'comment':\n                hrefBase = '//' + this._.host + '/gallery/' + foreignData.post.hash + '/comment/' + foreignId + '/1';\n                break;\n            case 'trophy':\n                hrefBase = '//' + this._.host + (foreignData.trophy.data_link ? foreignData.trophy.data_link : '/user/' + Imgur.Environment.auth.url);\n                break;\n        }\n\n        var unseen_count = $('.unseen-count').text();\n        var querystring = '';\n\n        querystring += '&nsnap=' + snapshot;\n        querystring += '&ntype=' + foreignType;\n        querystring += '&nid=' + foreignId;\n        querystring += '&nnum=' + (!!unseen_count ? unseen_count : 0);\n\n        // Remove prefix '&'\n        querystring = querystring.substr(1);\n\n        return hrefBase + '?' + querystring + '&lr=' + (timeLastRead === null ? 0 : timeLastRead);\n    },\n\n    getIcon: function (foreign_type, foreign_data) {\n        var image;\n\n        switch(foreign_type) {\n            case 'post':\n            case 'comment':\n                var post = foreign_data.post;\n                var thumb_hash = Number(post.is_album) ? post.album_cover : post.hash;\n                image = Imgur.Environment.cdnUrl + '/' + thumb_hash + 's.jpg';\n                break;\n            case 'trophy':\n                image = foreign_data.trophy.image_url;\n                break;\n            default:\n                image = null;\n                break;\n        }\n\n        return image;\n    },\n\n    getThumb: function (foreign_type, foreign_data) {\n        var thumb;\n        var icon = this.getIcon(foreign_type, foreign_data);\n\n        if(foreign_type == 'comment') {\n            thumb = React.DOM.div({className: 'thumb'},\n                React.DOM.img({src: icon}),\n                React.DOM.span({className: 'icon-comment-bubble'})\n            );\n        } else if (foreign_type == 'account') {\n            thumb = React.DOM.div({className: 'thumb'},\n                React.DOM.span({className: 'icon-stars-notoriety'})\n            );\n        } else if(icon !== null) {\n            thumb = React.DOM.div({className: 'thumb'},\n                React.DOM.img({src: icon})\n            );\n        }\n\n        return thumb;\n    },\n\n    getCardTitle: function(foreign_type, foreign_data) {\n        switch(foreign_type) {\n            case 'post':\n                return foreign_data.post.title;\n            case 'comment':\n                return foreign_data.comment.caption;\n            case 'trophy':\n                return 'New trophy!';\n            case 'account':\n                return 'New notoriety level!';\n        }\n    },\n\n    getCommentReplyTimeLastRead: function(evts) {\n        if('commentReply' in evts) {\n            return evts['commentReply'].milestone_read_time;\n        }\n\n        return 0;\n    },\n\n    getMilestoneLine: function(evt, notif_foreign_data) {\n        var contents = '';\n        var classes = {\n            'event': true,\n            'unseen': !evt.seen\n        };\n\n        //var milestone_levelcount = this._.levels[evt.event_type][evt.milestone_level];\n\n        switch(evt.event_type) {\n            case 'userNotoriety':\n                classes['event-notoriety'] = true;\n                contents = 'Congratulations! You\\'ve earned enough reputation points to move up one notoriety level. You are now ' + this._.reputation.getLevelName(evt.event_count) + '.';\n                break;\n\n            case 'postComment':\n                classes['event-comment'] = true;\n\n                /*\n                var seenCount = this._.levels[evt.event_type][evt.milestone_seen_level];\n                var newComments = 0;//milestone_levelcount - seenCount;\n\n                if(newComments > 0) {\n                    contents = [\n                        React.createElement(Imgur.Elements.FlashyText, {\n                            key: evt.milestone_level,\n                            value: String(newComments)\n                        }),\n                        ' new ' + Imgur.Util.pluralize(newComments, 'comment')\n                    ];\n                } else {\n                */\n                    contents = [\n                        React.createElement(Imgur.Elements.FlashyText, {\n                            key: evt.event_count,\n                            value: String(evt.event_count)\n                        }),\n                        ' ' + Imgur.Util.pluralize(evt.event_count, 'comment')\n                    ];\n                //}\n\n                break;\n\n            case 'postUpvote':\n                classes['event-upvote'] = true;\n\n                if(evt.event_count === 1) {\n                    contents = 'Your post received an upvote!';\n                /*\n                } else if(this._.reachedMode && (!evt.milestone_seen || evt.event_count === milestone_levelcount)) {\n                    contents = 'Your post reached ' + milestone_levelcount + ' ' + Imgur.Util.pluralize(milestone_levelcount, 'point') + '!';\n                */\n                } else {\n                    contents = [\n                        React.createElement(Imgur.Elements.FlashyText, {\n                            key: evt.milestone_level,\n                            value: String(evt.event_count)\n                        }),\n                        ' ' + Imgur.Util.pluralize(evt.event_count, 'point')\n                    ];\n                }\n                break;\n\n            case 'postView':\n                classes['event-view'] = true;\n\n                /*if(this._.reachedMode && (!evt.milestone_seen || evt.event_count === milestone_levelcount)) {\n                    contents = 'Your post reached ' + milestone_levelcount + ' views!';\n                } else {\n                */\n                    contents = [\n                        React.createElement(Imgur.Elements.FlashyText, {\n                            key: evt.milestone_level,\n                            value: String(evt.event_count)\n                        }),\n                        ' ' + Imgur.Util.pluralize(evt.event_count, 'view')\n                    ];\n                //}\n                break;\n\n            case 'postViral':\n                classes['event-viral'] = true;\n                contents = 'Nice! Your post made it to Most Viral!';\n                break;\n\n            case 'postEmbed':\n                classes['event-embed'] = true;\n\n                if(evt.event_count === 1) {\n                    contents = 'You\\'re famous! ' + evt.event_data.embed.publisher + ' thought your post was so great that they embedded it outside of Imgur.';\n                } else {\n                    contents = [\n                        'You\\'re famous! ', \n                        React.createElement(Imgur.Elements.FlashyText, {key: evt.milestone_level, value: String(evt.event_count)}),\n                        ' sites embedded your post. '\n                    ];\n                }\n                break;\n\n            case 'commentMention':\n                classes['event-mention'] = true;\n\n                if(evt.event_count === 1) {\n                    contents = [React.DOM.span({className: 'mention'}, evt.event_data.commentator.url), ' mentioned you in a comment.'];\n                } else {\n                    contents = [\n                        React.createElement(Imgur.Elements.FlashyText, {key: evt.milestone_level, value: String(evt.event_count)}),\n                        ' users mentioned you in a comment.'\n                    ];\n                }\n                break;\n\n            case 'commentUpvote':\n                classes['event-upvote'] = true;\n\n                if(evt.event_count === 1) {\n                    contents = 'Your comment received its first upvote!';\n                    /*\n                } else if(this._.reachedMode && (!evt.milestone_seen || evt.event_count === milestone_levelcount)) {\n                    contents = 'Your comment received ' + milestone_levelcount + ' ' + Imgur.Util.pluralize(milestone_levelcount, 'point') + '!';\n                    */\n                } else {\n                    contents = [\n                        React.createElement(Imgur.Elements.FlashyText, {\n                            key: evt.milestone_level,\n                            value: String(evt.event_count)\n                        }),\n                        ' ' + Imgur.Util.pluralize(evt.event_count, 'point')\n                    ];\n                }\n                break;\n\n            case 'commentTop7':\n                classes['event-top7'] = true;\n                contents = 'Your comment scored in the top 7 of the day. Nice job! ';\n                break;\n\n            case 'commentReply':\n                classes['event-reply'] = true;\n\n                /*\n                var seenCount = this._.levels[evt.event_type][evt.milestone_seen_level];\n                var newComments = milestone_levelcount - seenCount;\n\n                if(newComments > 1) {\n                    var repliesPlural = ((newComments == 1) ? 'reply' : 'replies');\n                    contents = [\n                        React.createElement(Imgur.Elements.FlashyText, {\n                            key: evt.milestone_level,\n                            value: String(newComments)\n                        }),\n                        ' new ' + repliesPlural\n                    ];\n                } else if(newComments == 1) {\n                    contents = evt.event_data.author.url + ' replied to your comment. ';\n                } else {\n                */\n                    var repliesPlural = ((evt.event_count == 1) ? 'reply' : 'replies');\n                    contents = [\n                        React.createElement(Imgur.Elements.FlashyText, {\n                            key: evt.milestone_level,\n                            value: String(evt.event_count)\n                        }),\n                        ' ' + repliesPlural\n                    ];\n                //}\n\n                break;\n\n            case 'userTrophy':\n                classes['event-trophy'] = true;\n                contents = notif_foreign_data.trophy.description;\n                break;\n        }\n\n        return React.DOM.p({key: evt.evt_type, className: classNames(classes)}, contents);\n    }\n});\n","Namespace('Imgur.NotificationBase');\n\nImgur.NotificationBase = Class.extend({\n    init : function(params) {\n        this._ = $.extend({\n            'viewing'               : {},\n            'type'                  : 'base',\n            'cdnUrl'                : '//i.imgur.com',\n            'baseUrl'               : '/account/notifications',\n            'noNotifications'       : '.no-notifications',\n            'notifications'         : {},\n            'notificationInstances' : {},\n            'handlingHistoryState'  : false,\n            'previous'              : {'type' : ''},\n            'el'                    : {\n                'noType'              : '.no-type',\n                'noNotifications'     : '.no-notifications',\n                'viewNotification'    : '.message-type',\n                'loaderId'            : '#notification-loader',\n                'selectedButtonClass' : 'selected',\n            },\n            'lookupTypes'             : {\n                'trending_captions'   : 'Replies',\n                'messages'            : 'Message'\n            }\n        }, params);\n        \n        return this._;\n    },\n\n    viewed : function(ids, type) {\n        if(ids instanceof Object) {\n            if(ids.length) { Imgur.Notification.getInstance().viewed(ids, type); }\n        } else if(ids) {\n            Imgur.Notification.getInstance().viewed([ids], type);\n        }\n    },\n    \n    showDisabledNotification : function(type) {\n        type = type.charAt(0).toUpperCase() + type.slice(1);\n        $(this._.el.noType).text(type);\n\n        $(this._.el.noNotifications + ' .disabled').show();\n        $(this._.el.noNotifications + ' .empty').hide();\n        $(this._.el.noNotifications).show();\n        this.hideLoader();\n    },\n\n    showNoNotification : function(type) {\n        $(this._.el.noType).text(type);\n        $(this._.el.noNotifications + ' .disabled').hide();\n        $(this._.el.noNotifications + ' .empty').show();\n        $(this._.el.noNotifications).show();\n        \n    \t$('.gallery-images img').tipsy({\n\t    gravity: 'n',\n\t    opacity: 0.95,\n\t    offset: -8,\n\t    html: true\n\t});\n    },\n\n    hideNoNotifications : function() {\n        $(this._.el.noNotifications).hide();\n    },\n\n    showLoader : function() {\n        this.hideNoNotifications();\n        $(this._.el.loaderId).show();\n    },\n\n    hideLoader : function() {\n        $(this._.el.loaderId).hide();\n    },\n\n    clearLoad : function() {\n        Imgur.InfiniteScroll.getInstance().stopInfiniteScroll();\n\n        this.hideLoader();\n        $(this._.target).empty();\n    },\n\n    getNewNotifications : function(type, callback) {\n        if(type === 'messages' && this._.messagesDisabled) {\n            var instance = this._.notificationInstances[type];\n            instance.addWindowState();\n            return this.showDisabledNotification(type);\n        }\n\n        $.ajax({\n            'url'      : this._.baseUrl + '.json',\n            'data'     : {\n                'type' : type\n            },\n            'success'  : function(response) {\n                if(response != null && response.success && typeof callback == 'function') {\n                    this._.notifications = response.data;\n                    callback();\n                }\n            }.bind(this)\n        });\n    },\n});\n\nClass.addSingleton(Imgur.NotificationBase);\n","Namespace('Imgur.Notification');\n\nImgur.Notification.EventDropdown = React.createClass({\n    displayName: 'Notification.EventDropdown',\n\n    propTypes: {\n        socket: React.PropTypes.object.isRequired,\n        reputation: React.PropTypes.object.isRequired\n    },\n\n    mixins: [Imgur.ReactInfiniteScroll, Imgur.BodyModal],\n\n    getInitialState: function getInitialState() {\n        return {\n            /**\n             * map from (foreign type, foreign id).join(':') -> notification\n             */\n            notifications: {},\n\n            pending_event_snapshots: {}\n        };\n    },\n\n    _update_pagination_token: function _update_pagination_token() {\n        if (this.infiniteScrollCountPages() > 0) {\n            try {\n                if ('localStorage' in window && window['localStorage'] !== null) {\n                    localStorage.setItem('notifications_last_token', this.infiniteScrollGetPage(0).response_latest_as_of);\n                }\n            } catch (e) {}\n        }\n    },\n\n    _markEventsAsSeen: function _markEventsAsSeen() {\n        var postEvents = [];\n\n        _.each(this.state.notifications, function (notif) {\n            if (notif.state == 'unseen' || notif.state == 'received') {\n                postEvents.push({\n                    foreign_type: notif.foreign_type,\n                    foreign_id: notif.foreign_id,\n                    snapshot: notif.snapshot\n                });\n            }\n        });\n\n        if (postEvents.length > 0) {\n            $.ajax({\n                method: 'POST',\n                url: '/account/notifications/mark',\n                data: {\n                    mark_type: 'seen',\n                    notifications: postEvents,\n                    msid: Imgur.Environment.msid\n                }\n            });\n\n            /**\n             * The front-end adds a third state between 'unseen' and 'seen': 'seen-pending-close'. This third state\n             * is to handle the UI state just after when you open the drop-down, where the unseen notifications become seen, and\n             * no longer contribute to the count of unseen notifications over the notifications icon, but *do* show the green dot\n             * next to their card. \n             */\n\n            // Mark previously unseen notifications as seen-pending-close\n\n            var seenPendingClosed = {};\n\n            _.each(postEvents, _.bind(function (postEvent) {\n\n                var notifKey = [postEvent.foreign_type, postEvent.foreign_id].join(':');\n                var notification = _.merge({}, this.state.notifications[notifKey]); // copy\n                notification.state = 'seen-pending-close';\n                seenPendingClosed[notifKey] = notification;\n\n                Imgur.Util.jafoLog({\n                    'event': 'notificationSeen',\n                    meta: {\n                        bbType: 'bubble',\n                        cardId: notifKey\n                    }\n                });\n            }, this));\n\n            this.setState({\n                notifications: _.merge({}, this.state.notifications, seenPendingClosed)\n            });\n        }\n    },\n\n    componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n        if (this.state.bodyModalVisible) {\n            this._update_pagination_token();\n\n            if (!prevState.bodyModalVisible) {\n                // They just opened the dialog \n\n                if (this.infiniteScrollCountPages() === 0) {\n                    this._load(0);\n                }\n\n                this._markEventsAsSeen();\n            }\n        } else {\n            if (prevState.bodyModalVisible) {\n                // They just closed the modal; mark seen-pending-close notifications as seen\n\n                var newNotifications = {};\n\n                // Copy old data, and mark any seen-pending-close as seen\n                _.each(this.state.notifications, function (notification, notifKey) {\n                    newNotifications[notifKey] = _.merge({}, notification);\n\n                    if (notification.state == 'seen-pending-close') {\n                        newNotifications[notifKey].state = 'seen';\n                    }\n                });\n\n                // Merge pending snapshots\n                _.each(this.state.pending_event_snapshots, function (snapshot) {\n                    var notif = newNotifications[snapshot.notificationKey];\n\n                    _.each(notif.events, function (evt) {\n                        if (evt.event_type == snapshot.eventType) {\n                            evt.seen = evt.event_snapshot <= snapshot.snapshot;\n                        }\n                    });\n                });\n\n                this.setState({\n                    notifications: newNotifications,\n                    pending_event_snapshots: {}\n                });\n            }\n        }\n\n        this._publishUnreadCount();\n    },\n\n    _publishUnreadCount: function _publishUnreadCount() {\n        var unseenCount = 0,\n            notifications = _.values(this.state.notifications);\n\n        for (var i = 0; i < notifications.length; i++) {\n            var notification = notifications[i];\n\n            if (notification.state == 'received' || notification.state == 'unseen') {\n                unseenCount += 1;\n            }\n        }\n\n        Imgur.Notification.getInstance().setUnreadCount('notifications', unseenCount);\n    },\n\n    _mergeData: function _mergeData(response_notifications) {\n        var uiHelper = new Imgur.Notification.UIMessage(this.props.reputation, null, null, true, Imgur.Environment.host);\n\n        var responseNotificationsMap = _.merge({}, this.state.notifications);\n\n        var currentlyOpen = this.state.bodyModalVisible;\n\n        _.each(response_notifications, function (newNotification) {\n            if (uiHelper.knowHowToRender(newNotification.foreign_type)) {\n                var notifKey = [newNotification.foreign_type, newNotification.foreign_id].join(':');\n\n                if (_.isUndefined(responseNotificationsMap[notifKey])) {\n                    responseNotificationsMap[notifKey] = newNotification;\n                } else {\n\n                    // Merge the new event data into the old event data\n\n                    // First, compare the foreign data by its change time `snapshot`, and overwrite that if necessary. Then\n                    // merge events by preferring newer (`event_snapshot`)\n\n                    var oldNotification = responseNotificationsMap[notifKey];\n                    var mergedNotification;\n                    var mergedEvents = {};\n\n                    if (newNotification.snapshot >= oldNotification.snapshot) {\n                        mergedNotification = _.merge({}, newNotification);\n                    } else {\n                        console.log('discarding stale notification data ', newNotification, ' because new snapshot ', newNotification.snapshot, ' < ', oldNotification.snapshot);\n                        mergedNotification = _.merge({}, oldNotification);\n                    }\n\n                    // Set up the old events for comparison\n                    _.each(oldNotification.events, function (event) {\n                        mergedEvents[event.event_type] = event;\n                    });\n\n                    _.each(newNotification.events, function (newEvent) {\n                        var eventType = newEvent.event_type;\n\n                        if (_.isUndefined(mergedEvents[eventType])) {\n                            mergedEvents[eventType] = newEvent;\n                        } else {\n\n                            // Merge events by preferring newer\n\n                            var oldEvent = mergedEvents[eventType];\n\n                            if (newEvent.event_snapshot >= oldEvent.event_snapshot) {\n                                mergedEvents[eventType] = newEvent;\n                            } else {\n                                console.log('discarding stale event ', newEvent, ' because new event snapshot ', newEvent.event_snapshot, ' < ', oldEvent.event_snapshot);\n                                mergedEvents[eventType] = oldEvent;\n                            }\n                        }\n                    });\n\n                    mergedNotification.events = mergedEvents;\n                    responseNotificationsMap[notifKey] = mergedNotification;\n                }\n            }\n        });\n\n        this.setState({\n            notifications: responseNotificationsMap\n        });\n    },\n\n    _displayGrowls: function _displayGrowls(notifications) {\n        var notifs = _.indexBy(notifications, function (notif) {\n            return [notif.foreign_type, notif.foreign_id].join(':');\n        });\n\n        _.each(notifs, _.bind(function (notification, notifKey) {\n            _.each(notification.events, _.bind(function (evt) {\n                if (evt.event_type == 'message-msg') {\n                    return;\n                }\n\n                var ui_helper = new Imgur.Notification.UIMessage(this.props.reputation, null, notification.events, false, Imgur.Environment.host);\n                var link = ui_helper.getLinkHref(evt.notification_foreign_type, notification.foreign_data, evt.notification_foreign_id, notification.snapshot, notification.last_read_snapshot);\n                var icon;\n\n                if (evt.event_type == 'commentReply') {\n                    var post = notification.foreign_data.post;\n                    var thumb_hash = Number(post.is_album) ? post.album_cover : post.hash;\n                    icon = Imgur.Environment.cdnUrl + '/' + thumb_hash + 's.jpg';\n                } else {\n                    icon = ui_helper.getIcon(evt.notification_foreign_type, notification.foreign_data);\n                }\n\n                var noty_opts = {\n                    text: Imgur.Util.htmlEntity(evt.title_long),\n                    link: link\n                };\n\n                if (icon !== null) {\n                    noty_opts.image = icon;\n                }\n\n                noty(noty_opts);\n\n                Imgur.Util.jafoLog({\n                    'event': 'notificationBBAppear',\n                    meta: {\n                        bbType: 'bubble',\n                        cardId: [String(Imgur.Environment.auth.id), notifKey, evt.event_type].join(':'),\n                        notificationId: [String(Imgur.Environment.auth.id), notifKey, evt.event_type].join(':')\n                    }\n                });\n            }, this));\n        }, this));\n    },\n\n    infiniteScrollNeedToLoadFirstPage: function infiniteScrollNeedToLoadFirstPage() {\n        if (!Imgur.Environment.auth.notifications_last_token) {\n            // If we have no notifications ever, then we don't need to fetch them.\n            return false;\n        }\n\n        try {\n            if ('localStorage' in window && window['localStorage'] !== null) {\n                if (Imgur.Environment.auth.notifications_last_token === localStorage.getItem('notifications_last_token')) {\n                    return false;\n                }\n            }\n        } catch (e) {}\n\n        return true;\n    },\n\n    infiniteScrollLoad: function infiniteScrollLoad(page, finished_callback) {\n        var pages = this.infiniteScrollCountPages();\n\n        var pagination_token_url = '';\n\n        if (pages > 0) {\n            pagination_token_url = '/' + this.infiniteScrollGetPage(pages - 1).next_page;\n        }\n\n        $.ajax({\n            url: '/account/notifications/list' + pagination_token_url + '.json',\n            displayGenericError: false,\n            success: _.bind(function (response) {\n                if (response) {\n                    if (response.data.notifications && response.data.notifications.length) {\n                        this._mergeData(response.data.notifications);\n\n                        if (this.state.bodyModalVisible) {\n                            this._markEventsAsSeen();\n                        }\n\n                        finished_callback({ first_token: response.data.first_token, next_page: response.data.next_page, response_latest_as_of: response.data.response_latest_as_of }, false);\n                    } else {\n                        finished_callback({}, true);\n                    }\n                } else {\n                    finished_callback(null, true);\n                }\n            }, this)\n        });\n    },\n\n    componentDidMount: function componentDidMount() {\n        this.props.socket.on('newNotification', this.handleRealTimeNewNotifications);\n        this.props.socket.on('markNotification', this.handleRealTimeMarkNotification);\n        this._publishUnreadCount();\n    },\n\n    handleRealTimeNewNotifications: function handleRealTimeNewNotifications(data) {\n        this._mergeData(data.notifications);\n\n        if (this.state.bodyModalVisible) {\n            this._markEventsAsSeen();\n        }\n\n        this._displayGrowls(data.notifications);\n    },\n\n    handleRealTimeMarkNotification: function handleRealTimeMarkNotification(data) {\n        var notifKey = [data.foreign_type, data.foreign_id].join(':');\n        var notif = this.state.notifications[notifKey];\n\n        var newSnapshot = data.snapshot;\n\n        if (!_.isUndefined(notif)) {\n            var overwriteNotifs = {};\n            var pendingEventSnapshots = {};\n\n            if (data.mark_type == 'seen') {\n                notif.last_seen_snapshot = newSnapshot;\n\n                if (notif.state === 'unseen' && this.state.bodyModalVisible) {\n                    notif.state = 'seen-pending-close';\n                } else if (notif.state === 'unseen' && !this.state.bodyModalVisible) {\n                    notif.state = 'seen';\n                } else {\n                    // if the state is already seen or seen-pending-close, do nothing. \n                }\n            } else if (data.mark_type == 'read') {\n                notif.last_read_snapshot = newSnapshot;\n                notif.state = 'read';\n            }\n\n            overwriteNotifs[notifKey] = notif;\n\n            if (this.state.bodyModalVisible) {\n                _.each(notif.events, function (evt) {\n                    var evtKey = [notifKey, evt.event_type].join(':');\n\n                    pendingEventSnapshots[evtKey] = {\n                        snapshot: newSnapshot,\n                        notificationKey: notifKey,\n                        eventType: evt.event_type\n                    };\n                });\n            } else {\n                _.each(notif.events, function (evt) {\n                    evt.seen = evt.event_snapshot <= newSnapshot;\n                });\n            }\n\n            this.setState({\n                notifications: _.merge({}, this.state.notifications, overwriteNotifs),\n                pending_event_snapshots: _.merge({}, this.state.pending_event_snapshots, pendingEventSnapshots)\n            });\n        }\n    },\n\n    render: function render() {\n        var notificationsCopy = _.merge({}, this.state.notifications);\n\n        // Our version of lodash is missing _.sortByAll so let's merge instead!\n        var notifsUnseen = _.filter(_.values(notificationsCopy), function (notif) {\n            return notif.state == 'unseen' || notif.state == 'seen-pending-close';\n        });\n        var notifsSeen = _.filter(_.values(notificationsCopy), function (notif) {\n            return notif.state != 'unseen' && notif.state != 'seen-pending-close';\n        });\n\n        notifsUnseen = _.sortBy(notifsUnseen, 'snapshot');\n        notifsSeen = _.sortBy(notifsSeen, 'snapshot');\n\n        notifsUnseen.reverse();\n        notifsSeen.reverse();\n\n        var notifsSorted = notifsUnseen.concat(notifsSeen);\n\n        var notifsElements = [];\n        var unseenCountIcon = 0;\n        var unseenCountDropdown = 0;\n\n        _.each(notifsSorted, _.bind(function (notification, i) {\n            var props = _.merge({}, notification, { reputation: this.props.reputation }),\n                ref = null;\n\n            if (i === notifsSorted.length - 1) {\n                ref = \"infinite-scroll\";\n            }\n\n            notifsElements.push(React.createElement(\n                React.addons.CSSTransitionGroup,\n                { ref: ref, key: [notification.foreign_type, notification.foreign_id].join(':'), transitionName: 'card' },\n                React.createElement(Imgur.NotificationCard, props)\n            ));\n\n            if (notification.state == 'received') {\n                unseenCountIcon += 1;\n                unseenCountDropdown += 1;\n            } else if (notification.state == 'unseen') {\n                unseenCountIcon += 1;\n                unseenCountDropdown += 1;\n            } else if (notification.state == 'seen-pending-close') {\n                // the icon doesn't count ones that are seen pending close. \n                unseenCountDropdown += 1;\n            }\n        }, this));\n\n        if (this.infiniteScrollCountPages() === 0) {\n            notifsElements.push(React.createElement(Imgur.NotificationCard.Empty, { key: 'notifcard-empty' }));\n        }\n\n        var visible_contents = React.DOM.div({ className: 'notifications-dropdown' }, React.DOM.div({ className: 'notifications-header' }, React.DOM.div({ className: 'left' }, React.DOM.h3(null, 'Notifications'), unseenCountDropdown > 0 ? React.DOM.span({ className: 'unseen-count' }, unseenCountDropdown) : ''), React.DOM.div({ className: 'clear' })), React.DOM.div({ className: 'notifications-content' }, React.createElement(Imgur.Nanoscroll, { options: { preventPageScrolling: true }, ref: 'infinite-scroll-container', height: 300 }, notifsElements)));\n\n        var btn_class = classNames({\n            'icon-notifications': true,\n            'events': true,\n            'unseen': unseenCountIcon > 0,\n            'active': this.state.bodyModalVisible\n        });\n\n        return React.DOM.div({}, React.DOM.i({ onClick: this.handleBodyModalClick, className: btn_class }, React.DOM.span({ className: 'unseen-count' }, Math.min(99, unseenCountIcon))), this.state.bodyModalVisible ? visible_contents : '');\n    }\n});\n//# sourceMappingURL=eventdropdown.js.map\n","Namespace('Imgur.Notification');\n\nImgur.Notification.MessageDropdown = React.createClass({\n    displayName: 'Notification.MessageDropdown',\n\n    propTypes: {\n        unreadCount: React.PropTypes.number,\n        socket: React.PropTypes.object.isRequired\n    },\n\n    getInitialState: function() {\n        return {\n            delta: 0,\n            oldMessages: null\n        };\n    },\n\n    componentDidMount: function() {\n        this.props.socket.on('newMessage', this.handleNewMessage);\n        this.props.socket.on('readNotification', this.handleReadNotification);\n        Imgur.Notification.getInstance().setUnreadCount('messages', this.props.unreadCount + this.state.delta);\n    },\n\n    componentDidUpdate: function(prevProps, prevState) {\n        Imgur.Notification.getInstance().setUnreadCount('messages', this.props.unreadCount + this.state.delta);\n    },\n\n    handleNewMessage: function(realtimeData) {\n        this.setState({\n            delta: this.state.delta + 1\n        });\n\n        var message = '<span class=\"bold margin-bottom\">';\n        message += 'New message from ';\n        message += Imgur.Util.truncate(realtimeData.from, 15, true);\n        message += '</span><br>';\n        message += Imgur.Util.htmlEntity(Imgur.Util.truncate(realtimeData.body, 40, true));\n\n        noty({\n            'text': message,\n            'link': '//'+Imgur.Environment.host+'/account/messages',\n            'image': ''\n        });\n\n        if(this.state.oldMessages) {\n            this.state.oldMessages.handleRealtimeMessage(realtimeData);\n        }\n    },\n\n    handleReadNotification: function(realtimeData) {\n        this.setState({\n            delta: this.state.delta - realtimeData.count\n        });\n    },\n\n    render: function() {\n        var btnClass = classNames({\n            'icon-messages': true,\n            'conversations': true,\n            'unread': (this.props.unreadCount + this.state.delta) > 0\n        });\n\n        var linkClass = classNames({\n            'unread-count': true,\n            'unread': (this.props.unreadCount + this.state.delta) > 0\n        });\n\n        return React.DOM.div(null,\n            React.DOM.a({href: '//' + Imgur.Environment.host + '/account/messages', className: linkClass}, React.DOM.span({className: linkClass}, Math.min(99, this.props.unreadCount + this.state.delta))),\n            React.DOM.i({className: btnClass},'') );\n    }\n});\n","Namespace('Imgur.NotificationCard');\n\nImgur.NotificationCard = React.createClass({\n    displayName: 'NotificationCard',\n    \n    propTypes: {\n        foreign_type: React.PropTypes.string.isRequired,\n        foreign_data: React.PropTypes.object.isRequired,\n        events: React.PropTypes.array.isRequired,\n        state: React.PropTypes.string.isRequired,\n        snapshot: React.PropTypes.number.isRequired,\n        last_read_snapshot: React.PropTypes.number,\n        reputation: React.PropTypes.object.isRequired\n    },  \n\n    render: function() {\n        var milestones = [];\n        var ui_helper = new Imgur.Notification.UIMessage(this.props.reputation, null, this.props.events, true, Imgur.Environment.host);\n\n        for(var evt_type in this.props.events) {\n            var milestone_line = ui_helper.getMilestoneLine(this.props.events[evt_type], this.props.foreign_data);\n            milestones.push(milestone_line);\n        }\n\n        var card_cls = {\n            'notification-card': true,\n            'unread': this.props.state !== 'read',\n            'unseen': this.props.state === 'unseen' || this.props.state === 'received' || this.props.state === 'seen-pending-close'\n        };\n        card_cls['notification-card-' + this.props.foreign_type] = true;\n\n        var thumb = ui_helper.getThumb(this.props.foreign_type, this.props.foreign_data);\n\n        var timeLastRead;\n        if(this.props.foreign_type == 'comment') {\n            timeLastRead = ui_helper.getCommentReplyTimeLastRead(this.props.events);\n        }\n        \n        var link = ui_helper.getLinkHref(this.props.foreign_type, this.props.foreign_data, this.props.foreign_id, this.props.snapshot, this.props.last_read_snapshot);\n        var title = ui_helper.getCardTitle(this.props.foreign_type, this.props.foreign_data);\n\n        return React.DOM.div({className: classNames(card_cls)},\n            thumb,\n            React.DOM.div({className: 'events'},\n                React.DOM.h4(null, title),\n                milestones\n            ),\n            React.DOM.a({href: link})\n        );\n    }\n});\n","Namespace('Imgur.NotificationCard');\n\nImgur.NotificationCard.Empty = React.createClass({\n    render: function() {\n        var cls = classNames({\n            'notification-card': true,\n            'notification-card-empty': true\n        });\n\n        return React.DOM.div({className: cls},\n            'You have no new notifications.'\n        );\n    }\n});\n","/**\n * noty - jQuery Notification Plugin v2.1.0\n * Contributors: https://github.com/needim/noty/graphs/contributors\n *\n * Examples and Documentation - http://needim.github.com/noty/\n *\n * Licensed under the MIT licenses:\n * http://www.opensource.org/licenses/mit-license.php\n *\n **/\n\nif (typeof Object.create !== 'function') {\n    Object.create = function (o) {\n        function F() {\n        }\n\n        F.prototype = o;\n        return new F();\n    };\n}\n\n(function ($) {\n\n    var NotyObject = {\n\n        init:function (options) {\n\n            // Mix in the passed in options with the default options\n            this.options = $.extend({}, $.noty.defaults, options);\n\n            this.options.layout = (this.options.custom) ? $.noty.layouts['inline'] : $.noty.layouts[this.options.layout];\n\n            delete options.layout;\n\n            this.options = $.extend({}, this.options, this.options.layout.options);\n            this.options.id = 'noty_' + (new Date().getTime() * Math.floor(Math.random() * 1000000));\n\n            this.options = $.extend({}, this.options, options);\n\n            // Build the noty dom initial structure\n            this._build();\n\n            // return this so we can chain/use the bridge with less code.\n            return this;\n        }, // end init\n\n        _build:function () {\n            // Generating noty bar\n            var $bar = $('<div class=\"noty_bar\"></div>').attr('id', this.options.id);\n            $bar.append(this.options.template).find('.noty_text').html(this.options.text);\n        if(this.options.image !== '') {\n        $bar.find('.noty_image').html('<img style=\"width: 60px;\" src=\"'+this.options.image+'\" />');\n        } else {\n        $bar.find('.noty_image').remove();\n        }\n\n            this.$bar = (this.options.layout.parent.object !== null) ? $(this.options.layout.parent.object).css(this.options.layout.parent.css).append($bar) : $bar;\n\n            // Set buttons if available\n            if (this.options.buttons) {\n\n                // If we have button disable closeWith & timeout options\n                this.options.closeWith = [];\n                this.options.timeout = false;\n\n                var $buttons = $('<div/>').addClass('noty_buttons');\n\n                (this.options.layout.parent.object !== null) ? this.$bar.find('.noty_bar').append($buttons) : this.$bar.append($buttons);\n\n                var self = this;\n\n                $.each(this.options.buttons, function (i, button) {\n                    var $button = $('<button/>').addClass((button.addClass) ? button.addClass : 'gray').html(button.text)\n                        .appendTo(self.$bar.find('.noty_buttons'))\n                        .bind('click', function () {\n                            if ($.isFunction(button.onClick)) {\n                                button.onClick.call($button, self);\n                            }\n                        });\n                });\n            }\n\n            // For easy access\n            this.$message = this.$bar.find('.noty_message');\n            this.$closeButton = this.$bar.find('.noty_close');\n            this.$buttons = this.$bar.find('.noty_buttons');\n\n            $.noty.store[this.options.id] = this; // store noty for api\n\n        }, // end _build\n\n        show:function () {\n\n            var self = this;\n\n            $(self.options.layout.container.selector).append(self.$bar);\n\n            ($.type(self.options.layout.css) === 'function') ? this.options.layout.css.apply(self.$bar) : self.$bar.css(this.options.layout.css || {});\n\n            self.$bar.addClass(self.options.layout.addClass);\n\n            self.options.layout.container.style.apply($(self.options.layout.container.selector));\n\n            if ($.inArray('click', self.options.closeWith) > -1)\n                self.$bar.css('cursor', 'pointer').one('click', function (evt) {\n                    self.stopPropagation(evt);\n                    if (self.options.callback.onCloseClick) {\n                        self.options.callback.onCloseClick.apply(self);\n                    }\n                    self.close();\n                });\n\n            if ($.inArray('hover', self.options.closeWith) > -1)\n                self.$bar.one('mouseenter', function () {\n                    self.close();\n                });\n\n            if ($.inArray('button', self.options.closeWith) > -1)\n                self.$closeButton.one('click', function (evt) {\n                    self.stopPropagation(evt);\n                    self.close();\n                });\n\n            if ($.inArray('button', self.options.closeWith) == -1)\n                self.$closeButton.remove();\n\n            if (self.options.callback.onShow)\n                self.options.callback.onShow.apply(self);\n\n            self.$bar.animate(\n                self.options.animation.open,\n                self.options.animation.speed,\n                self.options.animation.easing,\n                function () {\n                    if (self.options.callback.afterShow) self.options.callback.afterShow.apply(self);\n                    self.shown = true;\n                }\n        );\n        \n        self.$bar.click(function() {\n        if(self.options.link != '') {\n            window.location = self.options.link;\n        }\n        });\n\n            // If noty is have a timeout option\n            if (self.options.timeout)\n                self.$bar.delay(self.options.timeout).promise().done(function () {\n                    self.close();\n                });\n\n            return this;\n\n        }, // end show\n\n        close:function () {\n\n            if (this.closed) return;\n            if (this.$bar && this.$bar.hasClass('i-am-closing-now')) return;\n\n            var self = this;\n\n            if (!this.shown) { // If we are still waiting in the queue just delete from queue\n                var queue = [];\n                $.each($.noty.queue, function (i, n) {\n                    if (n.options.id != self.options.id) {\n                        queue.push(n);\n                    }\n                });\n                $.noty.queue = queue;\n                return;\n            }\n\n            self.$bar.addClass('i-am-closing-now');\n\n            if (self.options.callback.onClose) {\n                self.options.callback.onClose.apply(self);\n            }\n\n            self.$bar.clearQueue().stop().fadeOut('slow',\n                function () {\n                    if (self.options.callback.afterClose) self.options.callback.afterClose.apply(self);\n                })\n                .promise().done(function () {\n\n                    // Modal Cleaning\n                    if (self.options.modal) {\n                        $.notyRenderer.setModalCount(-1);\n                        if ($.notyRenderer.getModalCount() == 0) $('.noty_modal').fadeOut('fast', function () {\n                            $(this).remove();\n                        });\n                    }\n\n                    // Layout Cleaning\n                    $.notyRenderer.setLayoutCountFor(self, -1);\n                    if ($.notyRenderer.getLayoutCountFor(self) == 0) $(self.options.layout.container.selector).remove();\n\n                    // Make sure self.$bar has not been removed before attempting to remove it\n                    if (typeof self.$bar !== 'undefined' && self.$bar !== null ) {\n                        self.$bar.remove();\n                        self.$bar = null;\n                        self.closed = true;\n                    }\n\n                    delete $.noty.store[self.options.id]; // deleting noty from store\n\n                    if (!self.options.dismissQueue) {\n                        // Queue render\n                        $.noty.ontap = true;\n\n                        $.notyRenderer.render();\n                    }\n\n                    if (self.options.maxVisible > 0 && self.options.dismissQueue) {\n                        $.notyRenderer.render();\n                    }\n                })\n\n        }, // end close\n\n        setText:function (text) {\n            if (!this.closed) {\n                this.options.text = text;\n                this.$bar.find('.noty_text').html(text);\n            }\n            return this;\n        },\n\n        setType:function (type) {\n            if (!this.closed) {\n                this.options.type = type;\n            }\n            return this;\n        },\n\n        setTimeout:function (time) {\n            if (!this.closed) {\n                var self = this;\n                this.options.timeout = time;\n                self.$bar.delay(self.options.timeout).promise().done(function () {\n                    self.close();\n                });\n            }\n            return this;\n        },\n\n        stopPropagation:function (evt) {\n            evt = evt || window.event;\n            if (typeof evt.stopPropagation !== \"undefined\") {\n                evt.stopPropagation();\n            } else {\n                evt.cancelBubble = true;\n            }\n        },\n\n        closed:false,\n        shown:false\n\n    }; // end NotyObject\n\n    $.notyRenderer = {};\n\n    $.notyRenderer.init = function (options) {\n\n        // Renderer creates a new noty\n        var notification = Object.create(NotyObject).init(options);\n\n        (notification.options.force) ? $.noty.queue.unshift(notification) : $.noty.queue.push(notification);\n\n        $.notyRenderer.render();\n\n        return ($.noty.returns == 'object') ? notification : notification.options.id;\n    };\n\n    $.notyRenderer.render = function () {\n\n        var instance = $.noty.queue[0];\n\n        if ($.type(instance) === 'object') {\n            if (instance.options.dismissQueue) {\n                if (instance.options.maxVisible > 0) {\n                    if ($(instance.options.layout.container.selector + ' li').length < instance.options.maxVisible) {\n                        $.notyRenderer.show($.noty.queue.shift());\n                    } else {\n\n                    }\n                } else {\n                    $.notyRenderer.show($.noty.queue.shift());\n                }\n            } else {\n                if ($.noty.ontap) {\n                    $.notyRenderer.show($.noty.queue.shift());\n                    $.noty.ontap = false;\n                }\n            }\n        } else {\n            $.noty.ontap = true; // Queue is over\n        }\n\n    };\n\n    $.notyRenderer.show = function (notification) {\n\n        if (notification.options.modal) {\n            $.notyRenderer.createModalFor(notification);\n            $.notyRenderer.setModalCount(+1);\n        }\n\n        // Where is the container?\n        if ($(notification.options.layout.container.selector).length == 0) {\n            if (notification.options.custom) {\n                notification.options.custom.append($(notification.options.layout.container.object).addClass('i-am-new'));\n            } else {\n                $('body').append($(notification.options.layout.container.object).addClass('i-am-new'));\n            }\n        } else {\n            $(notification.options.layout.container.selector).removeClass('i-am-new');\n        }\n\n        $.notyRenderer.setLayoutCountFor(notification, +1);\n\n        notification.show();\n    };\n\n    //$.notyRenderer.createModalFor = function (notification) {\n    //    if ($('.noty_modal').length == 0)\n    //        $('<div/>').addClass('noty_modal').data('noty_modal_count', 0).css(notification.options.theme.modal.css).prependTo($('body')).fadeIn('fast');\n    //};\n\n    $.notyRenderer.getLayoutCountFor = function (notification) {\n        return $(notification.options.layout.container.selector).data('noty_layout_count') || 0;\n    };\n\n    $.notyRenderer.setLayoutCountFor = function (notification, arg) {\n        return $(notification.options.layout.container.selector).data('noty_layout_count', $.notyRenderer.getLayoutCountFor(notification) + arg);\n    };\n\n    $.notyRenderer.getModalCount = function () {\n        return $('.noty_modal').data('noty_modal_count') || 0;\n    };\n\n    $.notyRenderer.setModalCount = function (arg) {\n        return $('.noty_modal').data('noty_modal_count', $.notyRenderer.getModalCount() + arg);\n    };\n\n    // This is for custom container\n    $.fn.noty = function (options) {\n        options.custom = $(this);\n        return $.notyRenderer.init(options);\n    };\n\n    $.noty = {};\n    $.noty.queue = [];\n    $.noty.ontap = true;\n    $.noty.layouts = {};\n    //$.noty.themes = {};\n    $.noty.returns = 'object';\n    $.noty.store = {};\n\n    $.noty.get = function (id) {\n        return $.noty.store.hasOwnProperty(id) ? $.noty.store[id] : false;\n    };\n\n    $.noty.close = function (id) {\n        return $.noty.get(id) ? $.noty.get(id).close() : false;\n    };\n\n    $.noty.setText = function (id, text) {\n        return $.noty.get(id) ? $.noty.get(id).setText(text) : false;\n    };\n\n    $.noty.setType = function (id, type) {\n        return $.noty.get(id) ? $.noty.get(id).setType(type) : false;\n    };\n\n    $.noty.clearQueue = function () {\n        $.noty.queue = [];\n    };\n\n    $.noty.closeAll = function () {\n        $.noty.clearQueue();\n        $.each($.noty.store, function (id, noty) {\n            noty.close();\n        });\n    };\n\n    var windowAlert = window.alert;\n\n    $.noty.consumeAlert = function (options) {\n        window.alert = function (text) {\n            if (options)\n                options.text = text;\n            else\n                options = {text:text};\n\n            $.notyRenderer.init(options);\n        };\n    };\n\n    $.noty.stopConsumeAlert = function () {\n        window.alert = windowAlert;\n    };\n\n    $.noty.defaults = {\n\tlayout: 'bottomRight',\n\ttheme:  'defaultTheme',\n\ttype:   'information',\n\ttext:   '',\n\tlink:   '',\n\timage:  '',\n\tdismissQueue: true, // If you want to use queue feature set this true\n\ttemplate: '<div class=\"noty_message\"><div class=\"noty_image\"></div><span class=\"noty_text\"></span><div class=\"noty_close\"></div></div>',\n\tanimation: {\n\t    open:{'height': 'toggle'},\n\t    close:{'height': 'toggle'},\n\t    easing:'swing',\n\t    speed:500 // opening & closing animation speed\n\t},\n\ttimeout: 8000, // delay for closing event. Set false for sticky notifications\n\tforce:   false, // adds notification to the beginning of queue when set to true\n\tmodal:   false,\n\tmaxVisible: 5, // you can set max visible notification for dismissQueue true option\n\tcloseWith:  ['button'], // ['click', 'button', 'hover']\n\tcallback: {\n\t    onShow:     function() {},\n\t    afterShow:  function() {},\n\t    onClose:    function() {},\n\t    afterClose: function() {}\n\t},\n\tbuttons: false // an array of buttons\n    };\n\n    $(window).resize(function () {\n        $.each($.noty.layouts, function (index, layout) {\n            layout.container.style.apply($(layout.container.selector));\n        });\n    });\n\n})(jQuery);\n\n// Helpers\nwindow.noty = function noty(options) {\n\n    // This is for BC  -  Will be deleted on v2.2.0\n    var using_old = 0\n        , old_to_new = {\n            'animateOpen':'animation.open',\n            'animateClose':'animation.close',\n            'easing':'animation.easing',\n            'speed':'animation.speed',\n            'onShow':'callback.onShow',\n            'onShown':'callback.afterShow',\n            'onClose':'callback.onClose',\n            'onCloseClick':'callback.onCloseClick',\n            'onClosed':'callback.afterClose'\n        };\n\n    jQuery.each(options, function (key, value) {\n        if (old_to_new[key]) {\n            using_old++;\n            var _new = old_to_new[key].split('.');\n\n            if (!options[_new[0]]) options[_new[0]] = {};\n\n            options[_new[0]][_new[1]] = (value) ? value : function () {\n            };\n            delete options[key];\n        }\n    });\n\n    if (!options.closeWith) {\n        options.closeWith = jQuery.noty.defaults.closeWith;\n    }\n\n    if (options.hasOwnProperty('closeButton')) {\n        using_old++;\n        if (options.closeButton) options.closeWith.push('button');\n        delete options.closeButton;\n    }\n\n    if (options.hasOwnProperty('closeOnSelfClick')) {\n        using_old++;\n        if (options.closeOnSelfClick) options.closeWith.push('click');\n        delete options.closeOnSelfClick;\n    }\n\n    if (options.hasOwnProperty('closeOnSelfOver')) {\n        using_old++;\n        if (options.closeOnSelfOver) options.closeWith.push('hover');\n        delete options.closeOnSelfOver;\n    }\n\n    if (options.hasOwnProperty('custom')) {\n        using_old++;\n        if (options.custom.container != 'null') options.custom = options.custom.container;\n    }\n\n    if (options.hasOwnProperty('cssPrefix')) {\n        using_old++;\n        delete options.cssPrefix;\n    }\n\n    if (options.theme == 'noty_theme_default') {\n        using_old++;\n        options.theme = 'defaultTheme';\n    }\n\n    if (!options.hasOwnProperty('dismissQueue')) {\n        options.dismissQueue = jQuery.noty.defaults.dismissQueue;\n    }\n\n    if (!options.hasOwnProperty('maxVisible')) {\n        options.maxVisible = jQuery.noty.defaults.maxVisible;\n    }\n\n    if (options.buttons) {\n        jQuery.each(options.buttons, function (i, button) {\n            if (button.click) {\n                using_old++;\n                button.onClick = button.click;\n                delete button.click;\n            }\n            if (button.type) {\n                using_old++;\n                button.addClass = button.type;\n                delete button.type;\n            }\n        });\n    }\n\n    if (using_old) {\n        if (typeof console !== \"undefined\" && console.warn) {\n            console.warn('You are using noty v2 with v1.x.x options. @deprecated until v2.2.0 - Please update your options.');\n        }\n    }\n\n    // console.log(options);\n    // End of the BC\n\n    return jQuery.notyRenderer.init(options);\n}\n\n;(function($) {\n\n    $.noty.layouts.bottomRight = {\n        name: 'bottomRight',\n        options: { // overrides options\n            \n        },\n        container: {\n            object: '<ul id=\"noty_bottomRight_layout_container\" />',\n            selector: 'ul#noty_bottomRight_layout_container',\n            style: function() {\n                if (window.innerWidth < 600) {\n                    $(this).css({\n                        right: 5\n                    });\n                }\n            }\n        },\n        parent: {\n            object: '<li />',\n            selector: 'li',\n            css: {}\n        },\n        css: {\n            display: 'none',\n            width: '250px'\n        },\n        addClass: ''\n    };\n\n})(jQuery);\n ","// http://github.hubspot.com/tether/\n//\n\n// https://github.com/HubSpot/tether/blob/master/js/utils.js\n\n(function() {\n    var Evented, addClass, defer, deferred, extend, flush, getBounds, getClassName, getOffsetParent, getOrigin, getScrollBarSize, getScrollParent, hasClass, node, removeClass, setClassName, uniqueId, updateClasses, zeroPosCache,\n        __hasProp = {}.hasOwnProperty,\n        __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },\n        __slice = [].slice;\n\n    if (this.Tether == null) {\n        this.Tether = {\n            modules: []\n        };\n    }\n\n    getScrollParent = function(el) {\n        var parent, position, scrollParent, style, _ref;\n        position = getComputedStyle(el).position;\n        if (position === 'fixed') {\n            return el;\n        }\n        scrollParent = void 0;\n        parent = el;\n        while (parent = parent.parentNode) {\n            try {\n                style = getComputedStyle(parent);\n            } catch (_error) {}\n            if (style == null) {\n                return parent;\n            }\n            if (/(auto|scroll)/.test(style['overflow'] + style['overflowY'] + style['overflowX'])) {\n                if (position !== 'absolute' || ((_ref = style['position']) === 'relative' || _ref === 'absolute' || _ref === 'fixed')) {\n                    return parent;\n                }\n            }\n        }\n        return document.body;\n    };\n\n    uniqueId = (function() {\n        var id;\n        id = 0;\n        return function() {\n            return id++;\n        };\n    })();\n\n    zeroPosCache = {};\n\n    getOrigin = function(doc) {\n        var id, k, node, v, _ref;\n        node = doc._tetherZeroElement;\n        if (node == null) {\n            node = doc.createElement('div');\n            node.setAttribute('data-tether-id', uniqueId());\n            extend(node.style, {\n                top: 0,\n                left: 0,\n                position: 'absolute'\n            });\n            doc.body.appendChild(node);\n            doc._tetherZeroElement = node;\n        }\n        id = node.getAttribute('data-tether-id');\n        if (zeroPosCache[id] == null) {\n            zeroPosCache[id] = {};\n            _ref = node.getBoundingClientRect();\n            for (k in _ref) {\n                v = _ref[k];\n                zeroPosCache[id][k] = v;\n            }\n            defer(function() {\n                return zeroPosCache[id] = void 0;\n            });\n        }\n        return zeroPosCache[id];\n    };\n\n    node = null;\n\n    getBounds = function(el) {\n        var box, doc, docEl, k, origin, v, _ref;\n        if (el === document) {\n            doc = document;\n            el = document.documentElement;\n        } else {\n            doc = el.ownerDocument;\n        }\n        docEl = doc.documentElement;\n        box = {};\n        _ref = el.getBoundingClientRect();\n        for (k in _ref) {\n            v = _ref[k];\n            box[k] = v;\n        }\n        origin = getOrigin(doc);\n        box.top -= origin.top;\n        box.left -= origin.left;\n        if (box.width == null) {\n            box.width = document.body.scrollWidth - box.left - box.right;\n        }\n        if (box.height == null) {\n            box.height = document.body.scrollHeight - box.top - box.bottom;\n        }\n        box.top = box.top - docEl.clientTop;\n        box.left = box.left - docEl.clientLeft;\n        box.right = doc.body.clientWidth - box.width - box.left;\n        box.bottom = doc.body.clientHeight - box.height - box.top;\n        return box;\n    };\n\n    getOffsetParent = function(el) {\n        return el.offsetParent || document.documentElement;\n    };\n\n    getScrollBarSize = function() {\n        var inner, outer, width, widthContained, widthScroll;\n        inner = document.createElement('div');\n        inner.style.width = '100%';\n        inner.style.height = '200px';\n        outer = document.createElement('div');\n        extend(outer.style, {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            pointerEvents: 'none',\n            visibility: 'hidden',\n            width: '200px',\n            height: '150px',\n            overflow: 'hidden'\n        });\n        outer.appendChild(inner);\n        document.body.appendChild(outer);\n        widthContained = inner.offsetWidth;\n        outer.style.overflow = 'scroll';\n        widthScroll = inner.offsetWidth;\n        if (widthContained === widthScroll) {\n            widthScroll = outer.clientWidth;\n        }\n        document.body.removeChild(outer);\n        width = widthContained - widthScroll;\n        return {\n            width: width,\n            height: width\n        };\n    };\n\n    extend = function(out) {\n        var args, key, obj, val, _i, _len, _ref;\n        if (out == null) {\n            out = {};\n        }\n        args = [];\n        Array.prototype.push.apply(args, arguments);\n        _ref = args.slice(1);\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            obj = _ref[_i];\n            if (obj) {\n                for (key in obj) {\n                    if (!__hasProp.call(obj, key)) continue;\n                    val = obj[key];\n                    out[key] = val;\n                }\n            }\n        }\n        return out;\n    };\n\n    removeClass = function(el, name) {\n        var className, cls, _i, _len, _ref, _results;\n        if (el.classList != null) {\n            _ref = name.split(' ');\n            _results = [];\n            for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n                cls = _ref[_i];\n                if (cls.trim()) {\n                    _results.push(el.classList.remove(cls));\n                }\n            }\n            return _results;\n        } else {\n            className = getClassName(el).replace(new RegExp(\"(^| )\" + (name.split(' ').join('|')) + \"( |$)\", 'gi'), ' ');\n            return setClassName(el, className);\n        }\n    };\n\n    addClass = function(el, name) {\n        var cls, _i, _len, _ref, _results;\n        if (el.classList != null) {\n            _ref = name.split(' ');\n            _results = [];\n            for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n                cls = _ref[_i];\n                if (cls.trim()) {\n                    _results.push(el.classList.add(cls));\n                }\n            }\n            return _results;\n        } else {\n            removeClass(el, name);\n            cls = getClassName(el) + (\" \" + name);\n            return setClassName(el, cls);\n        }\n    };\n\n    hasClass = function(el, name) {\n        if (el.classList != null) {\n            return el.classList.contains(name);\n        } else {\n            return new RegExp(\"(^| )\" + name + \"( |$)\", 'gi').test(getClassName(el));\n        }\n    };\n\n    getClassName = function(el) {\n        if (el.className instanceof SVGAnimatedString) {\n            return el.className.baseVal;\n        } else {\n            return el.className;\n        }\n    };\n\n    setClassName = function(el, className) {\n        return el.setAttribute('class', className);\n    };\n\n    updateClasses = function(el, add, all) {\n        var cls, _i, _j, _len, _len1, _results;\n        for (_i = 0, _len = all.length; _i < _len; _i++) {\n            cls = all[_i];\n            if (__indexOf.call(add, cls) < 0) {\n                if (hasClass(el, cls)) {\n                    removeClass(el, cls);\n                }\n            }\n        }\n        _results = [];\n        for (_j = 0, _len1 = add.length; _j < _len1; _j++) {\n            cls = add[_j];\n            if (!hasClass(el, cls)) {\n                _results.push(addClass(el, cls));\n            } else {\n                _results.push(void 0);\n            }\n        }\n        return _results;\n    };\n\n    deferred = [];\n\n    defer = function(fn) {\n        return deferred.push(fn);\n    };\n\n    flush = function() {\n        var fn, _results;\n        _results = [];\n        while (fn = deferred.pop()) {\n            _results.push(fn());\n        }\n        return _results;\n    };\n\n    Evented = (function() {\n        function Evented() {}\n\n        Evented.prototype.on = function(event, handler, ctx, once) {\n            var _base;\n            if (once == null) {\n                once = false;\n            }\n            if (this.bindings == null) {\n                this.bindings = {};\n            }\n            if ((_base = this.bindings)[event] == null) {\n                _base[event] = [];\n            }\n            return this.bindings[event].push({\n                handler: handler,\n                ctx: ctx,\n                once: once\n            });\n        };\n\n        Evented.prototype.once = function(event, handler, ctx) {\n            return this.on(event, handler, ctx, true);\n        };\n\n        Evented.prototype.off = function(event, handler) {\n            var i, _ref, _results;\n            if (((_ref = this.bindings) != null ? _ref[event] : void 0) == null) {\n                return;\n            }\n            if (handler == null) {\n                return delete this.bindings[event];\n            } else {\n                i = 0;\n                _results = [];\n                while (i < this.bindings[event].length) {\n                    if (this.bindings[event][i].handler === handler) {\n                        _results.push(this.bindings[event].splice(i, 1));\n                    } else {\n                        _results.push(i++);\n                    }\n                }\n                return _results;\n            }\n        };\n\n        Evented.prototype.trigger = function() {\n            var args, ctx, event, handler, i, once, _ref, _ref1, _results;\n            event = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n            if ((_ref = this.bindings) != null ? _ref[event] : void 0) {\n                i = 0;\n                _results = [];\n                while (i < this.bindings[event].length) {\n                    _ref1 = this.bindings[event][i], handler = _ref1.handler, ctx = _ref1.ctx, once = _ref1.once;\n                    handler.apply(ctx != null ? ctx : this, args);\n                    if (once) {\n                        _results.push(this.bindings[event].splice(i, 1));\n                    } else {\n                        _results.push(i++);\n                    }\n                }\n                return _results;\n            }\n        };\n\n        return Evented;\n\n    })();\n\n    this.Tether.Utils = {\n        getScrollParent: getScrollParent,\n        getBounds: getBounds,\n        getOffsetParent: getOffsetParent,\n        extend: extend,\n        addClass: addClass,\n        removeClass: removeClass,\n        hasClass: hasClass,\n        updateClasses: updateClasses,\n        defer: defer,\n        flush: flush,\n        uniqueId: uniqueId,\n        Evented: Evented,\n        getScrollBarSize: getScrollBarSize\n    };\n\n}).call(this);\n\n\n// https://github.com/HubSpot/tether/blob/master/js/tether.js\n(function() {\n    var MIRROR_LR, MIRROR_TB, OFFSET_MAP, Tether, addClass, addOffset, attachmentToOffset, autoToFixedAttachment, defer, extend, flush, getBounds, getOffsetParent, getOuterSize, getScrollBarSize, getScrollParent, getSize, now, offsetToPx, parseAttachment, parseOffset, position, removeClass, tethers, transformKey, updateClasses, within, _Tether, _ref,\n        __slice = [].slice,\n        __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n    if (this.Tether == null) {\n        throw new Error(\"You must include the utils.js file before tether.js\");\n    }\n\n    Tether = this.Tether;\n\n    _ref = Tether.Utils, getScrollParent = _ref.getScrollParent, getSize = _ref.getSize, getOuterSize = _ref.getOuterSize, getBounds = _ref.getBounds, getOffsetParent = _ref.getOffsetParent, extend = _ref.extend, addClass = _ref.addClass, removeClass = _ref.removeClass, updateClasses = _ref.updateClasses, defer = _ref.defer, flush = _ref.flush, getScrollBarSize = _ref.getScrollBarSize;\n\n    within = function(a, b, diff) {\n        if (diff == null) {\n            diff = 1;\n        }\n        return (a + diff >= b && b >= a - diff);\n    };\n\n    transformKey = (function() {\n        var el, key, _i, _len, _ref1;\n        el = document.createElement('div');\n        _ref1 = ['transform', 'webkitTransform', 'OTransform', 'MozTransform', 'msTransform'];\n        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n            key = _ref1[_i];\n            if (el.style[key] !== void 0) {\n                return key;\n            }\n        }\n    })();\n\n    tethers = [];\n\n    position = function() {\n        var tether, _i, _len;\n        for (_i = 0, _len = tethers.length; _i < _len; _i++) {\n            tether = tethers[_i];\n            tether.position(false);\n        }\n        return flush();\n    };\n\n    now = function() {\n        var _ref1;\n        return (_ref1 = typeof performance !== \"undefined\" && performance !== null ? typeof performance.now === \"function\" ? performance.now() : void 0 : void 0) != null ? _ref1 : +(new Date);\n    };\n\n    (function() {\n        var event, lastCall, lastDuration, pendingTimeout, tick, _i, _len, _ref1, _results;\n        lastCall = null;\n        lastDuration = null;\n        pendingTimeout = null;\n        tick = function() {\n            if ((lastDuration != null) && lastDuration > 16) {\n                lastDuration = Math.min(lastDuration - 16, 250);\n                pendingTimeout = setTimeout(tick, 250);\n                return;\n            }\n            if ((lastCall != null) && (now() - lastCall) < 10) {\n                return;\n            }\n            if (pendingTimeout != null) {\n                clearTimeout(pendingTimeout);\n                pendingTimeout = null;\n            }\n            lastCall = now();\n            position();\n            return lastDuration = now() - lastCall;\n        };\n        _ref1 = ['resize', 'scroll', 'touchmove'];\n        _results = [];\n        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n            event = _ref1[_i];\n            _results.push(window.addEventListener(event, tick));\n        }\n        return _results;\n    })();\n\n    MIRROR_LR = {\n        center: 'center',\n        left: 'right',\n        right: 'left'\n    };\n\n    MIRROR_TB = {\n        middle: 'middle',\n        top: 'bottom',\n        bottom: 'top'\n    };\n\n    OFFSET_MAP = {\n        top: 0,\n        left: 0,\n        middle: '50%',\n        center: '50%',\n        bottom: '100%',\n        right: '100%'\n    };\n\n    autoToFixedAttachment = function(attachment, relativeToAttachment) {\n        var left, top;\n        left = attachment.left, top = attachment.top;\n        if (left === 'auto') {\n            left = MIRROR_LR[relativeToAttachment.left];\n        }\n        if (top === 'auto') {\n            top = MIRROR_TB[relativeToAttachment.top];\n        }\n        return {\n            left: left,\n            top: top\n        };\n    };\n\n    attachmentToOffset = function(attachment) {\n        var _ref1, _ref2;\n        return {\n            left: (_ref1 = OFFSET_MAP[attachment.left]) != null ? _ref1 : attachment.left,\n            top: (_ref2 = OFFSET_MAP[attachment.top]) != null ? _ref2 : attachment.top\n        };\n    };\n\n    addOffset = function() {\n        var left, offsets, out, top, _i, _len, _ref1;\n        offsets = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n        out = {\n            top: 0,\n            left: 0\n        };\n        for (_i = 0, _len = offsets.length; _i < _len; _i++) {\n            _ref1 = offsets[_i], top = _ref1.top, left = _ref1.left;\n            if (typeof top === 'string') {\n                top = parseFloat(top, 10);\n            }\n            if (typeof left === 'string') {\n                left = parseFloat(left, 10);\n            }\n            out.top += top;\n            out.left += left;\n        }\n        return out;\n    };\n\n    offsetToPx = function(offset, size) {\n        if (typeof offset.left === 'string' && offset.left.indexOf('%') !== -1) {\n            offset.left = parseFloat(offset.left, 10) / 100 * size.width;\n        }\n        if (typeof offset.top === 'string' && offset.top.indexOf('%') !== -1) {\n            offset.top = parseFloat(offset.top, 10) / 100 * size.height;\n        }\n        return offset;\n    };\n\n    parseAttachment = parseOffset = function(value) {\n        var left, top, _ref1;\n        _ref1 = value.split(' '), top = _ref1[0], left = _ref1[1];\n        return {\n            top: top,\n            left: left\n        };\n    };\n\n    _Tether = (function() {\n        _Tether.modules = [];\n\n        function _Tether(options) {\n            this.position = __bind(this.position, this);\n            var module, _i, _len, _ref1, _ref2;\n            tethers.push(this);\n            this.history = [];\n            this.setOptions(options, false);\n            _ref1 = Tether.modules;\n            for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n                module = _ref1[_i];\n                if ((_ref2 = module.initialize) != null) {\n                    _ref2.call(this);\n                }\n            }\n            this.position();\n        }\n\n        _Tether.prototype.getClass = function(key) {\n            var _ref1, _ref2;\n            if ((_ref1 = this.options.classes) != null ? _ref1[key] : void 0) {\n                return this.options.classes[key];\n            } else if (((_ref2 = this.options.classes) != null ? _ref2[key] : void 0) !== false) {\n                if (this.options.classPrefix) {\n                    return \"\" + this.options.classPrefix + \"-\" + key;\n                } else {\n                    return key;\n                }\n            } else {\n                return '';\n            }\n        };\n\n        _Tether.prototype.setOptions = function(options, position) {\n            var defaults, key, _i, _len, _ref1, _ref2;\n            this.options = options;\n            if (position == null) {\n                position = true;\n            }\n            defaults = {\n                offset: '0 0',\n                targetOffset: '0 0',\n                targetAttachment: 'auto auto',\n                classPrefix: 'tether'\n            };\n            this.options = extend(defaults, this.options);\n            _ref1 = this.options, this.element = _ref1.element, this.target = _ref1.target, this.targetModifier = _ref1.targetModifier;\n            if (this.target === 'viewport') {\n                this.target = document.body;\n                this.targetModifier = 'visible';\n            } else if (this.target === 'scroll-handle') {\n                this.target = document.body;\n                this.targetModifier = 'scroll-handle';\n            }\n            _ref2 = ['element', 'target'];\n            for (_i = 0, _len = _ref2.length; _i < _len; _i++) {\n                key = _ref2[_i];\n                if (this[key] == null) {\n                    throw new Error(\"Tether Error: Both element and target must be defined\");\n                }\n                if (this[key].jquery != null) {\n                    this[key] = this[key][0];\n                } else if (typeof this[key] === 'string') {\n                    this[key] = document.querySelector(this[key]);\n                }\n            }\n            addClass(this.element, this.getClass('element'));\n            if (this.options.addTargetClasses !== false) {\n                addClass(this.target, this.getClass('target'));\n            }\n            if (!this.options.attachment) {\n                throw new Error(\"Tether Error: You must provide an attachment\");\n            }\n            this.targetAttachment = parseAttachment(this.options.targetAttachment);\n            this.attachment = parseAttachment(this.options.attachment);\n            this.offset = parseOffset(this.options.offset);\n            this.targetOffset = parseOffset(this.options.targetOffset);\n            if (this.scrollParent != null) {\n                this.disable();\n            }\n            if (this.targetModifier === 'scroll-handle') {\n                this.scrollParent = this.target;\n            } else {\n                this.scrollParent = getScrollParent(this.target);\n            }\n            if (this.options.enabled !== false) {\n                return this.enable(position);\n            }\n        };\n\n        _Tether.prototype.getTargetBounds = function() {\n            var bounds, fitAdj, hasBottomScroll, height, out, scrollBottom, scrollPercentage, style, target;\n            if (this.targetModifier != null) {\n                switch (this.targetModifier) {\n                    case 'visible':\n                        if (this.target === document.body) {\n                            return {\n                                top: pageYOffset,\n                                left: pageXOffset,\n                                height: innerHeight,\n                                width: innerWidth\n                            };\n                        } else {\n                            bounds = getBounds(this.target);\n                            out = {\n                                height: bounds.height,\n                                width: bounds.width,\n                                top: bounds.top,\n                                left: bounds.left\n                            };\n                            out.height = Math.min(out.height, bounds.height - (pageYOffset - bounds.top));\n                            out.height = Math.min(out.height, bounds.height - ((bounds.top + bounds.height) - (pageYOffset + innerHeight)));\n                            out.height = Math.min(innerHeight, out.height);\n                            out.height -= 2;\n                            out.width = Math.min(out.width, bounds.width - (pageXOffset - bounds.left));\n                            out.width = Math.min(out.width, bounds.width - ((bounds.left + bounds.width) - (pageXOffset + innerWidth)));\n                            out.width = Math.min(innerWidth, out.width);\n                            out.width -= 2;\n                            if (out.top < pageYOffset) {\n                                out.top = pageYOffset;\n                            }\n                            if (out.left < pageXOffset) {\n                                out.left = pageXOffset;\n                            }\n                            return out;\n                        }\n                        break;\n                    case 'scroll-handle':\n                        target = this.target;\n                        if (target === document.body) {\n                            target = document.documentElement;\n                            bounds = {\n                                left: pageXOffset,\n                                top: pageYOffset,\n                                height: innerHeight,\n                                width: innerWidth\n                            };\n                        } else {\n                            bounds = getBounds(target);\n                        }\n                        style = getComputedStyle(target);\n                        hasBottomScroll = target.scrollWidth > target.clientWidth || 'scroll' === [style.overflow, style.overflowX] || this.target !== document.body;\n                        scrollBottom = 0;\n                        if (hasBottomScroll) {\n                            scrollBottom = 15;\n                        }\n                        height = bounds.height - parseFloat(style.borderTopWidth) - parseFloat(style.borderBottomWidth) - scrollBottom;\n                        out = {\n                            width: 15,\n                            height: height * 0.975 * (height / target.scrollHeight),\n                            left: bounds.left + bounds.width - parseFloat(style.borderLeftWidth) - 15\n                        };\n                        fitAdj = 0;\n                        if (height < 408 && this.target === document.body) {\n                            fitAdj = -0.00011 * Math.pow(height, 2) - 0.00727 * height + 22.58;\n                        }\n                        if (this.target !== document.body) {\n                            out.height = Math.max(out.height, 24);\n                        }\n                        scrollPercentage = this.target.scrollTop / (target.scrollHeight - height);\n                        out.top = scrollPercentage * (height - out.height - fitAdj) + bounds.top + parseFloat(style.borderTopWidth);\n                        if (this.target === document.body) {\n                            out.height = Math.max(out.height, 24);\n                        }\n                        return out;\n                }\n            } else {\n                return getBounds(this.target);\n            }\n        };\n\n        _Tether.prototype.clearCache = function() {\n            return this._cache = {};\n        };\n\n        _Tether.prototype.cache = function(k, getter) {\n            if (this._cache == null) {\n                this._cache = {};\n            }\n            if (this._cache[k] == null) {\n                this._cache[k] = getter.call(this);\n            }\n            return this._cache[k];\n        };\n\n        _Tether.prototype.enable = function(position) {\n            if (position == null) {\n                position = true;\n            }\n            if (this.options.addTargetClasses !== false) {\n                addClass(this.target, this.getClass('enabled'));\n            }\n            addClass(this.element, this.getClass('enabled'));\n            this.enabled = true;\n            if (this.scrollParent !== document) {\n                this.scrollParent.addEventListener('scroll', this.position);\n            }\n            if (position) {\n                return this.position();\n            }\n        };\n\n        _Tether.prototype.disable = function() {\n            removeClass(this.target, this.getClass('enabled'));\n            removeClass(this.element, this.getClass('enabled'));\n            this.enabled = false;\n            if (this.scrollParent != null) {\n                return this.scrollParent.removeEventListener('scroll', this.position);\n            }\n        };\n\n        _Tether.prototype.destroy = function() {\n            var i, tether, _i, _len, _results;\n            this.disable();\n            _results = [];\n            for (i = _i = 0, _len = tethers.length; _i < _len; i = ++_i) {\n                tether = tethers[i];\n                if (tether === this) {\n                    tethers.splice(i, 1);\n                    break;\n                } else {\n                    _results.push(void 0);\n                }\n            }\n            return _results;\n        };\n\n        _Tether.prototype.updateAttachClasses = function(elementAttach, targetAttach) {\n            var add, all, side, sides, _i, _j, _len, _len1, _ref1,\n                _this = this;\n            if (elementAttach == null) {\n                elementAttach = this.attachment;\n            }\n            if (targetAttach == null) {\n                targetAttach = this.targetAttachment;\n            }\n            sides = ['left', 'top', 'bottom', 'right', 'middle', 'center'];\n            if ((_ref1 = this._addAttachClasses) != null ? _ref1.length : void 0) {\n                this._addAttachClasses.splice(0, this._addAttachClasses.length);\n            }\n            add = this._addAttachClasses != null ? this._addAttachClasses : this._addAttachClasses = [];\n            if (elementAttach.top) {\n                add.push(\"\" + (this.getClass('element-attached')) + \"-\" + elementAttach.top);\n            }\n            if (elementAttach.left) {\n                add.push(\"\" + (this.getClass('element-attached')) + \"-\" + elementAttach.left);\n            }\n            if (targetAttach.top) {\n                add.push(\"\" + (this.getClass('target-attached')) + \"-\" + targetAttach.top);\n            }\n            if (targetAttach.left) {\n                add.push(\"\" + (this.getClass('target-attached')) + \"-\" + targetAttach.left);\n            }\n            all = [];\n            for (_i = 0, _len = sides.length; _i < _len; _i++) {\n                side = sides[_i];\n                all.push(\"\" + (this.getClass('element-attached')) + \"-\" + side);\n            }\n            for (_j = 0, _len1 = sides.length; _j < _len1; _j++) {\n                side = sides[_j];\n                all.push(\"\" + (this.getClass('target-attached')) + \"-\" + side);\n            }\n            return defer(function() {\n                if (_this._addAttachClasses == null) {\n                    return;\n                }\n                updateClasses(_this.element, _this._addAttachClasses, all);\n                if (_this.options.addTargetClasses !== false) {\n                    updateClasses(_this.target, _this._addAttachClasses, all);\n                }\n                return _this._addAttachClasses = void 0;\n            });\n        };\n\n        _Tether.prototype.position = function(flushChanges) {\n            var elementPos, elementStyle, height, left, manualOffset, manualTargetOffset, module, next, offset, offsetBorder, offsetParent, offsetParentSize, offsetParentStyle, offsetPosition, ret, scrollLeft, scrollTop, scrollbarSize, side, targetAttachment, targetOffset, targetPos, targetSize, top, width, _i, _j, _len, _len1, _ref1, _ref2, _ref3, _ref4, _ref5, _ref6,\n                _this = this;\n            if (flushChanges == null) {\n                flushChanges = true;\n            }\n            if (!this.enabled) {\n                return;\n            }\n            this.clearCache();\n            targetAttachment = autoToFixedAttachment(this.targetAttachment, this.attachment);\n            this.updateAttachClasses(this.attachment, targetAttachment);\n            elementPos = this.cache('element-bounds', function() {\n                return getBounds(_this.element);\n            });\n            width = elementPos.width, height = elementPos.height;\n            if (width === 0 && height === 0 && (this.lastSize != null)) {\n                _ref1 = this.lastSize, width = _ref1.width, height = _ref1.height;\n            } else {\n                this.lastSize = {\n                    width: width,\n                    height: height\n                };\n            }\n            targetSize = targetPos = this.cache('target-bounds', function() {\n                return _this.getTargetBounds();\n            });\n            offset = offsetToPx(attachmentToOffset(this.attachment), {\n                width: width,\n                height: height\n            });\n            targetOffset = offsetToPx(attachmentToOffset(targetAttachment), targetSize);\n            manualOffset = offsetToPx(this.offset, {\n                width: width,\n                height: height\n            });\n            manualTargetOffset = offsetToPx(this.targetOffset, targetSize);\n            offset = addOffset(offset, manualOffset);\n            targetOffset = addOffset(targetOffset, manualTargetOffset);\n            left = targetPos.left + targetOffset.left - offset.left;\n            top = targetPos.top + targetOffset.top - offset.top;\n            _ref2 = Tether.modules;\n            for (_i = 0, _len = _ref2.length; _i < _len; _i++) {\n                module = _ref2[_i];\n                ret = module.position.call(this, {\n                    left: left,\n                    top: top,\n                    targetAttachment: targetAttachment,\n                    targetPos: targetPos,\n                    attachment: this.attachment,\n                    elementPos: elementPos,\n                    offset: offset,\n                    targetOffset: targetOffset,\n                    manualOffset: manualOffset,\n                    manualTargetOffset: manualTargetOffset,\n                    scrollbarSize: scrollbarSize\n                });\n                if (ret === false) {\n                    return false;\n                } else if ((ret == null) || typeof ret !== 'object') {\n                    continue;\n                } else {\n                    top = ret.top, left = ret.left;\n                }\n            }\n            next = {\n                page: {\n                    top: top,\n                    left: left\n                },\n                viewport: {\n                    top: top - pageYOffset,\n                    bottom: pageYOffset - top - height + innerHeight,\n                    left: left - pageXOffset,\n                    right: pageXOffset - left - width + innerWidth\n                }\n            };\n            if (document.body.scrollWidth > window.innerWidth) {\n                scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n                next.viewport.bottom -= scrollbarSize.height;\n            }\n            if (document.body.scrollHeight > window.innerHeight) {\n                scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n                next.viewport.right -= scrollbarSize.width;\n            }\n            if (((_ref3 = document.body.style.position) !== '' && _ref3 !== 'static') || ((_ref4 = document.body.parentElement.style.position) !== '' && _ref4 !== 'static')) {\n                next.page.bottom = document.body.scrollHeight - top - height;\n                next.page.right = document.body.scrollWidth - left - width;\n            }\n            if (((_ref5 = this.options.optimizations) != null ? _ref5.moveElement : void 0) !== false && (this.targetModifier == null)) {\n                offsetParent = this.cache('target-offsetparent', function() {\n                    return getOffsetParent(_this.target);\n                });\n                offsetPosition = this.cache('target-offsetparent-bounds', function() {\n                    return getBounds(offsetParent);\n                });\n                offsetParentStyle = getComputedStyle(offsetParent);\n                elementStyle = getComputedStyle(this.element);\n                offsetParentSize = offsetPosition;\n                offsetBorder = {};\n                _ref6 = ['Top', 'Left', 'Bottom', 'Right'];\n                for (_j = 0, _len1 = _ref6.length; _j < _len1; _j++) {\n                    side = _ref6[_j];\n                    offsetBorder[side.toLowerCase()] = parseFloat(offsetParentStyle[\"border\" + side + \"Width\"]);\n                }\n                offsetPosition.right = document.body.scrollWidth - offsetPosition.left - offsetParentSize.width + offsetBorder.right;\n                offsetPosition.bottom = document.body.scrollHeight - offsetPosition.top - offsetParentSize.height + offsetBorder.bottom;\n                if (next.page.top >= (offsetPosition.top + offsetBorder.top) && next.page.bottom >= offsetPosition.bottom) {\n                    if (next.page.left >= (offsetPosition.left + offsetBorder.left) && next.page.right >= offsetPosition.right) {\n                        scrollTop = offsetParent.scrollTop;\n                        scrollLeft = offsetParent.scrollLeft;\n                        next.offset = {\n                            top: next.page.top - offsetPosition.top + scrollTop - offsetBorder.top,\n                            left: next.page.left - offsetPosition.left + scrollLeft - offsetBorder.left\n                        };\n                    }\n                }\n            }\n            this.move(next);\n            this.history.unshift(next);\n            if (this.history.length > 3) {\n                this.history.pop();\n            }\n            if (flushChanges) {\n                flush();\n            }\n            return true;\n        };\n\n        _Tether.prototype.move = function(position) {\n            var css, elVal, found, key, moved, offsetParent, point, same, transcribe, type, val, write, writeCSS, _i, _len, _ref1, _ref2,\n                _this = this;\n            if (this.element.parentNode == null) {\n                return;\n            }\n            same = {};\n            for (type in position) {\n                same[type] = {};\n                for (key in position[type]) {\n                    found = false;\n                    _ref1 = this.history;\n                    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n                        point = _ref1[_i];\n                        if (!within((_ref2 = point[type]) != null ? _ref2[key] : void 0, position[type][key])) {\n                            found = true;\n                            break;\n                        }\n                    }\n                    if (!found) {\n                        same[type][key] = true;\n                    }\n                }\n            }\n            css = {\n                top: '',\n                left: '',\n                right: '',\n                bottom: ''\n            };\n            transcribe = function(same, pos) {\n                var xPos, yPos, _ref3;\n                if (((_ref3 = _this.options.optimizations) != null ? _ref3.gpu : void 0) !== false) {\n                    if (same.top) {\n                        css.top = 0;\n                        yPos = pos.top;\n                    } else {\n                        css.bottom = 0;\n                        yPos = -pos.bottom;\n                    }\n                    if (same.left) {\n                        css.left = 0;\n                        xPos = pos.left;\n                    } else {\n                        css.right = 0;\n                        xPos = -pos.right;\n                    }\n                    css[transformKey] = \"translateX(\" + (Math.round(xPos)) + \"px) translateY(\" + (Math.round(yPos)) + \"px)\";\n                    if (transformKey !== 'msTransform') {\n                        return css[transformKey] += \" translateZ(0)\";\n                    }\n                } else {\n                    if (same.top) {\n                        css.top = \"\" + pos.top + \"px\";\n                    } else {\n                        css.bottom = \"\" + pos.bottom + \"px\";\n                    }\n                    if (same.left) {\n                        return css.left = \"\" + pos.left + \"px\";\n                    } else {\n                        return css.right = \"\" + pos.right + \"px\";\n                    }\n                }\n            };\n            moved = false;\n            if ((same.page.top || same.page.bottom) && (same.page.left || same.page.right)) {\n                css.position = 'absolute';\n                transcribe(same.page, position.page);\n            } else if ((same.viewport.top || same.viewport.bottom) && (same.viewport.left || same.viewport.right)) {\n                css.position = 'fixed';\n                transcribe(same.viewport, position.viewport);\n            } else if ((same.offset != null) && same.offset.top && same.offset.left) {\n                css.position = 'absolute';\n                offsetParent = this.cache('target-offsetparent', function() {\n                    return getOffsetParent(_this.target);\n                });\n                if (getOffsetParent(this.element) !== offsetParent) {\n                    defer(function() {\n                        _this.element.parentNode.removeChild(_this.element);\n                        return offsetParent.appendChild(_this.element);\n                    });\n                }\n                transcribe(same.offset, position.offset);\n                moved = true;\n            } else {\n                css.position = 'absolute';\n                transcribe({\n                    top: true,\n                    left: true\n                }, position.page);\n            }\n            if (!moved && this.element.parentNode.tagName !== 'BODY') {\n                this.element.parentNode.removeChild(this.element);\n                document.body.appendChild(this.element);\n            }\n            writeCSS = {};\n            write = false;\n            for (key in css) {\n                val = css[key];\n                elVal = this.element.style[key];\n                if (elVal !== '' && val !== '' && (key === 'top' || key === 'left' || key === 'bottom' || key === 'right')) {\n                    elVal = parseFloat(elVal);\n                    val = parseFloat(val);\n                }\n                if (elVal !== val) {\n                    write = true;\n                    writeCSS[key] = css[key];\n                }\n            }\n            if (write) {\n                return defer(function() {\n                    return extend(_this.element.style, writeCSS);\n                });\n            }\n        };\n\n        return _Tether;\n\n    })();\n\n    Tether.position = position;\n\n    this.Tether = extend(_Tether, Tether);\n\n}).call(this);\n","Namespace('Imgur.Store.AlbumImage');\n\nImgur.Store.AlbumImage = Class.extend({\n    init: function() {\n        this._ = {\n            posts:             {}, // Map of hash -> image objects\n            pendingRequestUrl: null\n        };\n    },\n\n    getImages: function(hash) {\n        return this._.posts[hash] ? this._.posts[hash] : null;\n    },\n\n    setImages: function(hash, data) {\n        this._.posts[hash] = data;\n    },\n\n    deleteImage: function(album_hash, image_hash) {\n        var data = this._.posts[album_hash];\n        var index = data.images.indexOf(image_hash);\n\n        if (index == -1) {\n            return;\n        }\n\n        data.count--;\n        data.images.splice(index, 1);\n    },\n\n    fetchImages: function(hash, success_callback) {\n        var url = '/ajaxalbums/getimages/' + hash + '/hit.json';\n\n        //Prevent duplicate requests\n        if (this._.pendingRequestUrl == url) {\n            return;\n        }\n        \n        this._.pendingRequestUrl = url;\n\n        $.getJSON(url, _.bind(function(response) {\n            if(response != null && 'success' in response && response.success) {\n                this._.posts[hash]       = response.data;\n                this._.pendingRequestUrl = null;\n\n                if(typeof success_callback === 'function') {\n                    success_callback(response.data);\n                }\n            }\n        }, this)).fail(_.bind(function() {\n            this._.pendingRequestUrl = null;\n        }, this));\n    }\n});","Namespace('Imgur.Upload');\n\nImgur.Upload = React.createClass({\n\n    displayName: 'UploadGlobal',\n\n    propTypes: {\n        emitter: React.PropTypes.object,\n        instance: React.PropTypes.string.isRequired,\n        host: React.PropTypes.string.isRequired,\n        hash: React.PropTypes.string,\n        datetime: React.PropTypes.string,\n        images: React.PropTypes.object,\n        historyBackOnModalClose: React.PropTypes.bool\n    },\n\n    TOAST_LEVELS: {\n        INFO: 'info',\n        ERROR: 'error'\n    },\n    DEFAULT_TOAST_TIMEOUTS: 5000, // 5 seconds before toast message disappears\n    ACCEPTED_EXTENSIONS: \".jpg,.jpeg,.png,.gif,.apng,.tiff,.tif,.bmp,.pdf,.xcf,.webp\",\n    PREVIEW_EXTENSIONS: ['.jpg', '.jpeg', '.png', '.gif', '.bmp'],\n    PREVIEW_SIZE_LIMIT: 5 * 1024 * 1024, // don't attempt to use filereader on files > 5mb\n    UPLOAD_ATTEMPT_LIMIT: 3,\n    CHECK_CAPTCHA_PATH: '/upload/checkcaptcha',\n    UPLOAD_PATH: '/upload',\n    MODAL_ANIMATION_ENTER_TIMEOUT: 100,\n    MODAL_ANIMATION_LEAVE_TIMEOUT: 300,\n    POST_ANIMATION_ENTER_TIMEOUT: 600,\n\n    uploadIndex: 0,\n    loadedScriptCount: 0,\n    uploadIntentFired: false,\n    totalUploads: 0,\n\n    // create a virtual album store to hold the images before we have received an album hash\n    virtualStore: Class.extend({\n        getImages: function getImages() {\n            return this.data;\n        },\n\n        setImages: function setImages(hash, data) {\n            this.data = data;\n        },\n\n        fetchImages: function fetchImages() {\n            return;\n        },\n\n        deleteImage: function deleteImage(album_hash, image_hash) {\n            var index = this.data.images.map(function (image) {\n                return image.hash;\n            }).indexOf(image_hash);\n\n            if (index == -1) {\n                return;\n            }\n\n            this.data.count--;\n            this.data.images.splice(index, 1);\n        }\n    }),\n\n    getInitialState: function getInitialState() {\n        var uploadStore = new this.virtualStore();\n        if (this.props.images) {\n            uploadStore.setImages(null, this.props.images);\n        } else {\n            uploadStore.setImages(null, {\n                count: 0,\n                images: []\n            });\n        }\n        return {\n            hash: this.props.hash || null,\n            deletehash: this.props.deletehash || null,\n            uploadStore: uploadStore,\n            datetime: this.props.datetime || null,\n            display: true,\n            toasts: [],\n            showingModal: this.props.initiallyShowingModal,\n            showAddExistingImage: false,\n            uploadComplete: this.props.instance !== 'global', // This controls whether the publish button shows on first load. We should only default to false for new posts.\n            creatingPost: false,\n            published: this.props.instance == 'album' && Imgur.Environment.inGallery\n        };\n    },\n\n    componentDidMount: function componentDidMount() {\n        this.el = {\n            $body: $('body'),\n            $topBar: $('#topbar'),\n            $topBarUploadButton: $('#topbar .upload-button,#topbar .upload-subitem'),\n            $accountUploadButton: $('.account-upload-button'),\n            $cta: $('#cta-container-placeholder'),\n            $existingContent: $('#content,#inside,#upload-album,.content-container-upload-remove,.message-container'), //grab one of: #content for outside page, #inside for inside page, etc,\n            $ads: null, // select these elements at time of upload to prevent a race condition\n            $dropLayer: $('#drop-layer'),\n            $newMemeButton: $('#new-meme-button'),\n            $allPageUploadProgress: $('.all-page-upload-progress')\n        };\n\n        var instance = this.props.instance;\n\n        this.bypassPostRendering = instance == 'all_page' || this.isMemeGen();\n\n        // bind the global upload button to only the global upload module\n        var reactContext = this;\n        if (instance === 'global') {\n            this.el.$topBarUploadButton.on('click.globalupload', function (e) {\n                e.preventDefault();\n                reactContext.analyticsIntent($(this).hasClass('upload-button') ? 'topNav' : 'uploadImagesDropdown');\n                reactContext.showModal();\n            });\n        }\n\n        if (instance === 'all_page') {\n            this.el.$accountUploadButton.click(this.showModal.bind(null, false));\n        }\n\n        if (this.isMemeGen()) {\n            this.el.$newMemeButton.click(this.showModal.bind(null, false));\n        }\n\n        if (this.props.initiallyShowingModal) {\n            this.analyticsIntent('topNav');\n            this.showModal();\n        }\n        //only bind paste and drag & drop handler to one mounted instance of the uploader\n        if (this.isMemeGen() || instance === 'album' || instance === 'all_page' || instance === 'global' && this.props.has_access === false) {\n            document.addEventListener('paste', _.throttle(this.handlePaste, 500));\n            document.addEventListener('drop', this.handleDragDrop);\n            var dropLayer = document.getElementById('drop-layer');\n            if (dropLayer) {\n                dropLayer.addEventListener('dragleave', this.hideDropLayer);\n            }\n            document.addEventListener('dragstart', this.handleDragStart);\n            document.addEventListener('dragend', this.handleDragEnd);\n            document.addEventListener('dragover', this.handleDragOver);\n            document.addEventListener('keyup', this.handleKeyUp);\n        }\n\n        this.checkCaptchaEndpoint = '//' + this.props.host + this.CHECK_CAPTCHA_PATH;\n        this.uploadEndpoint = '//' + this.props.host + this.UPLOAD_PATH;\n\n        var updateProgressBar = function () {\n            var ref = this.refs['total-upload-progress'];\n            if (ref) {\n                var ReactDOM = window.ReactDOM || window.React;\n                var node = ReactDOM.findDOMNode(ref);\n                if ($(window).scrollTop() > 50) {\n                    node.style.position = 'fixed';\n                    node.style.top = '0';\n                    node.style.height = '3px';\n                    node.style.boxShadow = '0 0 5px 4px rgba(57, 196, 66, 0.4)';\n                } else {\n                    node.style.position = 'absolute';\n                    node.style.top = '50px';\n                    node.style.height = '1px';\n                    node.style.boxShadow = '0 0 5px 4px rgba(57, 196, 66, 0.3)';\n                }\n            }\n        }.bind(this);\n        $(window).on('scroll', _.throttle(updateProgressBar, 50));\n    },\n\n    showUploadNotice: function showUploadNotice(count) {\n        var message = count + ' image' + (count === 1 ? '' : 's') + ' saved';\n        var flipContainer = document.getElementById('FlipInfo-Container');\n        if (flipContainer) {\n            ReactDOM.render(React.createElement(Imgur.Elements.FlipInfo, { message: message }), flipContainer);\n        }\n    },\n\n\n    shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n        if (nextState.showAddExistingImage && !this.state.showAddExistingImage) {\n            this.showExistingImageDialog();\n        } else if (!nextState.showAddExistingImage && this.state.showAddExistingImage) {\n            $.colorbox.close();\n        }\n        return true;\n    },\n\n    showExistingImageDialog: function showExistingImageDialog() {\n        var colorBoxId = 'AddExistingImage-Colorbox';\n        $.colorbox({\n            href: '<div id=' + colorBoxId + '></div>',\n            open: true,\n            inline: true,\n            top: '15%',\n            transition: 'none',\n            scrolling: false,\n            width: 655,\n            className: 'blurbox',\n            title: 'Your Images',\n            onComplete: function () {\n                ReactDOM.render(React.createElement(Imgur.Upload.AddExistingImage, {\n                    selectSingle: this.isMemeGen(),\n                    album: 0,\n                    handleDone: this.closeAddExistingImageDialog }), document.getElementById(colorBoxId), $.colorbox.resize);\n            }.bind(this),\n            onCleanup: function () {\n                this.setState({ showAddExistingImage: false });\n            }.bind(this)\n        });\n    },\n\n    isMemeGen: function isMemeGen() {\n        return this.props.instance === 'memegen';\n    },\n\n    componentDidUpdate: function componentDidUpdate() {\n        if (humanMsg.msgType == 'pasting-your-image') {\n            humanMsg.msgType = null;\n            humanMsg.removeMsg();\n        }\n\n        if (this.props.instance == 'all_page') {\n            var count = this.getUploadingCount();\n            if (count) {\n                this.el.$allPageUploadProgress.removeClass('nodisplay').text(count + ' image' + (count > 1 ? 's' : '') + ' uploading...');\n            } else {\n                this.el.$allPageUploadProgress.addClass('nodisplay');\n            }\n        }\n    },\n\n    targetIsInputField: function targetIsInputField(event) {\n        var target = event.target;\n        var targetParent = target.parentNode;\n        var tag = target && target.tagName && target.tagName.toLowerCase();\n\n        if (tag === 'textarea' || tag === 'input') {\n            return true;\n        }\n\n        var ReactDOM = window.ReactDOM || window.React;\n        if (targetParent && targetParent.getAttribute('contenteditable')) {\n            return true;\n        } //Used for titledesc contenteditable\n        if (target.id == 'account-bio') {\n            return true;\n        }\n\n        return false;\n    },\n\n    handleKeyUp: function handleKeyUp(keyEvent) {\n        if (this.targetIsInputField(keyEvent)) {\n            return;\n        }\n\n        var tildeKey = 192,\n            escapeKey = 27;\n\n        if (keyEvent.metaKey || keyEvent.ctrlKey || keyEvent.shiftKey || keyEvent.altKey) {\n            return;\n        }\n\n        switch (keyEvent.keyCode) {\n            case tildeKey:\n                this.analyticsIntent('tilde');\n                this.showModal();\n                break;\n            case escapeKey:\n                this.blur(false, { showAddExistingImage: false });\n                break;\n            default:\n                // Do nothing.\n                break;\n        }\n    },\n\n    addToast: function addToast(toast) {\n        var timeout = toast.timeout || this.DEFAULT_TOAST_TIMEOUTS;\n        var newToastID = toast.id = Date.now();\n\n        this.state.toasts.push(toast);\n        this.setState({\n            toasts: this.state.toasts\n        });\n\n        setTimeout(function () {\n            // remove all URL frontend toast messages\n            fitleredToasts = this.state.toasts.filter(function (toast) {\n                return toast.id !== newToastID;\n            });\n            this.setState({\n                toasts: fitleredToasts\n            });\n        }.bind(this), timeout);\n    },\n\n    showCaptcha: function showCaptcha() {\n        if (typeof grecaptcha == 'undefined') {\n            $.getScript('https://www.google.com/recaptcha/api.js?render=explicit', function () {\n                this.showCaptcha.apply(this, arguments);\n            }.bind(this));\n        } else {\n            if (this.showingCaptcha) {\n                return;\n            }\n            this.showingCaptcha = true;\n\n            $.colorbox({\n                html: '<div id=\"upload-global-captcha\"></div>',\n                top: '15%',\n                width: '480px',\n                height: '200px',\n                transition: 'none',\n                overlayClose: false,\n                escKey: false,\n                className: 'blurbox',\n                title: 'Just making sure you\\'re not a robot',\n                onComplete: function () {\n                    grecaptcha.render('upload-global-captcha', {\n                        sitekey: Imgur.Environment.recaptcha_key,\n                        theme: 'dark',\n                        callback: function (response) {\n                            $.colorbox.close();\n                            this.captchaResponse = response;\n                            this.checkUploadsLimits();\n                        }.bind(this)\n                    });\n                }.bind(this),\n                onCleanup: function () {\n                    this.showingCaptcha = false;\n                }.bind(this)\n            });\n        }\n    },\n\n    blur: function blur() {\n        var showingModal = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n        var additionalState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\n        var newState = {\n            showingModal: showingModal\n        };\n\n        newState = _.assign(newState, additionalState);\n\n        this.setState(newState);\n    },\n\n    blurInvokedByUser: function blurInvokedByUser() {\n        this.uploadIntentFired = false;\n        this.blur(false);\n    },\n\n    showModal: function showModal() {\n        var dropTargetOnly = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n        if (this.state.showAddExistingImage) {\n            return;\n        }\n\n        this.blur(true);\n        this.setState({\n            showingModal: true,\n            dropTargetOnly: dropTargetOnly\n        });\n\n        if (!Imgur.GalleryBundleLoaded && !this.bypassPostRendering) {\n            this.loadScripts();\n        }\n    },\n\n    loadScripts: _.once(function () {\n        if (Imgur.GalleryBundleLoaded) return;\n\n        var length = Imgur.Environment.galleryScripts.length;\n\n        var script_cb = function () {\n            if (this.loadedScriptCount == length) {\n                this.forceUpdate();\n                return;\n            }\n\n            this.loadedScriptCount += 1;\n\n            $.ajax({\n                url: Imgur.Environment.galleryScripts.shift(),\n                dataType: \"script\",\n                success: script_cb,\n                error: script_cb\n            });\n        }.bind(this);\n\n        script_cb();\n\n        Imgur.Environment.galleryCSS.forEach(function (css) {\n            $('head').append('<link type=\"text/css\" rel=\"stylesheet\" href=\"' + css + '\" />');\n        });\n    }),\n\n    addImage: function addImage(index) {\n        this.uploadIndex = index;\n        this.showModal();\n    },\n\n    showDropLayer: _.debounce(function () {\n        this.el.$dropLayer.css({\n            display: 'block'\n        });\n        this.showModal(true);\n    }, 100, true),\n\n    hideDropLayer: function hideDropLayer() {\n        this.blur(false);\n        this.el.$dropLayer.css({ display: 'none' }); //hide the invisible layer that covers 100% height / 100% width during drag over\n    },\n\n    handleDragStart: function handleDragStart(e) {\n        // this prevents uploading by dragging an image within the current tab\n        this.ignoreDrag = true;\n    },\n\n    handleDragEnd: function handleDragEnd(e) {\n        this.ignoreDrag = false;\n    },\n\n    handleDragOver: function handleDragOver(e) {\n        if (!e.dataTransfer.types) {\n            return true;\n        }\n\n        if (this.ignoreDrag) {\n            return true;\n        }\n\n        var types = Array.prototype.slice.call(e.dataTransfer.types); // `types` is not a proper array in Firefox.\n        if (types.indexOf('Files') === -1 && types.indexOf('text/uri-list') === -1) {\n            return true;\n        }\n        e.preventDefault();\n        this.analyticsIntent('drag');\n        this.showDropLayer();\n        return false;\n    },\n\n    analyticsIntent: function analyticsIntent(method) {\n        if (this.uploadIntentFired) return;\n\n        Imgur.Util.jafoLog({\n            event: 'uploadIntent',\n            meta: {\n                method: method\n            }\n        });\n        this.uploadIntentFired = true;\n    },\n\n    analyticsImgIntent: function analyticsImgIntent(method) {\n        Imgur.Util.jafoLog({\n            event: 'uploadImgIntent',\n            meta: {\n                method: method\n            }\n        });\n    },\n\n    handleDragDrop: function handleDragDrop(e) {\n        if (this.ignoreDrag) {\n            return;\n        }\n\n        this.analyticsImgIntent('drag');\n\n        e.preventDefault();\n\n        this.el.$dropLayer.css({ display: 'none' });\n\n        if (!e.dataTransfer) {\n            return false;\n        }\n\n        var url = e.dataTransfer.getData('text/uri-list');\n        if (url) {\n            this.handleURL(url);\n            return;\n        }\n\n        var album_images = this.state.uploadStore.getImages();\n        this.queueLength = this.queueLength || album_images.images.length;\n\n        var items = e.dataTransfer.items || e.dataTransfer.files; // .items is a new specification, .files for legacy support\n        this.loadItems(items);\n        return false;\n    },\n\n    loadItems: function loadItems(items) {\n        var _this = this;\n\n        this.queueLength += items.length;\n        _.each(items, function (item) {\n            return _this.loadItem(item);\n        });\n    },\n\n    loadItem: function loadItem(item) {\n        var entry = void 0;\n\n        if (item.isFile || item.isDirectory) {\n            entry = item;\n        } else if (item.getAsEntry) {\n            entry = item.getAsEntry();\n        } else {\n            // Last resort to try and get entry, prefix function still needed in 2016.\n            entry = item.webkitGetAsEntry && item.webkitGetAsEntry();\n        }\n\n        if (entry) {\n            this.handleEntry(entry);\n            return;\n        }\n\n        if (typeof item.getAsFile === 'function') {\n            this.handleFile(item.getAsFile(), this.uploadIndex);\n            this.uploadIndex++;\n            return;\n        }\n\n        if (File && item instanceof File) {\n            this.handleFile(item, this.uploadIndex);\n            this.uploadIndex++;\n            return;\n        }\n\n        this.queueLength--;\n    },\n\n    handleEntry: function handleEntry(entry) {\n        var _this2 = this;\n\n        if (entry.isFile) {\n            var index = this.uploadIndex;\n            entry.file(function (file) {\n                return _this2.handleFile(file, index);\n            }, function (err) {\n                return console.warn(err);\n            });\n            this.uploadIndex++;\n            return;\n        }\n\n        if (!entry.isDirectory) {\n            return;\n        }\n\n        entry.createReader().readEntries(function (entries) {\n            _this2.queueLength--;\n            _this2.loadItems(entries);\n        }, function (err) {\n            return console.warn(err);\n        });\n    },\n\n    base64URItoBlob: function base64URItoBlob(uri, sliceSize) {\n        // from http://stackoverflow.com/a/16245768\n\n        sliceSize = sliceSize || 512;\n\n        var uri = uri.split(',');\n        var contentType = uri[0].split(':')[1].split(';')[0]; // grabs the mimetype from \"data:image/png;base64,AAAAA...\"\n        var b64Data = uri[1];\n        var byteCharacters = atob(b64Data);\n        var byteArrays = [];\n\n        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n            var slice = byteCharacters.slice(offset, offset + sliceSize);\n\n            var byteNumbers = new Array(slice.length);\n            for (var i = 0; i < slice.length; i++) {\n                byteNumbers[i] = slice.charCodeAt(i);\n            }\n\n            var byteArray = new Uint8Array(byteNumbers);\n\n            byteArrays.push(byteArray);\n        }\n\n        var blob = new Blob(byteArrays, { type: contentType });\n        return blob;\n    },\n\n    handlePaste: function handlePaste(e) {\n        var _this3 = this;\n\n        if (this.targetIsInputField(e)) {\n            return;\n        }\n\n        this.queueLength = this.queueLength || this.state.uploadStore.getImages().images.length;\n\n        var closeBlur = false;\n        var items = e.clipboardData.items;\n\n        // OS X will include an item for a file and one for its name. We can't assume text is a URL.\n        // If we find any files user is pasting files. People don't copy and paste files and URLs at the same time.\n        if (!!_.find(items, function (item) {\n            return item.kind === 'file';\n        })) {\n            _.each(items, function (item) {\n                if (item.type.indexOf('image') !== -1) {\n                    _this3.queueLength++;\n                    humanMsg.msgType = 'pasting-your-image';\n                    humanMsg.displayMsg('Pasting your image...', null, null, true);\n                    _this3.analyticsIntent('pasteImage');\n                    _this3.analyticsImgIntent('pasteImage');\n                    _this3.loadItem(item);\n                    closeBlur = true;\n                }\n            });\n        } else {\n            _.each(items, function (item) {\n                return item.getAsString(_this3.handleURL);\n            });\n        }\n\n        if (closeBlur && this.state.hash) {\n            // Close the modal if we have already rendered the post, otherwise wait for the album create XHR to finish.\n            this.blur(false);\n        }\n    },\n\n    handleURL: function handleURL(url) {\n        this.analyticsIntent('url');\n        this.analyticsImgIntent('url');\n        if (url.substr(0, 5) == 'data:') {\n            // handle base64 URIs\n            var blob = this.base64URItoBlob(url);\n            this.handleFile(blob, this.uploadIndex);\n            this.uploadIndex++;\n            return;\n        }\n\n        var album_images = this.state.uploadStore.getImages();\n\n        var regex = /(?:([^:\\/?#]+):)?(?:\\/\\/([^\\/?#]*))?([^?#]*\\.?(jpe?g|gif|a?png|tiff?|bmp|pdf|xcf|webp))?(?:\\?([^#]*))?(?:#(.*))?/;\n        //todo: validate image URL\n        //if (!regex.test(url)){\n        //    return;\n        //}\n\n        var ext = url.match(regex)[4];\n        ext = ext ? '.' + ext.toLowerCase() : '.jpg';\n\n        var img = new Image();\n        img.onload = function () {\n            var image = _.merge(this.getBaseImageObject(), {\n                file: null,\n                ext: ext,\n                externalURL: url,\n                blobURL: url,\n                reactKey: url + Date.now(),\n                name: url,\n                size: 0,\n                type: null,\n                width: img.width,\n                height: img.height,\n                captchaSuccess: false\n            });\n\n            album_images.images.splice(this.uploadIndex, 0, image);\n            album_images.count += 1;\n\n            this.renderBackendPost();\n        }.bind(this);\n        img.onerror = function () {\n            this.blur(false);\n            humanMsg.displayMsg('URL Failed to Upload', 'error-msg');\n        }.bind(this);\n        img.src = url;\n    },\n\n    handleFileList: function handleFileList(e) {\n        var files = e.target.files;\n\n        this.analyticsImgIntent('browse');\n\n        // initialize the queue length to the album_images store length if we are editing an existing album, then incr by # of files we are loading\n        var album_images = this.state.uploadStore.getImages();\n        this.queueLength = (this.queueLength || album_images.images.length) + files.length;\n\n        for (var i = 0; i < files.length; i++) {\n            this.handleFile(files[i], this.uploadIndex);\n            this.uploadIndex++;\n        }\n    },\n\n    handleAddExistingImage: function handleAddExistingImage() {\n\n        // If we've not uploaded before, just go to album uploads the way we did before.\n        //todo: need to create a new album here and then associate images\n        if (!Imgur.Environment.auth.url) {\n            Imgur.getInstance().signin('upload-modal-my-uploads', true);\n            return;\n        }\n\n        // Hide upload and show image add dialog.\n        this.blur(false, { showAddExistingImage: true });\n    },\n\n    getBaseImageObject: function getBaseImageObject() {\n        return {\n            uploading: true,\n            preloaded: false,\n            loaded: 0,\n            datetime: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n            progress: 0,\n            progressText: '0%'\n        };\n    },\n\n    handleFile: function handleFile(file, index) {\n\n        if (!file) {\n            this.queueLength--;\n            return;\n        }\n\n        if (file.type.indexOf('image') === -1 && file.type.indexOf('pdf') === -1) {\n            this.queueLength--;\n        }\n\n        if (this.state.published) {\n            this.queueLength--;\n            humanMsg.displayMsg('Adding images is disabled while your post is in the gallery', 'error-msg');\n            this.blur(false);\n            return;\n        }\n\n        var album_images = this.state.uploadStore.getImages();\n\n        var ext = file.name ? '.' + file.name.split('.').pop().toLowerCase() : '.jpg';\n        if (this.PREVIEW_EXTENSIONS.indexOf(ext) > -1 && file.size <= this.PREVIEW_SIZE_LIMIT) {\n            //if file type is supported and not too big, try to read it and display it in the browser\n\n            var reader = new FileReader();\n            reader.onload = function (file, reader) {\n                var img = new Image();\n                img.onload = function () {\n\n                    var blobURL = window.URL.createObjectURL(file);\n                    var image = _.merge(this.getBaseImageObject(), {\n                        file: file,\n                        ext: ext,\n                        blobURL: blobURL,\n                        reactKey: blobURL,\n                        name: file.name,\n                        size: file.size,\n                        type: file.type,\n                        width: img.width,\n                        height: img.height\n                    });\n\n                    album_images.images.splice(index, 0, image);\n                    album_images.count += 1;\n                    if (album_images.images.length === this.queueLength) {\n                        this.renderBackendPost();\n                    }\n                }.bind(this);\n                img.src = reader.result;\n            }.bind(this, file, reader);\n            reader.readAsDataURL(file);\n        } else {\n            var image = _.merge(this.getBaseImageObject(), {\n                file: file,\n                ext: ext,\n                blobURL: Imgur.Environment.staticUrl + '/images/large-image-placeholder.png',\n                reactKey: Date.now(),\n                name: file.name,\n                size: file.size,\n                type: file.type,\n                width: 1360,\n                height: 782\n            });\n\n            album_images.images.splice(index, 0, image);\n            album_images.count += 1;\n            if (album_images.images.length === this.queueLength) {\n                this.renderBackendPost();\n            }\n        }\n    },\n\n    renderBackendPost: function renderBackendPost() {\n        this.uploadIndex = 0; // reset upload index so new images get inserted at bottom of post\n        this.queueLength = null;\n\n        if (this.state.hash) {\n            // if we've already uploaded some images\n            this.blur(false); // unmount modal overlay if present\n            this.prepareUpload();\n            if (!this.state.display) {\n                // The user has hit the back button, so let's display the previous upload, navigating forward.\n                this.togglePage(false); // hide existing elements\n                this.setState({\n                    display: true\n                });\n                history.pushState({ globalUpload: true }, null, '/a/' + this.state.hash);\n            }\n        } else {\n            // create album\n            this.captchaType = 'album';\n            this.checkUploadsLimits();\n        }\n    },\n\n    checkUploadsLimits: function checkUploadsLimits(callback) {\n        var createAlbum = this.captchaType == 'album' && !this.bypassPostRendering;\n        var data = {\n            total_uploads: this.getUploadingCount(),\n            create_album: createAlbum,\n            'g-recaptcha-response': this.captchaResponse\n        };\n\n        if (createAlbum) {\n            this.setState({\n                creatingPost: true\n            });\n        } else {\n            var album_images = this.state.uploadStore.getImages().images;\n            for (var i = 0; i < album_images.length; i++) {\n                if (album_images[i].captchaSuccess === false) {\n                    data.url = album_images[i].externalURL;\n                    break;\n                }\n            }\n\n            this.blur(false); // close upload modal\n        }\n        $.ajax({\n            method: 'POST',\n            url: this.checkCaptchaEndpoint,\n            data: data,\n            success: function (res) {\n                typeof callback == 'function' && callback(res.data.new_album_id);\n                if (res.data.overLimits === 1) {\n                    this.showCaptcha();\n                    return;\n                }\n\n                if (!createAlbum) {\n                    var album_images = this.state.uploadStore.getImages().images;\n                    for (var i = 0; i < album_images.length; i++) {\n                        if (album_images[i].captchaSuccess === false) {\n                            album_images[i].captchaSuccess = true;\n                            break;\n                        }\n                    }\n\n                    this.prepareUpload();\n                    return;\n                }\n\n                if (this.props.instance == 'global') {\n                    // unbind upload button so new posts go to /upload\n                    this.el.$topBarUploadButton.off('click.globalupload');\n                }\n\n                this.setState({\n                    hash: res.data.new_album_id,\n                    deletehash: res.data.deletehash,\n                    datetime: moment.utc().format(\"YYYY-MM-DD HH:mm:ss\")\n                }, function () {\n                    this.prepareUpload();\n                });\n\n                this.blur(false); // close upload modal\n                setTimeout(function () {\n                    this.togglePage(false); // hide existing elements\n                    this.el.$topBar.addClass('noopacity').animate({ opacity: 1 }, this.POST_ANIMATION_ENTER_TIMEOUT);\n                    this.setState({\n                        creatingPost: false\n                    });\n                }.bind(this), this.MODAL_ANIMATION_LEAVE_TIMEOUT);\n\n                var path = '/a/' + res.data.new_album_id;\n                if (this.props.instance != 'upload_all') {\n                    history.pushState({ globalUpload: true }, null, path);\n                }\n                window.addEventListener('popstate', function (event) {\n                    var showExistingPage = event.state == null || !event.state.globalUpload;\n                    this.togglePage(showExistingPage);\n                    this.setState({\n                        display: !showExistingPage\n                    });\n                }.bind(this));\n            }.bind(this),\n            error: function (e) {\n                humanMsg.displayMsg('Failed to Create Post', 'error-msg');\n            }.bind(this)\n        });\n    },\n\n    togglePage: function togglePage(display) {\n        if (this.bypassPostRendering) {\n            return;\n        }\n        this.el.$cta.toggle(display);\n        this.el.$existingContent.toggle(display);\n        this.el.$ads = this.el.$ads || $('#div-gpt-ad-top_banner');\n        this.el.$ads.toggle(display);\n        var infScroll = Imgur.InfiniteScroll.getInstance();\n        display ? infScroll.continueInfiniteScroll() : infScroll.stopInfiniteScroll(); // disable infinite scrolling on outside gallery if toggling it's display off, otherwise it always thinks you are at the end of the page\n        this.props.emitter.trigger('blockHotKeys', !display); // disable gallery hotkeys if turning the existing page off and showing newly created post\n        typeof runSlots != 'undefined' && runSlots.clearAdRefreshTimeout(); // stop ads from refreshing periodically\n    },\n    prepareUpload: function prepareUpload() {\n        this.totalUploads = this.getUploadingCount();\n        this.upload();\n    },\n    upload: function upload() {\n        var album_images = this.state.uploadStore.getImages();\n        album_images.images.forEach(function (image, index) {\n            // bail out if this is an existing image that we've already started uploading\n            if (image.hash) {\n                return;\n            }\n\n            if (image.uploadAttempts > this.UPLOAD_ATTEMPT_LIMIT) {\n                album_images.images.splice(index, 1);\n                album_images.count--;\n                this.forceUpdate();\n                return;\n            }\n\n            image.uploadAttempts = image.uploadAttempts || 1;\n            image.uploadAttempts++;\n\n            if (image.xhr && image.xhr.readyState !== XMLHttpRequest.DONE) {\n                // don't recreate the xhr if we already have one\n                if (image.xhr.readyState == XMLHttpRequest.UNSENT) {\n                    // for aborted requests\n                    image.xhr.open('POST', this.uploadEndpoint);\n                    image.xhr.send(image.formData);\n                }\n                return;\n            }\n\n            image.xhr = new XMLHttpRequest();\n            image.formData = new FormData();\n            var onAllPage = this.props.instance == 'all_page';\n\n            // update progress bar\n            image.xhr.upload.addEventListener(\"progress\", function (image, e) {\n                if (e.lengthComputable) {\n                    var progress = Math.round(e.loaded * 100 / e.total);\n                    image.progress = progress;\n                    image.progressText = progress + '%';\n                    image.loaded = e.loaded;\n                    this.forceUpdate();\n                }\n            }.bind(this, image), false);\n\n            // done sending data to server. UI should show a message to indicate it's processing\n            image.xhr.upload.addEventListener(\"load\", function (image, e) {\n                image.progress = null; //tells the imageviewer that the client is done sending data to the server\n                image.progressText = 'Processing...'; //tells the imageviewer that the client is done sending data to the server\n                this.forceUpdate();\n            }.bind(this, image), false);\n\n            // xhr request finished\n            image.xhr.onload = function (image) {\n                if (image.xhr.status === 200) {\n                    var res = JSON.parse(image.xhr.response);\n                    if (res.data && res.data.msid) {\n                        Imgur.Environment.sid = res.data.msid;\n                        Imgur.Environment.msid = res.data.msid;\n                    }\n\n                    var hidingPreviewViaExt = this.PREVIEW_EXTENSIONS.indexOf(image.ext) == -1; // calculate this based on initial upload extension, not upload response data (eg, pdfs, xcfs, tiffs get turned into pngs)\n                    var hidingPreviewViaSize = image.size > this.PREVIEW_SIZE_LIMIT;\n\n                    image.triggerSaveTitleDesc = true;\n                    image.uploading = false;\n\n                    image.hash = res.data.hash;\n                    image.deletehash = res.data.deletehash;\n                    image.animated = res.data.animated;\n                    image.width = res.data.width;\n                    image.height = res.data.height;\n                    image.ext = res.data.ext;\n\n                    // release file pointer and free memory\n                    delete image.file;\n\n                    this.finishUploadIfDone();\n\n                    if (this.isMemeGen()) {\n                        Imgur.MemeGen.getInstance().uploadFinishedCallback(res);\n                        return;\n                    }\n\n                    if (image.animated) {\n                        image.needsRecalc = hidingPreviewViaSize;\n                        onAllPage ? Imgur.Account.getInstance().addImageToThumbs(image) : null;\n                        this.forceUpdate(); // re-render with video tags\n                        return;\n                    }\n\n                    // preload the image from cdn so the user doesn't see a flash of content\n                    var preload = new Image();\n                    preload.onload = function () {\n                        image.preloaded = true;\n                        image.needsRecalc = hidingPreviewViaExt;\n                        this.forceUpdate();\n                        window.URL.revokeObjectURL(image.blobURL);\n                        onAllPage ? Imgur.Account.getInstance().addImageToThumbs(image) : null;\n                    }.bind(this);\n                    var giant_retina_suffix = localStorage.getItem('retina') === '0' ? 'g' : 'r';\n                    giant_retina_suffix = $.browser.mozilla ? '' : giant_retina_suffix; //exclude firefox users from getting giant / retina thumbs\n                    var suffix = onAllPage ? 's' : giant_retina_suffix;\n                    preload.src = Imgur.Environment.cdnUrl + '/' + image.hash + suffix + image.ext;\n                } else if (image.xhr.status == 429) {\n                    album_images.images.forEach(function (image) {\n                        if (image.xhr) {\n                            image.xhr.abort();\n                        }\n                    });\n                    this.captchaType = 'image';\n                    this.showCaptcha();\n                } else {\n                    this.addToast({\n                        level: image.uploadAttempts <= this.UPLOAD_ATTEMPT_LIMIT ? this.TOAST_LEVELS.INFO : this.TOAST_LEVELS.ERROR,\n                        message: image.uploadAttempts <= this.UPLOAD_ATTEMPT_LIMIT ? 'Retrying Upload' : 'Your Image Failed to Upload'\n                    });\n                    this.upload();\n                }\n            }.bind(this, image);\n\n            image.xhr.withCredentials = true; // used by subdomain page, allows XHR to send cookie data to a cross origin domain\n            image.xhr.open('POST', this.uploadEndpoint);\n\n            var albumId = onAllPage ? $('#upload-album-val').val() : this.state.hash;\n            image.formData.append('new_album_id', albumId);\n\n            if (onAllPage) {\n                image.formData.append('resize', $('#upload-album-resize-val').val());\n            }\n\n            if (image.externalURL) {\n                image.formData.append('url', image.externalURL);\n            } else {\n                image.formData.append('Filedata', image.file);\n            }\n\n            image.xhr.send(image.formData);\n        }.bind(this));\n\n        if (this.getUploadingCount() > 0) {\n            window.onbeforeunload = function (e) {\n                return \"Your images are still being uploaded.\";\n            };\n        }\n    },\n\n    getTotalSize: function getTotalSize() {\n        var images = this.state.uploadStore.getImages().images;\n        return images.map(function (image) {\n            return image.uploading ? image.size : 0;\n        }).reduce(function (a, b) {\n            return a + b;\n        }, 0);\n    },\n\n    getTotalLoaded: function getTotalLoaded() {\n        var images = this.state.uploadStore.getImages().images;\n        return images.map(function (image) {\n            return image.uploading ? image.loaded : 0;\n        }).reduce(function (a, b) {\n            return a + b;\n        }, 0);\n    },\n\n    getUploadingCount: function getUploadingCount() {\n        var images = this.state.uploadStore.getImages().images;\n        return images.map(function (image) {\n            return image.uploading ? 1 : 0;\n        }).reduce(function (a, b) {\n            return a + b;\n        }, 0);\n    },\n\n    finishUploadIfDone: function finishUploadIfDone() {\n        if (this.getUploadingCount()) {\n            return;\n        }\n        window.onbeforeunload = null;\n\n        this.rearrangeImages(this.state.uploadStore.getImages(this.state.hash).images);\n\n        Imgur.Util.jafoLog({ event: 'uploadFlowComplete' });\n\n        // Re-render with the completed image options bar.\n        this.setState({\n            uploadComplete: true\n        });\n        this.showUploadNotice(this.totalUploads);\n        this.totalUploads = 0;\n    },\n\n    // Takes an array of strings, the strings being the image hashes. Cancels previous rearranges if still ongoing.\n    rearrangeImages: function rearrangeImages(images) {\n        // postSavingStore is not available on the all page, and we cannot\n        // perform a rearrange\n        if (this.props.instance == 'all_page') {\n            return;\n        }\n\n        if (this.getUploadingCount()) {\n            return;\n        }\n\n        // Prevent a slower rearrange request from overriding a newer one.\n        if (this.rearrangeRequest) {\n            this.rearrangeRequest.abort();\n        }\n\n        if (images.length <= 1) {\n            // rearranging single image album is a no-op\n            return;\n        }\n\n        var order = images.map(function (image) {\n            return image.hash;\n        }).join(',');\n\n        this.postSavingStore.add(this.state.deletehash, 'rearrange');\n\n        this.rearrangeRequest = $.post('/ajaxalbums/rearrangeImages/' + this.state.hash, {\n            order: order,\n            msid: Imgur.Environment.msid\n        }, function () {\n            this.postSavingStore.remove(this.state.deletehash, 'rearrange');\n            this.state.uploadStore.setImages(this.state.hash, {\n                count: images.length,\n                images: images\n            });\n        }.bind(this));\n    },\n\n    saveImages: function saveImages(images, cb) {\n        var hashes = images.map(function (image) {\n            return image.hash;\n        }).join(',');\n        if (!this.state.hash) {\n            this.captchaType = 'album';\n            this.checkUploadsLimits(function (hash) {\n                if (hashes) {\n                    $.post('/ajaxalbums/images/' + hash, { hashes: hashes, change_cover: false }, cb);\n                }\n            }.bind(this));\n            return;\n        }\n        $.post('/ajaxalbums/images/' + this.state.hash, { hashes: hashes, change_cover: false }, cb);\n    },\n\n    closeAddExistingImageDialog: function closeAddExistingImageDialog(selectedImages) {\n        var _this4 = this;\n\n        var currentImages = this.state.uploadStore.getImages();\n        var images = currentImages.images.slice(0, this.uploadIndex).concat(selectedImages).concat(currentImages.images.slice(this.uploadIndex, currentImages.images.length));\n\n        if (!images || !images.length) {\n            this.setState({ showAddExistingImage: false }, function () {\n                if (_this4.props.initiallyShowingModal) {\n                    _this4.showModal();\n                }\n            });\n            return;\n        }\n\n        if (this.isMemeGen()) {\n            var hash = images[0].hash;\n            this.setState({ showAddExistingImage: false });\n            Imgur.MemeGen.getInstance().setAccountImageFromhash(hash);\n            return;\n        }\n\n        this.uploadIndex = 0;\n        this.state.uploadStore.setImages(null, { count: images.length, images: images });\n        this.saveImages(images, function () {\n            return _this4.rearrangeImages(images);\n        });\n        this.setState({\n            showAddExistingImage: false,\n            uploadComplete: this.getUploadingCount() == 0\n        });\n    },\n\n    render: function render() {\n        var Transition = React.addons.CSSTransitionGroup;\n        var post = null;\n\n        var progress = this.getTotalLoaded() / this.getTotalSize() * 100;\n        var displayProgress = this.getUploadingCount() > 0;\n\n        var renderPost = Imgur.GalleryBundleLoaded && // must have the gallery bundle to render post components\n        this.state.hash && // must have a hash to render post\n        this.state.display && // display could be hidden because the user navigated back\n        !this.bypassPostRendering && // no need to render post on all_page / memegen pages\n        !this.state.creatingPost; // state for transitioning the modal out but before new post should be displayed\n\n        if (renderPost) {\n            var headerImage = {\n                title: this.props.instance == 'global' ? '' : Imgur.Environment.image.title,\n                is_album: true,\n                deletehash: this.state.deletehash,\n                hash: this.state.hash,\n                datetime: this.state.datetime\n            };\n\n            this.postSavingStore = this.postSavingStore || new Imgur.Gallery.Store.Saving(this.props.emitter);\n            var tagValidator = new Imgur.Tag.TagValidator(Imgur.Constants.MIN_TAG_LENGTH, Imgur.Constants.MAX_TAG_LENGTH);\n            var tagStore = new Imgur.Gallery.Store.Tag(Imgur.Constants.MAX_TAGS_PER_POST, tagValidator, this.props.emitter);\n\n            var headerProps = {\n                noNav: true,\n                initialImage: headerImage,\n                emitter: this.props.emitter,\n                postSavingStore: this.postSavingStore,\n                published: this.state.published,\n                showEditTools: true\n            };\n\n            var postProps = {\n                data: _.extend({\n                    hash: this.state.hash,\n                    deletehash: this.state.deletehash,\n                    is_album: true\n                }, this.props.data),\n                emitter: this.props.emitter,\n                initial: false,\n                all_loaded: true,\n                album_image_store: this.state.uploadStore,\n                in_gallery: this.state.published,\n                has_access: true,\n                showEditTools: true,\n                postSavingStore: this.postSavingStore,\n                addImage: this.addImage,\n                insideTagController: this.props.insideTagController,\n                analytics: this.props.analytics || null,\n                hide_points: true,\n                hide_views: true,\n                hide_tags: true,\n                hide_report: true,\n                linkifier: this.props.linkifier,\n                rearrangeImages: this.rearrangeImages,\n                tagStore: tagStore\n            };\n\n            var postOptionsProps = {\n                initialHash: this.state.hash,\n                initialIsPublished: this.state.published,\n                emitter: this.props.emitter,\n                deletehash: this.state.deletehash,\n                isAlbum: true,\n                image: headerImage,\n                showShareButton: this.state.uploadComplete,\n                showRearrange: this.state.uploadStore.getImages().images.length > 1,\n                imageStore: this.state.uploadStore,\n                privacy: this.props.privacy,\n                showUploadModal: this.showModal.bind(this, false),\n                uploadStore: this.state.uploadStore,\n                tagStore: tagStore\n            };\n\n            var toasts = this.state.toasts.map(function (toast) {\n                return React.createElement(\n                    'div',\n                    { key: 'toast-' + toast.id, className: 'toast toast-' + toast.level },\n                    React.createElement('i', { className: 'icon-alert toast-' + toast.level }),\n                    toast.message\n                );\n            });\n\n            post = React.createElement(\n                'div',\n                { className: 'upload-global-post' },\n                React.createElement(\n                    'div',\n                    { className: 'left post-pad' },\n                    React.createElement(\n                        'div',\n                        { className: 'post-container' },\n                        React.createElement(\n                            'div',\n                            { className: 'post-header is-owner' },\n                            React.createElement(Imgur.Gallery.Header, headerProps)\n                        ),\n                        React.createElement(\n                            'div',\n                            { className: 'post-images is-owner' },\n                            React.createElement(Imgur.Gallery.Post, postProps)\n                        ),\n                        React.createElement(\n                            'div',\n                            { className: 'post-toasts' },\n                            toasts\n                        )\n                    )\n                ),\n                React.createElement(\n                    'div',\n                    { id: 'right-content', className: 'right' },\n                    React.createElement(\n                        'div',\n                        { id: 'post-options' },\n                        React.createElement(Imgur.PostOptions, postOptionsProps)\n                    )\n                )\n            );\n        }\n\n        // This extra division here is to overcome float imprecision, i.e. scaleX(0.94) instead of scaleX(93.97406031567185).\n        var scale = displayProgress ? Math.round(progress / 100 * 100) / 100 : 0;\n        var style = { transform: 'scaleX(' + scale + ')' };\n        if (!displayProgress) {\n            // This makes the bar go ---> that way when going to 0 width.\n            style.transformOrigin = '100% 100%';\n        }\n        return React.createElement(\n            'div',\n            { className: 'upload-global-layout' },\n            React.createElement('div', { ref: 'total-upload-progress', className: 'total-upload-progress', style: style }),\n            React.createElement(\n                Transition,\n                { transitionName: 'upload-modal', transitionEnterTimeout: this.MODAL_ANIMATION_ENTER_TIMEOUT, transitionLeaveTimeout: this.MODAL_ANIMATION_LEAVE_TIMEOUT },\n                this.state.showingModal ? React.createElement(Imgur.Upload.Modal, { key: 'modal',\n                    handleFileList: this.handleFileList,\n                    handleAddExistingImage: this.handleAddExistingImage,\n                    handleURL: this.handleURL,\n                    blurInvokedByUser: this.blurInvokedByUser,\n                    dropTargetOnly: this.state.dropTargetOnly,\n                    creatingPost: this.state.creatingPost,\n                    historyBackOnClose: this.props.historyBackOnModalClose,\n                    isNewUpload: !this.state.hash,\n                    accept: this.ACCEPTED_EXTENSIONS }) : null\n            ),\n            React.createElement(\n                Transition,\n                { transitionName: 'upload-post', transitionEnterTimeout: this.POST_ANIMATION_ENTER_TIMEOUT, transitionLeave: false },\n                post\n            )\n        );\n    }\n\n});\n//# sourceMappingURL=upload.js.map\n","(function () {\n    \"use strict\";\n\n    Namespace('Imgur.Upload.AddExistingImage');\n\n    var IMAGES_PER_PAGE = 60;\n\n    Imgur.Upload.AddExistingImage = React.createClass({\n        displayName: \"AddExistingImage\",\n\n\n        getInitialState: function getInitialState() {\n            return {\n                currentPage: 1,\n                images: [],\n                selectedImages: [],\n                total: Number.MAX_VALUE\n            };\n        },\n\n        propTypes: {\n            album: React.PropTypes.number.isRequired,\n            handleDone: React.PropTypes.func.isRequired,\n            selectSingle: React.PropTypes.bool\n        },\n\n        componentDidMount: function componentDidMount() {\n            this.fetchImages();\n        },\n\n        fetchImages: function fetchImages() {\n            var _this = this;\n\n            if (this.state.images.length >= this.state.total) {\n                return;\n            }\n\n            var currentPage = this.state.currentPage;\n\n            // Set this before making the request so we don't request the same page multiple times in a race condition.\n            this.setState({\n                currentPage: currentPage + 1\n            }, function () {\n                $.get(\"/ajax/images?sort=0&order=1&album=\" + _this.props.album + \"&page=\" + currentPage + \"&perPage=\" + IMAGES_PER_PAGE, function (response) {\n                    if (!response.success) {\n                        return;\n                    }\n\n                    if (!response.data || !response.data.images) {\n                        return;\n                    }\n\n                    var currentImages = _this.state.images;\n                    _this.setState({\n                        images: currentImages.concat(response.data.images),\n                        total: response.data.count\n                    });\n                });\n            });\n        },\n\n        toggleImageSelect: function toggleImageSelect(hash) {\n            var current = this.props.selectSingle ? [] : this.state.selectedImages;\n            var index = current.indexOf(hash);\n            if (index === -1) {\n                this.setState({ selectedImages: current.concat([hash]) });\n                return;\n            }\n            this.setState({ selectedImages: current.filter(function (curHash) {\n                    return curHash !== hash;\n                }) });\n        },\n\n        handleDone: function handleDone() {\n            var _this2 = this;\n\n            this.props.handleDone(this.state.images.filter(function (image) {\n                return _this2.state.selectedImages.indexOf(image.hash) !== -1;\n            }));\n        },\n\n        render: function render() {\n            var _this3 = this;\n\n            var images = this.state.images.map(function (image) {\n                var classNames = \"AddExistingImage-image\";\n                if (_this3.state.selectedImages.indexOf(image.hash) !== -1) {\n                    classNames += \" AddExistingImage-selectedImage\";\n                }\n                return React.createElement(\n                    \"div\",\n                    { key: \"existing-image-\" + image.hash, className: classNames,\n                        onClick: _.bind(_this3.toggleImageSelect, _this3, image.hash)\n                    },\n                    React.createElement(\"img\", { className: \"AddExistingImage-imagetag\", width: \"90\", height: \"90\",\n                        src: Imgur.Environment.cdnUrl + \"/\" + image.hash + \"s.jpg\" })\n                );\n            });\n\n            return React.createElement(\n                \"div\",\n                { className: \"AddExistingImage\" },\n                React.createElement(\n                    Imgur.Elements.NanoScroller,\n                    { classes: \"AddExistingImage-images\", onScroll: _.debounce(this.fetchImages, 500) },\n                    React.createElement(\n                        \"div\",\n                        { className: \"AddExistingImage-imagesContainer\" },\n                        images\n                    )\n                ),\n                React.createElement(\n                    \"div\",\n                    { className: \"AddExistingImage-buttonbar\" },\n                    React.createElement(\n                        \"button\",\n                        { className: \"beta btn btn-action\", onClick: this.handleDone },\n                        \"Done\"\n                    )\n                )\n            );\n        }\n\n    });\n})();\n//# sourceMappingURL=upload-AddExistingImage.js.map\n","Namespace('Imgur.Dev');\n\nImgur.Dev.DebugVars = {};\n\nImgur.Dev.DebugVar = (function(name, value) { });\n","Namespace('Imgur.Promise');\n\n/**\n * A promiseXHR is a set of XHR requests with a set of success or failure listeners that\n * are fired at the end once all succeed, or once at the first failure.\n */\nImgur.PromiseXHR = Imgur.Emitter.extend({\n    init: function(ajax) {\n        this.aborted = false;\n        this.doneSoFar = 0;\n\n        this.comparer = _.isEqual;\n\n        this.tasks = [];\n        this.jqXHRs = [];\n\n        this._doAjax = ajax || _.bind(jQuery.ajax, jQuery);\n\n        this._super();\n    },\n\n    pushAjax: function(jqxhr_data, opts) {\n        if(this.aborted) {\n            return this;\n        }\n\n        opts = _.merge({\n            success: _.noop,\n            fail: _.noop\n        }, opts);\n\n        var xhr = _.merge(jqxhr_data, {\n            success: _.bind(function(response, textStatus, jqXHR) {\n                if(this.aborted) {\n                    return;\n                }\n\n                if(response != null && typeof response === 'object' && response.status === 200) {\n                    opts.success(response.data);\n                    this.success();\n                } else {\n                    opts.fail(jqXHR, textStatus);\n                    this.abort(textStatus, jqXHR);\n                }\n            }, this),\n            error: _.bind(function(jqXHR, textStatus) {\n                if(this.aborted) {\n                    return;\n                }\n\n                opts.fail(jqXHR, textStatus);\n                this.abort(textStatus, jqXHR);\n            }, this)\n        });\n\n        this.tasks.push(xhr);\n\n        return this;\n    },\n\n    start: function() {\n        if(this.aborted) {\n            return this; \n        }\n\n        _.each(this.tasks, _.bind(function(task) {\n            this.jqXHRs.push(this._doAjax(task));\n        }, this));\n\n\n        if(0 === this.tasks.length) {\n            this.trigger('success');\n        } else {\n            this.trigger('beginajax');\n            this.trigger('progress', 0);\n        }\n\n        return this;\n    },\n\n    success: function() {\n        if(this.aborted) {\n            return this;\n        }\n\n        var doneNow = ++this.doneSoFar,\n            total = this.tasks.length;\n\n        // if zero tasks, avoid divide by zero in progress\n        doneNow = Math.min(total, doneNow);\n\n        if(total > 0) {\n            this.trigger('progress', doneNow / total);\n        }\n\n        if(this.doneSoFar === total) {\n            this.trigger('success');\n        }\n\n        return this;\n    },\n\n    /**\n     * Do something when tasks all succeed, one fails, or once per task\n     *  opts.success    called when all tasks complete\n     *  opts.fail       called when one task fails\n     *  opts.progress   called when any task completes\n     *  opts.beginajax  called when the tasks start (NOT when start() is called on an empty task set)\n     */\n    then: function(opts) {\n        if(this.aborted) {\n            return this;\n        }\n\n        opts = _.merge({\n            success: _.noop,\n            fail: _.noop,\n            progress: _.noop,\n            beginajax: _.noop\n        }, opts);\n\n        this.on('success', null, opts.success);\n        this.on('fail', null, opts.fail);\n        this.on('progress', null, opts.progress);\n        this.on('beginajax', null, opts.beginajax);\n\n        return this;\n    },\n\n    /**\n     * Call the failure callback, and stop all existing XHRs, and stop any future operations from doing anything on this promise.\n     */\n    abort: function(reason) {\n        reason = reason || 'aborted';\n        this.aborted = true;\n\n        _.each(this.jqXHRs, function(xhr) {\n            xhr.abort();\n        });\n\n        var args = [reason].concat(_.toArray(arguments).slice(1));\n\n        this.trigger.apply(this, ['fail'].concat(args));\n\n        this.jqXHRs = [];\n\n        this.trigger('progress', 1);\n\n        this.off(['success', 'fail', 'progress', 'beginajax']);\n\n        return this;\n    }\n});\n","Namespace('Imgur');\n\nImgur.Linkifier = Class.extend({\n    init: function() {\n        this._ = {\n            viewerOrder: [],\n            viewers: {},\n            grabbers: []\n        };\n    },\n\n    addGrabber: function(grabber) {\n        this._.grabbers.push(grabber);\n    },\n\n    addViewer: function(name, viewer) {\n        this._.viewers[name] = viewer;\n\n        if(this._.viewerOrder.indexOf(name) === -1) {\n            this._.viewerOrder.push(name);\n        }\n    },\n\n    prependViewer: function(name, viewer) {\n        this._.viewers[name] = viewer;\n\n        if(this._.viewerOrder.indexOf(name) === -1) {\n            this._.viewerOrder.unshift(name);\n        }\n    },\n\n    prependGrabber: function(grabber) {\n        this._.grabbers.unshift(grabber);\n    },\n\n    /**\n     * Convert a string into a <span> with links wrapped in <a>'s.\n     */\n    grab: function(str) {\n        var scan_results = [];\n\n        for(var i = 0, grabber = this._.grabbers[i]; i < this._.grabbers.length; i++, grabber = this._.grabbers[i]) {\n            var scan_result = grabber.scan(str);\n\n            if(scan_result !== false) {\n                for(var j = 0; j < scan_result.length; j++) {\n                    var grabbed = str.substr(scan_result[j].begin, scan_result[j].end - scan_result[j].begin + 1);\n\n                    scan_results.push({\n                        scan: scan_result[j],\n                        grabbed: grabbed,\n                        replaced: grabber.grab(grabbed),\n                        priority: i\n                    });\n                }\n            }\n        }\n\n        /* \n        Sort the scan results so that:\n            (a) the grabs that start near the beginning of the string are first, and\n            (b) the most inclusive grabs are before the less inclusive grabs\n            (c) two grabbers over the same URL are sorted in order of which was attached first\n        */\n        scan_results.sort(function(a, b) {\n            if(a.scan.begin < b.scan.begin) {\n                return -1;\n            } else if(a.scan.begin > b.scan.begin) {\n                return 1;\n            } else {\n                if(a.scan.end > b.scan.end) {\n                    return -1;\n                } else if(a.scan.end < b.scan.end) {\n                    return 1;\n                } else {\n                    if(a.priority < b.priority) {\n                        return -1;\n                    } else if(a.priority > b.priority) {\n                        return 1;\n                    } else {\n                        return 0;\n                    }\n                }\n            }\n        });\n\n        // Detect intersecting grabs\n        var intersectingMap = {};\n\n        for(var i = 0; i < scan_results.length; i++) {\n            var scan_result = scan_results[i].scan;\n\n            if(scan_results.length > (i+1)) {\n                for(var j = 1; j < scan_results.length - i; j++) {\n                    var other_scan_result = scan_results[i+j].scan;\n\n                    var intersects = false;\n\n                    intersects = intersects || (other_scan_result.begin >= scan_result.begin && other_scan_result.begin <= scan_result.end);\n                    intersects = intersects || (other_scan_result.end >= scan_result.begin && other_scan_result.end <= scan_result.end);\n                    \n                    if(intersects) {\n                        intersectingMap[i+j] = true;\n                    }\n                }\n            }\n        }\n        \n        // Remove intersecting grabs\n        var intersecting = _.map(Object.keys(intersectingMap), Number);\n        intersecting.sort(function(a, b) {\n            if(a<b) return -1;\n            if(a>b) return 1;\n            return 0;\n        });\n\n        for(var i = 0; i < intersecting.length; i++) {\n            scan_results.splice(intersecting[i] - i, 1);\n        }\n\n        var container_props = {};\n        var container_children = [];\n\n        if(scan_results.length) {\n            var prefix = str.substr(0, scan_results[0].scan.begin);\n\n            if(prefix.length) {\n                container_children.push(React.DOM.span({key: 'prefix' + prefix}, prefix));\n            }\n\n            for(var i = 0; i < scan_results.length; i++) {\n                var scan_result = scan_results[i].scan,\n                    grab_result = scan_results[i].replaced;\n\n                if(i > 0) {\n                    var prev_scan_result = scan_results[i-1].scan;\n                    var before = str.substr(prev_scan_result.end + 1, scan_result.begin - 1 - prev_scan_result.end);\n\n                    if(before.length) {\n                        container_children.push(React.DOM.span({key: 'before' + i}, before));\n                    }\n                }\n\n                var link_props = {\n                    href: grab_result.href.replace(/^https:/, ''),\n                    target: '_blank',\n                    key: 'link' + i\n                };\n\n                if(grab_result.rel) {\n                    link_props.rel = grab_result.rel;\n                }\n\n                container_children.push(React.DOM.a(link_props, grab_result.text));\n            }\n\n            var suffix = str.substr(scan_results[scan_results.length - 1].scan.end + 1);\n\n            if(suffix.length) {\n                container_children.push(React.DOM.span({key: 'suffix' + suffix}, suffix));\n            }\n\n            container_props.className = 'linkified';\n        } else {\n            container_children.push(React.DOM.span({key: str}, str));\n        }\n        \n        return React.DOM.span(container_props, container_children);\n    },\n\n    /**\n     * Attach listeners to links they are capable of listening to\n     */\n    attach: function(node) {\n        $(node).on('click', 'a', _.partial(this._handleLinkClicked, this));\n        $(node).on('mouseover', 'a', _.partial(this._handleLinkHovered, this, true));\n        $(node).on('mouseout', 'a', _.partial(this._handleLinkHovered, this, false));\n    },\n\n    attachDelegate: function(node) {\n        $(node).on('click', 'span.linkified a', _.partial(this._handleLinkClicked, this));\n        $(node).on('mouseover', 'span.linkified a', _.partial(this._handleLinkHovered, this, true));\n        $(node).on('mouseout', 'span.linkified a', _.partial(this._handleLinkHovered, this, false));\n    },\n\n    _handleLinkClicked: function(self, e) {\n        var href = $(this).attr('href');\n\n        for(var i = 0, viewerName = self._.viewerOrder[i]; i < self._.viewerOrder.length; i++, viewerName = self._.viewerOrder[i]) {\n            var viewer = self._.viewers[viewerName];\n\n            if(viewer.canView(e, href)) {\n                viewer.dispatch(e, href, $(this));\n                return;\n            }\n        }\n    },\n\n    _handleLinkHovered: function(self, inout, e) {\n        var href = $(this).attr('href');\n\n        for(var i = 0, viewerName = self._.viewerOrder[i]; i < self._.viewerOrder.length; i++, viewerName = self._.viewerOrder[i]) {\n            var viewer = self._.viewers[viewerName];\n\n            if(viewer.canHover(href, $(this))) {\n                if(inout) {\n                    viewer.hoverover(e, href, $(this));\n                } else {\n                    viewer.hoverout(e, href, $(this));\n                }\n                return;\n            }\n        }\n    }\n});\n","Namespace('Imgur.Linkify');\n\nImgur.Linkify.UsernameGrabber = Class.extend({\n    REGEX: /(?:^|[^A-z0-9])@([A-z0-9]{4,})/g,\n\n    scan: function(str) {\n        var match = null;\n        var matches = [];\n\n        while((match = this.REGEX.exec(str)) !== null) {\n            var beginning = match.index,\n                end = match.index + match[1].length;\n\n            if(match[0][0] !== '@') {\n                // A username that didn't match the start of the string has a preceding junk character\n                beginning++;\n                end++;\n            }\n\n            matches.push({\n                begin: beginning,\n                end: end\n            });\n        }\n\n        return matches;\n    },\n\n    grab: function(link) {\n        var name = link.substr(1);\n\n        return {\n            href: '/user/' + name,\n            text: link\n        };\n    }\n});\n","Namespace('Imgur.Linkify');\n\nImgur.Linkify.HashtagGrabber = Class.extend({\n    scan: function(str) {\n        var match;\n        var matches = [];\n\n        while((match = Imgur.Util.hashtagRegex.exec(str)) !== null) {\n            var beginning = match.index,\n                end = match.index + match[0].length - 1;\n\n            matches.push({\n                begin: beginning,\n                end: end\n            });\n        }\n\n        return matches;\n    },\n\n    grab: function(link) {\n        var tagname = link.substr(1);\n\n        return {\n            href: '/t/' + tagname,\n            text: link\n        };\n    }\n});\n","Namespace('Imgur.Linkify');\n\nImgur.Linkify.OpGrabber = Class.extend({\n    init: function(emitter) {\n        this._ = {\n            currentOp: null\n        };\n\n        // 'select' can have timing issues with the comments\n        // start off looking for beforeComments events\n        emitter.on('beforeComments', this, this.handleImageChange);\n        emitter.on('select', this, this.handleImageChange);\n    },\n\n    REGEX: /(?:^|[^A-z0-9])@([A-z0-9]{4,}|op(?=([^A-z0-9]|$)))/gi,\n\n    scan: function(str) {\n        var match = null;\n        var matches = [];\n\n        if(!this._.currentOp) {\n            // no valid OP to mention\n            return matches;\n        }\n\n        while((match = this.REGEX.exec(str)) !== null) {\n            var beginning = match.index,\n                end = match.index + match[1].length;\n\n            if(match[0][0] !== '@') {\n                // A username that didn't match the start of the string has a preceding junk character\n                beginning++;\n                end++;\n            }\n\n            matches.push({\n                begin: beginning,\n                end: end\n            });\n        }\n\n        return matches;\n    },\n\n    handleImageChange: function(image) {\n        this._.currentOp = (image && image.account_url)? image.account_url : null;\n    },\n\n    grab: function(link) {\n        return {\n            href: '/user/' + this._.currentOp,\n            text: link\n        };\n    }\n});\n","Namespace('Imgur.Linkify');\n\nImgur.Linkify.PlainGrabber = Class.extend({\n    scan: function(str) {\n        var regex = /(https?:\\/\\/(((\\w|\\.)+)(\\/)?([^.\\\"!\\s]+((\\.(jpe?g|gif|png)))?))+[^.,?&\\/\\\"\\'\\!\\:\\s])/ig;\n        var match = null;\n        var matches = [];\n\n        while((match = regex.exec(str)) !== null) {\n            matches.push({\n                begin: match.index,\n                end: match.index + match[0].length - 1\n            });\n        }\n\n        return matches;\n    },\n\n    grab: function(link) {\n        var attributes = {};\n        attributes['href'] = attributes['text'] = link;\n        if (0 > link.indexOf(Imgur.Environment.host)) {\n            attributes['rel'] = 'noreferrer nofollow';\n        }\n        return attributes;\n    }\n});\n","Namespace('Imgur.Linkify');\n\nImgur.Linkify.AlbumImageGrabber = Class.extend({\n    scan: function(str) {\n        var regex = /(#[0-9]+)/g;\n        var match = null;\n        var matches = [];\n\n        while((match = regex.exec(str)) !== null) {\n            matches.push({\n                begin: match.index,\n                end: match.index + match[0].length - 1\n            });\n        }\n\n        return matches;\n    },\n\n    grab: function(link) {\n        var name = link.substr(1);\n\n        return {\n            href: link,\n            text: link\n        };\n    }\n});\n","Namespace('Imgur.Linkify');\n\nImgur.Linkify.ImgurGrabber = Class.extend({\n    init: function(host, cdnUrl) {\n        this._ = {\n            REGEX: new RegExp('(?:https?:)?//(?:www\\.|img\\.|i\\.)?' + Imgur.Util.escapeRegex(host) + '/(?!gallery)(?!contact)(?!random)(?!rules)([A-z0-9]{5,7})(\\.(?:gif|png|jpe?g))?', 'g'),\n            \n            // stateless regex; 'g' is stateful\n            REGEX_SINGLE: new RegExp('(?:https?:)?//(?:www\\.|img\\.|i\\.)?' + Imgur.Util.escapeRegex(host) + '/(?!gallery)(?!contact)(?!random)(?!rules)([A-z0-9]{5,7})(\\.(?:gif|png|jpe?g))?'),\n            cdnUrl: cdnUrl\n        };\n    },\n\n    scan: function(str) {\n        var match = null;\n        var matches = [];\n\n        while((match = this._.REGEX.exec(str)) !== null) {\n            matches.push({\n                begin: match.index,\n                end: match.index + match[0].length - 1\n            });\n        }\n\n        return matches;\n    },\n\n    grab: function(href) {\n        var match = this._.REGEX_SINGLE.exec(href);\n        var hash  = match[1];\n        var ext   = match[2] ? match[2] : '.jpg';\n\n        return {\n            href: this._.cdnUrl + '/' + hash + ext,\n            text: href\n        };\n    }\n});\n","Namespace('Imgur.Linkify');\n\nImgur.Linkify.YoutubeViewer = Class.extend({\n    REGEX: new RegExp('^(?:https?:)?//(?:www\\\\.)?(?:youtube\\\\.com\\\\/watch\\\\?v=([A-z0-9-]+)|youtu\\\\.be\\\\/([A-z0-9-]+))'),\n\n    canView: function(e, href) {\n        return !e.ctrlKey && !e.metaKey && !e.altKey && !e.shiftKey && href.match(this.REGEX);\n    },\n\n    canHover: function(href) {\n        return false;\n    },\n\n    dispatch: function(e, href, $el) {\n        e.preventDefault();\n\n        var matches = this.REGEX.exec(href);\n        var videoId = matches[1] || matches[2];\n\n        $el.colorbox({\n            href: '//www.youtube.com/embed/' + videoId + '?autoplay=1',\n            transition: 'none',\n            className: 'noHeader',\n            fixed: true,\n            width: '600px',\n            height: '400px',\n            iframe: true,\n            scrolling: false\n        });\n    }\n});\n","Namespace('Imgur.Linkify');\n\nImgur.Linkify.Html5VideoViewer = Class.extend({\n    REGEX: new RegExp('^(?:https?:)?//.*\\.(mp4|webm)$'),\n\n    init: function() {\n        this._ = {\n            heightCache: {}\n        };\n    },\n\n    canView: function(e, href) {\n        return !e.ctrlKey && !e.metaKey && !e.altKey && !e.shiftKey && href.match(this.REGEX);\n    },\n\n    canHover: function(href) {\n        return href.match(this.REGEX);\n    },\n\n    hoverover: function(e, href, $el) {\n        var matches = this.REGEX.exec(href);\n        var ext = matches[1], height;\n\n        if(this._.heightCache.hasOwnProperty(href)) {\n            height = String(this._.heightCache[href]) + 'px';\n            if($el.data('tipsy')) {\n                var $tip = $el.data('tipsy').$tip;\n                $tip.remove();\n                $el.data('tipsy', null);\n            }\n        } else {\n            height = '0px';\n        }\n\n        /**\n         * At the time the tipsy renders, we don't know the height the video will end up being, because it hasn't rendered yet.\n         * Because of this, Tipsy's gravity calculation will be thrown off. \n         * \n         * Keep track of the heights of a given URL, and when the video loads, reposition the tipsy.\n         */\n\n        var html = '<video style=\"max-width: 250px; height: ' + height + '; max-height: 250px;\" loop autoplay muted><source type=\"video/' + Imgur.Util.htmlEntity(ext) + '\" src=\"' + Imgur.Util.htmlEntity(href) + '\" /></video>';\n\n        $el.tipsy({\n            gravity:  $.fn.tipsy.autoNS,\n            title:    function() { return html; },\n            html:     true,\n            opacity:  1,\n            offset:   2,\n            trigger:  'manual'\n        });\n\n        $el.tipsy('show');\n\n        var $video = $el.data('tipsy').$tip.find('video');\n\n        if(!this._.heightCache.hasOwnProperty(href)) {\n            $video.one('timeupdate', _.bind(function(e) {\n                $video.css('height', 'auto');\n                \n                if(e.target.clientHeight > 0) {\n                    this._.heightCache[href] = e.target.clientHeight;\n                }\n                \n                this.hoverover(e, href, $el);\n            }, this));\n        }\n    },\n\n    hoverout: function(e, href, $el) {\n        $('.tipsy').remove();\n    },\n\n    dispatch: function(e, href, $el) {\n        e.preventDefault();\n\n        var matches = this.REGEX.exec(href);\n        var ext = matches[1];\n\n        var $video = $('<video loop id=\"videocbox\"><source type=\"video/' + Imgur.Util.htmlEntity(ext) + '\" src=\"' + Imgur.Util.htmlEntity(href) + '\" /></video>');\n\n        $video[0].onloadedmetadata = function(e) {\n            // <video> does not have instrinsic height until child <source> is loaded\n            // putting this in colorbox->onComplete results in a shifting frame\n            var width = $video[0].videoWidth;\n            var height = $video[0].videoHeight;\n\n            $el.colorbox.resize({\n                innerWidth: width,\n                innerHeight: height,\n            });\n\n            // Chrome won't autoplay so we're just going to do it manually for all browsers\n            $video[0].play();\n        };\n\n        $el.colorbox({\n            html: $video,\n            className: 'noHeader',\n            scrolling: false,\n            fixed: true,\n        });\n    }\n});\n","Namespace('Imgur.Linkify');\n\nImgur.Linkify.ImageViewer = Class.extend({\n    REGEX: new RegExp('^(?:https?:)?//.*\\.(jpe?g|gif|png)(?:[?#].*)?$'),\n\n    init: function() {\n        this._ = {\n            currentTipsy: null\n        };\n    },\n\n    canView: function(e, href) {\n        return !e.ctrlKey && !e.metaKey && !e.altKey && !e.shiftKey && href.match(this.REGEX);\n    },\n\n    canHover: function(href) {\n        return href.match(this.REGEX);\n    },\n\n    hoverout: function(e, href, $el) {\n        if(null !== this._.currentTipsy) {\n            this._.currentTipsy.abort();\n            this._.currentTipsy = null;\n        }\n\n        $('.tipsy').remove();\n    },\n\n    hoverover: function(e, href, $el) {\n        this._.currentTipsy = new Imgur.Linkify.Tipsy($el, href);\n        this._.currentTipsy.load();\n    },\n\n    dispatch: function(e, href, $el) {\n        e.preventDefault();\n\n        $el.colorbox({\n            initialHeight: 240,\n            initialWidth: 320,\n            maxWidth: '95%',\n            maxHeight: '95%',\n            className: 'noHeader',\n            scalePhotos: true,\n            photo: true,\n            fixed: true,\n            transition: 'elastic',\n            scrolling: false,\n            onOpen: function() { $('.tipsy').remove() },\n            onComplete: function() { $('.tipsy').remove() }\n        });\n    }\n});\n","Namespace('Imgur.Linkify');\n\nImgur.Linkify.ImgurViewer = Class.extend({\n    init: function() {\n        this._ = {\n            currentTipsy: null,\n            REGEX: new RegExp(Imgur.Util.escapeRegex(Imgur.Environment.cdnUrl) + '/(?!gallery)(?!random)([A-z0-9]{5,7})(?!\\.gifv)', 'g')\n        };\n    },\n\n    canView: function(e, href) {\n        return !e.ctrlKey && !e.metaKey && !e.altKey && !e.shiftKey && href.match(this._.REGEX);\n    },\n\n    canHover: function(href) {\n        return false;\n    },\n\n    hoverout: function(e, href, $el) {\n    },\n\n    hoverover: function(e, href, $el) {\n    },\n\n    dispatch: function(e, href, $el) {\n        var hash = this._.REGEX.exec(href)[1];\n\n        $el.colorbox({\n            initialHeight: 240,\n            initialWidth: 320,\n            maxWidth: '95%',\n            maxHeight: '95%',\n            className: 'noHeader',\n            scalePhotos: true,\n            photo: true,\n            fixed: true,\n            transition: 'elastic',\n            scrolling: false,\n            onOpen: function() { \n                $('.tipsy').remove() \n            },\n            onComplete: function() { \n                $('.tipsy,#favorite-bar').remove();\n\n                $.getJSON('/ajax/favorited/' + hash, _.bind(Imgur.getInstance().appendFavoriteBar, Imgur.getInstance(), hash, href));\n            },\n            onClosed: function() {\n                $('.tipsy,#favorite-bar').remove();\n            }\n        });\n    }\n});\n","Namespace('Imgur.Linkify');\n\nImgur.Linkify.ImgurGifvViewer = Class.extend({\n    init: function(html5viewer) {\n        this._ = {\n            REGEX: new RegExp(Imgur.Util.escapeRegex(Imgur.Environment.cdnUrl) + '/(?!gallery)(?!random)([A-z0-9]{5,7})\\.gifv'),\n            html5viewer: html5viewer\n        };\n    },\n\n    canView: function(e, href) {\n        return !e.ctrlKey && !e.metaKey && !e.altKey && !e.shiftKey && href.match(this._.REGEX);\n    },\n\n    canHover: function(href) {\n        return href.match(this._.REGEX);\n    },\n\n    hoverout: function(e, href, $el) {\n        this._.html5viewer.hoverout(e, href.replace(/\\.gifv$/,'.mp4'), $el);\n    },\n\n    hoverover: function(e, href, $el) {\n        this._.html5viewer.hoverover(e, href.replace(/\\.gifv$/,'.mp4'), $el);\n    },\n\n    dispatch: function(e, href, $el) {\n        var hash = this._.REGEX.exec(href)[1];\n        this._.html5viewer.dispatch(e, href.replace(/\\.gifv$/,'.mp4'), $el);\n        \n        $el.colorbox({\n            initialHeight: 240,\n            initialWidth: 320,\n            maxWidth: '95%',\n            maxHeight: '95%',\n            className: 'noHeader',\n            scalePhotos: true,\n            photo: true,\n            fixed: true,\n            transition: 'elastic',\n            scrolling: false,\n            onOpen: function() { \n                $('.tipsy').remove() \n            },\n            onComplete: function() { \n                $('.tipsy,#favorite-bar').remove();\n\n                $.getJSON('/ajax/favorited/' + hash, _.bind(Imgur.getInstance().appendFavoriteBar, Imgur.getInstance(), hash, href));\n            },\n            onClosed: function() {\n                $('.tipsy,#favorite-bar').remove();\n            }\n        });\n    }\n});\n","Namespace('Imgur.Linkify');\n\nImgur.Linkify.Tipsy = Class.extend({\n    init: function($el, href) {\n        this._ = {\n            state: undefined,\n            img: null,\n            $el: $el,\n            href: href,\n            overrideHtml: null\n        };\n    },\n\n    STATE: {\n        LOADING: 1,\n        LOADED: 2,\n        ERROR: 3,\n        ABORTED: 4,\n        OVERRIDDEN: 5\n    },\n\n    /**\n     * The user moved their mouse away, so if we finish loading an image\n     * after that happens, this function marks it as aborted\n     */\n    abort: function() {\n        this._.state = this.STATE.ABORTED;\n\n        if(this._.img) {\n            this._.img.onload = (function() { });\n            this._.img.onerror = (function() { });\n        }\n\n        this._.$el.tipsy('hide');\n    },\n\n    override: function(html) {\n        this._.overrideHtml = html;\n        this._.state = this.STATE.OVERRIDDEN;\n        this.render();\n    },\n\n    render: function() {\n        if(this._.state == this.STATE.ABORTED) {\n            return;\n        }\n\n        var html = '';\n\n        switch(this._.state) {\n            case this.STATE.LOADED:\n                html = '<img style=\"max-width:100%; max-height: 300px\" src=\"' + this._.href + '\">';\n            break;\n            case this.STATE.LOADING:\n                html = '<img style=\"width: 25px;\" src=\"//s.imgur.com/images/loaders/ddddd1_121211/48.gif\">';\n            break;\n            case this.STATE.ERROR:\n                html = '<div>Image could not be loaded</div>';\n            break;\n            case this.STATE.OVERRIDDEN:\n                html = this._.overrideHtml;\n            break;\n        }\n\n        if(this._.$el.data('tipsy') !== undefined) {\n            this._.$el.data('tipsy').$tip.remove();\n            this._.$el.removeData('tipsy');\n        }\n\n        this._.$el.tipsy({\n            delayIn:  200,\n            gravity:  $.fn.tipsy.autoNS,\n            title:    function() { return html; },\n            html:     true,\n            opacity:  1,\n            offset:   2,\n            trigger:  'manual'\n        });\n        \n        this._.$el.tipsy('show');\n    },\n\n    load: function() {\n        this._.img = new Image();\n        this._.img.src = this._.href;\n\n        if(!this._.img.complete) {\n            this._.state = this.STATE.LOADING;\n\n            this._.img.onerror = _.bind(function() {\n                if(this._.state !== this.STATE.ABORTED) {\n                    this._.state = this.STATE.ERROR;\n                    this.render();\n                }\n            }, this);\n\n            this._.img.onload = _.bind(function() {\n                if(this._.state !== this.STATE.ABORTED) {\n                    this._.state = this.STATE.LOADED;\n                    this.render();\n                }\n            }, this);\n\n        } else {\n            this._.state = this.STATE.LOADED;\n        }\n\n        this.render();\n\n        this._.img = null; // clear reference to allow gc once it's done loading\n    }\n});\n","Namespace('Imgur.Linkify');\n\nImgur.Linkify.AlbumImageViewer = Class.extend({\n    init: function(hash) {\n        this._ = {\n            hash: hash,\n            pendingRef: null\n        };\n    },\n\n    handleUpdatedImage: function(image) {\n        this._.abortedHash = this._.hash;\n        this._.hash = image.hash;\n    },\n\n    canView: function(href) {\n        return false;\n    },\n\n    canHover: function(href) {\n        return !!href.match(/#\\d+/);\n    },\n\n    hoverover: function(e, href, $el) {\n        if(href.match(/#\\d+/)) {\n            var image_number = href.replace('#', '');\n\n            // If the ajax hangs, this is a memory leak\n\n            var hash = this._.hash;\n\n            var ajax_ref = $.ajax({\n                url: '/gallery/action/image/' + hash,\n                type: 'GET',\n                data: {\n                    order: image_number\n                },\n                success: _.bind(function(response) {\n                    if(this._.abortedHash !== hash && response.data && response.data.url && response.data.hash) {\n                        $el.attr('href', response.data.url);\n                        $el.trigger('mouseover');\n                    }\n                }, this)\n            });\n\n            this._.pendingRef = ajax_ref;\n            this._.abortedHash = null;\n        }\n    },\n\n    hoverout: function() {\n        if(this._.pendingRef) {\n            this._.pendingRef.abort();\n        }\n\n        this._.abortedHash = this._.hash;\n    },\n\n    dispatch: function(e, href, $el) {\n        e.preventDefault();\n\n        $el.colorbox({\n            initialHeight: 240,\n            initialWidth: 320,\n            maxWidth: '95%',\n            maxHeight: '95%',\n            className: 'noHeader',\n            scalePhotos: true,\n            photo: true,\n            fixed: true,\n            transition: 'elastic',\n            scrolling: false,\n            onOpen: function() { $('.tipsy').remove() },\n            onComplete: function() { $('.tipsy').remove() }\n        });\n    }\n});\n","Namespace('Imgur.Linkify');\n\nImgur.Linkify.NSFWViewer = Class.extend({\n    init: function(captions) {\n        this._ = {\n            captions: captions\n        };\n    },\n    \n    canView: function() {\n        return false;\n    },\n\n    canHover: function(href, $el) {\n        if($el.closest(\".comment\").length) {\n            var comment_id = Number($el.closest(\".caption\").attr('data-id'));\n\n            if(this._.captions.isCaptionOrItsSubtreeNSFW(comment_id)) {\n                return true;\n            }\n        }\n\n        return false;\n    },\n\n    hoverout: function(e, href, $el) {\n        $('.tipsy').remove();\n    },\n\n    hoverover: function(e, href, $el) {\n        $el.tipsy({\n            gravity:  $.fn.tipsy.autoNS,\n            title:    function() { return '<div>nsfw link</div>' },\n            html:     true,\n            opacity:  1,\n            offset:   2,\n            trigger:  'manual'\n        });\n        \n        $el.tipsy('show');\n    }\n});\n","Namespace('Imgur.Element');\n\nImgur.Element.CommandLocation = Class.extend({\n    handleCommand: function(url) {\n        // defer for a moment to let other handlers have time to do their thing\n        setTimeout(function() {\n            window.location = url;\n        }, 50);\n    },\n    handleRefreshCommand: function() {\n        // defer for a moment to let other handlers have time to do their thing\n        setTimeout(function() {\n            window.location = window.location.href;\n        }, 50);\n    }\n});\n","Namespace('Imgur.Search.Store');\n\nImgur.Search.Store.Suggestions = Class.extend({\n    init: function(emitter, defaultValue) {\n        this._ = {\n            emitter: emitter,\n            cacheRetention: 10,\n            lastQueries: defaultValue ? [defaultValue] : [],\n            suggestions: {}\n        };\n    },\n\n    getQuery: function() {\n        if(0 == this._.lastQueries.length) {\n            return '';\n        } else {\n            return this._.lastQueries[0];\n        }\n    },\n\n    haveQueryData: function(query) {\n        return this._.suggestions.hasOwnProperty(query);\n    },\n\n    setQuery: function(query) {\n        this._.lastQueries.unshift(query);\n\n        while(this._.lastQueries.length > Math.abs(this._.cacheRetention)) {\n            var oldQuery = this._.lastQueries.pop();\n\n            if(this._.lastQueries.indexOf(oldQuery) === -1) {\n                delete this._.suggestions[oldQuery];\n            }\n        }\n\n        this._.emitter.trigger('new global search query');\n    },\n\n    addSuggestion: function(query, type, key, obj) {\n        if(!this._.suggestions.hasOwnProperty(query)) {\n            this._.suggestions[query] = {};\n        }\n\n        if(!this._.suggestions[query].hasOwnProperty(type)) {\n            this._.suggestions[query][type] = {};\n        }\n        \n        this._.suggestions[query][type][key] = obj;\n\n        this._.emitter.trigger('new suggestions');\n        this._.emitter.trigger('new ' + type + ' suggestions');\n    },\n    \n    getSuggestions: function(query, type) {\n        if(this._.suggestions.hasOwnProperty(query)) {\n            return _.values(this._.suggestions[query][type]);\n        } else {\n            return [];\n        }\n    }\n});\n","Namespace('Imgur.Search');\n\nImgur.Search.Structured = Class.extend({\n    init: function($container) {\n        this._ = {\n            el: {\n                $container: $container,\n                $form: $container.find('form'),\n                $toggleIcon: $('#search_adv_toggle').parent(),\n                $q_all: $container.find('form input[name=\"q_all\"]')\n            }\n        };\n    },\n\n    get$AllOf: function() {\n        return this._.el.$q_all;\n    },\n\n    get$Form: function() {\n        return this._.el.$form;\n    },\n\n    setFlatQuery: function(val) {\n        this._.el.$q_all.val(val);\n    },\n\n    getFlatQuery: function() {\n        return this._.el.$q_all.val();\n    },\n\n    hide: function() {\n        if(!this._.el.$container.hasClass('nodisplay')) {\n            this._.el.$toggleIcon.removeClass('active');\n            this._.el.$container.addClass('nodisplay');\n        }\n    },\n\n    show: function() {\n        this._.el.$toggleIcon.addClass('active');\n        this._.el.$container.removeClass('nodisplay');\n        this._.el.$q_all.focus();\n    },\n\n    getIsHidden: function() {\n        return this._.el.$container.hasClass('nodisplay');\n    },\n\n    empty: function() {\n        this._.el.$q_all.val('');\n    }\n});\n","Namespace('Imgur.AppStore');\n\nImgur.AppStore.Buttons = React.createClass({\n    displayName: 'AppStore-Buttons',\n\n    getDefaultProps: function getDefaultProps() {\n        return {\n            className: 'app-buttons',\n            campaign: 'AppStore_Button',\n            onClick: function onClick(event, platform) {},\n            jafo: {}\n        };\n    },\n\n    render: function render() {\n        var iosStyle = {\n            display: 'inline-block',\n            overflow: 'hidden',\n            background: 'url(//linkmaker.itunes.apple.com/images/badges/en-us/badge_appstore-lrg.png) no-repeat',\n            width: '165px',\n            height: '40px'\n        };\n\n        var androidStyle = {\n            height: '40px'\n        };\n        return React.createElement(\n            'div',\n            { className: this.props.className },\n            React.createElement('a', { onClick: this._handleClickIos, href: 'https://geo.itunes.apple.com/app/apple-store/id639881495?pt=2036292&ct=' + this.props.campaign + '&mt=8&at=1001l5T8', target: 'itunes_store', style: iosStyle }),\n            React.createElement(\n                'a',\n                { onClick: this._handleClickAndroid, href: 'https://play.google.com/store/apps/details?id=com.imgur.mobile' },\n                React.createElement('img', { style: androidStyle, alt: 'Get it on Google Play',\n                    src: 'https://developer.android.com/images/brand/en_generic_rgb_wo_45.png' })\n            )\n        );\n    },\n\n    _handleClickIos: function _handleClickIos(e) {\n        this._handleClick(e, 'ios');\n    },\n\n    _handleClickAndroid: function _handleClickAndroid(e) {\n        this._handleClick(e, 'android');\n    },\n\n    _handleClick: function _handleClick(e, platform) {\n        Imgur.Util.jafoLog({\n            event: 'appInstall',\n            meta: _.extend({\n                app: platform,\n                campaign: this.props.campaign,\n                platform: 'web'\n            }, this.props.jafo)\n        });\n\n        this.props.onClick(e, platform);\n    }\n});\n//# sourceMappingURL=appstore-buttons.js.map\n","Namespace('Imgur.Lightbox');\n\nImgur.Lightbox.GetTheApp = React.createClass({\n    displayName: 'Lightbox-Cta-GetTheApp',\n\n    getDefaultProps: function getDefaultProps() {\n        return {\n            url: '/apps'\n        };\n    },\n\n    render: function render() {\n        return React.DOM.div({ className: 'lightbox-container' }, this._createModalBackgroundDiv(), React.DOM.div({ className: 'lightbox-content-container' }, this._createBackgroundDiv(), this._createCloseButton(), this._createContentDiv()));\n    },\n\n    _createContentDiv: function _createContentDiv() {\n        var targetWindow = this.props.newTab ? '_blank' : '_self';\n        var STATIC = Imgur.Environment.staticUrl;\n        var heroImage = STATIC + '/images/house-cta/android-frame.png';\n        var heroImageStyle = {\n            backgroundImage: 'url(\\'' + STATIC + '/images/house-cta/android-share.gif\\')',\n            backgroundPosition: 'center center',\n            backgroundSize: '100% 100%'\n        };\n        return React.createElement(\n            'div',\n            { className: 'lightbox-content' },\n            React.createElement(\n                'a',\n                { className: 'lightbox-hero', href: this.props.url, target: targetWindow, onClick: this._handleClickHero },\n                React.createElement('img', { className: 'lightbox-hero-image', src: heroImage, style: heroImageStyle })\n            ),\n            React.createElement(\n                'div',\n                { className: 'lightbox-text' },\n                React.createElement(\n                    'h1',\n                    null,\n                    React.createElement(\n                        'a',\n                        { href: this.props.url, target: targetWindow, onClick: this._handleClickTitle },\n                        'It\\'s dangerous to go alone! ',\n                        React.createElement('br', null),\n                        React.createElement(\n                            'strong',\n                            null,\n                            'Take Imgur'\n                        ),\n                        ' with you next time'\n                    )\n                ),\n                React.createElement(Imgur.AppStore.Buttons, { className: 'lightbox-text-cta', onClick: this._handleClickAppStore, campaign: 'Lightbox_GetTheApp' })\n            )\n        );\n    },\n\n    _handleClickHero: function _handleClickHero() {\n        this._setAsViewed('hero');\n        this._hide();\n    },\n\n    _handleClickAppStore: function _handleClickAppStore() {\n        this._setAsViewed('appstore-buttons');\n        this._hide();\n    },\n\n    _handleClickTitle: function _handleClickTitle() {\n        this._setAsViewed('title');\n        this._hide();\n    },\n\n    // ---- Mixin ----\n    componentDidMount: function componentDidMount() {\n        $(window).on('resize', this._center);\n        this._center();\n    },\n\n    componentWillUnmount: function componentWillUnmount() {\n        $(window).off('resize', this._center);\n    },\n\n    _center: _.throttle(function () {\n        var element = ReactDOM.findDOMNode(this).querySelector('.lightbox-content-container');\n        var left = -element.offsetWidth / 2;\n        var top = -element.offsetHeight / 2;\n        element.style.marginLeft = left + 'px';\n        element.style.marginTop = top + 'px';\n    }, 200),\n\n    _createCloseButton: function _createCloseButton() {\n        return React.DOM.a({ className: 'lightbox-close icon-x', href: '#', onClick: this._close, title: 'Never see this again' });\n    },\n\n    _createModalBackgroundDiv: function _createModalBackgroundDiv() {\n        return React.DOM.div({ className: 'lightbox-modal-background', onClick: this._close });\n    },\n\n    _createBackgroundDiv: function _createBackgroundDiv() {\n        var backgroundUrl = this.props.background.replace(/{STATIC}/g, Imgur.Environment.staticUrl);\n\n        return React.DOM.div({ className: 'lightbox-background', style: { backgroundImage: 'url(\"' + backgroundUrl + '\")' } });\n    },\n\n    _setAsViewed: function _setAsViewed(action) {\n        if (window.localStorage && this.props.localStorageName) {\n            localStorage.setItem(this.props.localStorageName, true);\n        }\n\n        if (action !== 'close') {\n            Imgur.Util.jafoLog({\n                event: 'bannerClickThrough',\n                meta: {\n                    action: action,\n                    banner: this.props.trackingName,\n                    bannerType: 'lightbox',\n                    platform: 'web'\n                }\n            });\n        }\n    },\n\n    _hide: function _hide() {\n        $(ReactDOM.findDOMNode(this)).parent().slideUp({ duration: 250, easing: 'easeInOutExpo' });\n    },\n\n    _close: function _close(e) {\n        e.preventDefault();\n        this._hide();\n        this._setAsViewed('close');\n        Imgur.Util.jafoLog({\n            event: 'bannerX',\n            meta: {\n                banner: this.props.trackingName,\n                platform: 'web',\n                bannerType: 'lightbox'\n            }\n        });\n        Imgur.Util.jafoLog({\n            event: 'appBannerX',\n            meta: {\n                banner: this.props.trackingName,\n                platform: 'web',\n                bannerType: 'lightbox'\n            }\n        });\n    }\n});\n//# sourceMappingURL=lightbox-app.js.map\n","Namespace('Imgur.Elements');\n\nImgur.Elements.Timestamp = React.createClass({\n    name: 'Timestamp',\n\n    propTypes: {\n        timestamp: React.PropTypes.string.isRequired,\n        shouldUpdate: React.PropTypes.bool.isRequired\n    },\n\n    shouldComponentUpdate: function() {\n        return this.props.shouldUpdate;\n    },\n\n    //Takes in YYYY-MM-DD HH:MM:SS and converts it to cross-browse date object\n    formatDate: function(date) {\n        var datetimeArray = /(\\d{4})-(\\d{2})-(\\d{2}) (\\d{2}):(\\d{2}):(\\d{2})/.exec(date);\n\n        //Subtract one on the month since they are zero indexed\n        return new Date(datetimeArray[1], datetimeArray[2]-1, datetimeArray[3], datetimeArray[4], datetimeArray[5], datetimeArray[6]);\n    },\n\n    formatTimestamp: function(timestamp) {\n        var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n        //When passing no date string you get a UTC timestamp but when you pass one as in the timestamp var you get a timezome specific timestamp\n        var seconds = Math.floor((new Date().getTime() - (timestamp.getTime() - timestamp.getTimezoneOffset() * 60000))/1000);\n\n        if (seconds < 1) {\n            return '1s';\n        }\n\n        var days = Math.floor(seconds/86400);\n        var hours = Math.floor(seconds/3600);\n        var minutes = Math.floor(seconds/60);\n\n        if (days > 365) {\n            return months[timestamp.getMonth()] + ' ' + timestamp.getDate() + ' ' + timestamp.getFullYear();\n        } else if (days > 31) {\n            return months[timestamp.getMonth()] + ' ' + timestamp.getDate();\n        } else if (days > 0) {\n            return days + 'd';\n        } else if (hours > 0) {\n            return hours + 'h';\n        } else if (minutes > 0) {\n            return minutes + 'm';\n        } else {\n            return seconds + 's';\n        }\n    },\n\n    render: function() {\n        var timestamp = this.formatDate(this.props.timestamp);\n\n        return React.DOM.span({title: timestamp, className: this.props.classNames}, this.formatTimestamp(timestamp));\n    }\n});\n","Namespace('Imgur.Elements');\n\nImgur.Elements.Analytics = React.createClass({\n    displayName: 'Elements-Analytics',\n\n    getInitialState: function getInitialState() {\n        return {\n            piePartOneRotation: '0deg',\n            piePartThreeRotation: '0deg',\n            pieClass: '',\n            favorites: '-'\n        };\n    },\n\n    componentWillMount: function componentWillMount() {\n        this._setDonutChartRotation();\n\n        if (this.props.inGallery) {\n            $.getJSON('/gallery/' + this.props.galleryHash + '/getfavs?is_album=' + (this.props.isAlbum ? 1 : 0), function (data) {\n                this.setState({\n                    favorites: data.data\n                });\n            }.bind(this));\n        }\n    },\n\n    _setDonutChartRotation: function _setDonutChartRotation() {\n        var ratio = this.props.downs / this.props.ups;\n        var percentage = this.props.downs / (this.props.ups + this.props.downs);\n        var piePartOneRotation = 0;\n        var piePartThreeRotation = 0;\n        var pieClass = '';\n\n        if (ratio >= 1) {\n            piePartThreeRotation = this.props.ups == 0 && this.props.downs == 0 ? 0 : percentage * 360 - 180;\n        } else {\n            pieClass = 'half';\n            piePartOneRotation = this.props.ups == 0 && this.props.downs == 0 ? 0 : Math.abs(percentage * 360);\n        }\n\n        this.setState({\n            piePartOneRotation: piePartOneRotation + 'deg',\n            piePartThreeRotation: piePartThreeRotation + 'deg',\n            pieClass: pieClass\n        });\n    },\n    render: function render() {\n        return React.createElement(\n            'div',\n            { id: 'analytics-wrapper' },\n            React.createElement(\n                'div',\n                { id: 'info-analytics', ref: 'infoAnalytics', className: this.props.inGallery ? 'gallery-image' : '' },\n                React.createElement(\n                    'div',\n                    { className: 'stats-overview' },\n                    React.createElement(\n                        'div',\n                        { className: 'stats-overview-info-bar' },\n                        React.createElement(\n                            'div',\n                            { className: 'left gallery-title' },\n                            this.props.title\n                        ),\n                        React.createElement(\n                            'div',\n                            { className: 'uploaded-time right' },\n                            'Uploaded ',\n                            React.createElement(\n                                'span',\n                                { id: 'stat-upload-time', className: 'value' },\n                                React.createElement(Imgur.Elements.Timestamp, { timestamp: this.props.timestamp, shouldUpdate: false })\n                            )\n                        ),\n                        React.createElement('div', { className: 'clear' })\n                    ),\n                    React.createElement(\n                        'div',\n                        { id: 'stats-overview-thumb', className: 'left' },\n                        React.createElement('img', { src: Imgur.Environment.cdnUrl + '/' + this.props.thumbhash + 'b.jpg', alt: '' })\n                    ),\n                    React.createElement(\n                        'div',\n                        { className: 'points-chart left' },\n                        React.createElement(\n                            'div',\n                            { className: 'pie circle ' + this.state.pieClass },\n                            React.createElement('div', { style: { transform: 'rotate(' + this.state.piePartOneRotation + ')' }, className: 'part-one circle' }),\n                            React.createElement('div', { className: 'part-two circle' }),\n                            React.createElement('div', { style: { transform: 'rotate(' + this.state.piePartThreeRotation + ')' }, className: 'part-three circle full-bar-color' }),\n                            React.createElement('div', { className: 'part-four circle' }),\n                            React.createElement('div', { className: 'part-five circle full-bar-color' }),\n                            React.createElement(\n                                'div',\n                                { className: 'pie-contents circle' },\n                                React.createElement(\n                                    'div',\n                                    { className: 'points-total' },\n                                    React.createElement(\n                                        'div',\n                                        { className: 'value stat' },\n                                        Imgur.Util.numberFormat(this.props.ups - this.props.downs)\n                                    ),\n                                    React.createElement('br', null),\n                                    'Points'\n                                ),\n                                React.createElement(\n                                    'div',\n                                    { className: 'ups-total' },\n                                    React.createElement(\n                                        'div',\n                                        { className: 'value green' },\n                                        Imgur.Util.numberFormat(this.props.ups)\n                                    ),\n                                    React.createElement(\n                                        'div',\n                                        { className: 'vote-text' },\n                                        'ups'\n                                    )\n                                ),\n                                React.createElement(\n                                    'div',\n                                    { className: 'downs-total' },\n                                    React.createElement(\n                                        'div',\n                                        { className: 'value red' },\n                                        Imgur.Util.numberFormat(this.props.downs)\n                                    ),\n                                    React.createElement(\n                                        'div',\n                                        { className: 'vote-text' },\n                                        'downs'\n                                    )\n                                )\n                            )\n                        )\n                    ),\n                    React.createElement(\n                        'div',\n                        null,\n                        React.createElement(\n                            'div',\n                            { id: 'stats-overview-views', className: 'info-block left' },\n                            React.createElement(\n                                'div',\n                                { className: 'value' },\n                                Imgur.Util.numberFormat(this.props.views)\n                            ),\n                            React.createElement(\n                                'div',\n                                null,\n                                'Views'\n                            )\n                        ),\n                        React.createElement(\n                            'div',\n                            { id: 'stats-overview-band', className: 'info-block left' },\n                            React.createElement(\n                                'div',\n                                { className: 'value' },\n                                Imgur.Util.byteSize(this.props.views * this.props.size)\n                            ),\n                            React.createElement(\n                                'div',\n                                null,\n                                'Bandwidth usage'\n                            )\n                        )\n                    ),\n                    React.createElement(\n                        'div',\n                        null,\n                        React.createElement(\n                            'div',\n                            { id: 'stats-overview-comments', className: 'info-block left' },\n                            React.createElement(\n                                'div',\n                                { className: 'value' },\n                                Imgur.Util.numberFormat(this.props.comments)\n                            ),\n                            React.createElement(\n                                'div',\n                                null,\n                                'Comments'\n                            )\n                        ),\n                        React.createElement(\n                            'div',\n                            { id: 'stats-overview-favs', className: 'info-block left' },\n                            React.createElement(\n                                'div',\n                                { className: 'value' },\n                                Imgur.Util.numberFormat(this.state.favorites)\n                            ),\n                            React.createElement(\n                                'div',\n                                null,\n                                'Favorites'\n                            )\n                        )\n                    ),\n                    React.createElement('div', { className: 'clear' })\n                )\n            )\n        );\n    }\n});\n//# sourceMappingURL=analytics.js.map\n","Namespace('Imgur.Banner.Mixin');\n\nImgur.Banner.Mixin = {\n    getInitialState: function() {\n        return {'visibleClassName': ''};\n    },\n\n    getClassName: function() {\n        var className = (this.props.description == '') ? 'small-cta ' : '';\n        className += (this.props.customClass) ? ' ' + this.props.customClass : '';\n        if (this.props.hero) {\n            className += 'cta-with-hero';\n        }\n        return className + this.state.visibleClassName;\n    },\n\n    _createCloseButton: function() {\n        return React.DOM.a({className: 'cta-close icon-x', href: '#', onClick: this._handleClickClose});\n    },\n\n    _createBackgroundDiv: function() {\n\n        var props = {className: 'cta-background', style: {} };\n        if (this.props.backgroundImage === 'none') {\n            props.style.backgroundImage = 'none';\n        } else if (this.props.backgroundImage) {\n            var backgroundUrl = this.props.backgroundImage.replace(/{STATIC}/g, Imgur.Environment.staticUrl);\n            props.style.backgroundImage = 'url(\"' + backgroundUrl +'\")';\n        }\n        if (this.props.backgroundColor) {\n            props.style.backgroundColor = this.props.backgroundColor;\n        }\n        return React.DOM.div(props);\n    },\n\n    _createContentDiv: function() {\n        var targetWindow = (this.props.newTab) ? '_blank' : '_self';\n        var className = 'cta-content';\n        className += (this.props.customClass) ? ' ' + this.props.customClass : '';\n        return React.DOM.div({className: className},\n            this._createHero(),\n            React.DOM.h1(null,\n                React.DOM.a({href: this.props.url, target: targetWindow, onClick: this._handleClickTitle, dangerouslySetInnerHTML: {__html: this.props.title }})),\n            React.DOM.p({dangerouslySetInnerHTML: {__html: this.props.description}}));\n    },\n\n    _createHero: function() {\n        if (!this.props.hero) {\n            return null;\n        }\n        var targetWindow = (this.props.newTab) ? '_blank' : '_self';\n        var props = {\n            className: 'cta-hero',\n            href: this.props.url,\n            target: targetWindow,\n            onClick: this._handleClickTitle\n        };\n        var img = this.props.hero.replace(/{STATIC}/g, Imgur.Environment.staticUrl);\n        return React.DOM.a(props, React.DOM.img({ src: img }));\n    },\n\n    _handleClickTitle: function() {\n        this._setAsViewed('clickTitle');\n        this._closeCta();\n    },\n    _handleClickButton: function() {\n        this._setAsViewed('clickButton');\n        this._closeCta();\n    },\n    _handleClickClose: function(e) {\n        if (e) {\n            e.preventDefault();\n        }\n        this._setAsViewed('close');\n        this._closeCta();\n    },\n\n    _saveViewedState: function () {\n        if (Imgur.LocalStorage.supported() && this.props.localStorageName) {\n            Imgur.LocalStorage.save(this.props.localStorageName, Date.now());\n        }\n    },\n\n    _setAsViewed: function(action) {\n        this._saveViewedState();\n        if (typeof action !== 'string') {\n            action = undefined; // Sanitize to guard against breaking jafo with complex objects\n        }\n\n        if (action === 'close'){\n            Imgur.Util.jafoLog({\n                event: 'bannerX',\n                meta: {\n                    banner: this.props.trackingName,\n                    bannerType: 'headerCTA',\n                    location: 'aboveTopNavBar',\n                    platform: 'web',\n                }\n            });\n            if (this.props.trackingName === 'mobileApps'){\n                Imgur.Util.jafoLog({\n                    event: 'appBannerX',\n                    meta: {\n                        banner: this.props.trackingName,\n                        bannerType: 'headerCTA',\n                        location: 'aboveTopNavBar',\n                        platform: 'web'\n                    }\n                });\n            }\n        } else {\n            Imgur.Util.jafoLog({\n                event: 'bannerClickThrough',\n                meta: {\n                    banner: this.props.trackingName,\n                    action: action,\n                    bannerType: 'headerCTA',\n                    location: 'aboveTopNavBar',\n                    platform: 'web'\n                }\n            });\n            if (this.props.trackingName === 'mobileApps'){\n                Imgur.Util.jafoLog({\n                    event: 'appInstall',\n                    meta: {\n                        banner: this.props.trackingName,\n                        bannerType: 'headerCTA',\n                        location: 'aboveTopNavBar',\n                        platform: 'web'\n                    }\n                });\n            }\n        }\n     },\n\n    _createButton: function() {\n        var targetWindow = (this.props.newTab) ? '_blank' : '_self';\n        if (this.props.buttonImg) {\n            return React.DOM.a({className: 'cta-img-button', href: this.props.url, target: targetWindow, onClick: this._handleClickButton},\n                               React.DOM.img({className: 'cta-img', src: this.props.buttonImg}));\n        } else {\n            return React.DOM.a({className: 'cta-button', style: {backgroundColor: this.props.buttonColor}, href: this.props.url, target: targetWindow, onClick: this._handleClickButton}, this.props.buttonText);\n        }\n    },\n\n    _closeCta: function(e) {\n        $(ReactDOM.findDOMNode(this)).parent().slideUp({duration: 250, easing: 'easeInOutExpo'});\n    }\n};\n","Namespace('Imgur.Banner');\n\n/*\n * Important note: If we end up building out other SMS me the app modules we'll probably want to break out some of\n * the functionality from here into a separate piece that gets reused by all the various modules including the\n * communicating with branch bit and the jafo log bit.\n */\n\nImgur.Banner.SMS = React.createClass({\n    displayName: 'Banner-Newsletter',\n    mixins: [Imgur.Banner.Mixin],\n\n    getDefaultProps: function getDefaultProps() {\n        return {\n            title: 'Get Imgur In Your Pocket',\n            description: '5/7 - A perfect score!',\n            cta: 'We\\'ll text you a link',\n            placeholder: '555 123 4567',\n            buttonText: 'Send Link'\n        };\n    },\n\n    getInitialState: function getInitialState() {\n        return {\n            enabled: false,\n            success: false,\n            submitting: false,\n            error: false\n        };\n    },\n\n    loadbranchWebSDK: function loadbranchWebSDK() {\n        (function (b, r, a, n, c, h, _, s, d, k) {\n            if (!b[n] || !b[n]._q) {\n                for (; s < _.length;) {\n                    c(h, _[s++]);\n                }d = r.createElement(a);\n                d.async = 1;\n                d.src = \"https://cdn.branch.io/branch-latest.min.js\";\n                k = r.getElementsByTagName(a)[0];\n                k.parentNode.insertBefore(d, k);\n                b[n] = h;\n            }\n        })(window, document, \"script\", \"branch\", function (b, r) {\n            b[r] = function () {\n                b._q.push([r, arguments]);\n            };\n        }, {\n            _q: [],\n            _v: 1\n        }, \"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode\".split(\" \"), 0);\n    },\n\n    componentDidMount: function componentDidMount() {\n        var _this = this;\n\n        this.eventLog('smsMeTheAppImpression');\n        this.loadbranchWebSDK();\n        // XXX: Should probably go into a config.\n        branch.init('key_live_cjjQIIE2tMns5AZEouVU2bjdFyeQxPvd', function () {\n            _this.setState({ enabled: true });\n        });\n    },\n\n    SMS: function sendSMS(phoneNumber) {\n        var _this2 = this;\n\n        Imgur.Util.jafoLog({\n            event: 'submissionInvoke',\n            meta: {\n                type: 'smsTheApp'\n            }\n        });\n\n        var linkData = {\n            tags: [],\n            channel: 'smsAppCTA',\n            feature: 'SMSMeTheApp',\n            campaign: 'smsMeTheApp',\n            data: {\n                source: \"imgurDesktop\",\n                bannerType: 'ctaBanner',\n                location: 'aboveTopNav',\n                referrer: document.referrer\n            }\n        };\n        var options = {};\n\n        branch.sendSMS(phoneNumber, linkData, options, function (err, result) {\n            if (err) {\n                _this2.handleSubmitError(err, result);\n                return;\n            }\n            _this2.handleSubmitSuccess();\n        });\n    },\n\n    handleSubmit: function handleSubmit(e) {\n        this.setState({ error: false });\n        e.preventDefault();\n        this.eventLog('smsMeTheAppSubmit');\n        this.SMS(this.refs.phoneNumber.value);\n    },\n\n    handleSubmitSuccess: function handleSubmitSuccess() {\n        this.eventLog('smsMeTheAppTextSent');\n        this._saveViewedState();\n        this.setState({ success: true });\n    },\n\n    handleSubmitError: function handleSubmitError() {\n        // No eventLog and setViewedState here is intentional.\n        this.setState({ error: true });\n    },\n\n    handleClose: function handleClose(e) {\n        e.preventDefault();\n        this.eventLog('smsMeTheAppDismissal');\n        this._saveViewedState();\n        this._closeCta();\n    },\n\n    eventLog: function eventLog(event) {\n        // This CTA has a completely separate jafo log system than regular CTA logging by design.\n        // The purpose is to group SMS events among the various other modules we will be building.\n        Imgur.Util.jafoLog({\n            event: event,\n            meta: {\n                // If we ever have multiple modules and pull this out this would have to become an additional argument.\n                location: 'aboveTopNav',\n                smsMeTheAppInvokedBy: 'ctaBanner'\n            }\n        });\n    },\n\n    render: function render() {\n        return React.createElement(\n            'div',\n            { id: 'cta-container', className: this.getClassName() + ' cta-container-sms' },\n            React.createElement(\n                'div',\n                { className: 'cta-background cta-background-sms' },\n                '\\xA0'\n            ),\n            React.createElement(\n                'div',\n                { className: 'cta-content-container cta-content-container-sms' },\n                React.createElement(\n                    'div',\n                    { className: 'cta-content cta-content-sms' },\n                    React.createElement(\n                        'h2',\n                        null,\n                        this.props.title\n                    ),\n                    React.createElement(\n                        'div',\n                        null,\n                        this.props.description\n                    )\n                ),\n                React.createElement(\n                    'form',\n                    { className: classNames({\n                            'cta-sms': true,\n                            'cta-form': true,\n                            'cta-form-sms': true,\n                            'cta-form-error': this.state.error,\n                            'cta-form-success': this.state.success,\n                            'cta-form-submitting': this.state.submitting\n                        }),\n                        onSubmit: this.handleSubmit },\n                    React.createElement(\n                        'div',\n                        { className: 'cta-form-input-container' },\n                        React.createElement(\n                            'label',\n                            { className: 'cta-form-input-label-sms', 'for': 'cta-input-sms' },\n                            this.props.cta\n                        ),\n                        React.createElement(\n                            'div',\n                            { className: 'cta-form-input-sms' },\n                            React.createElement('input', { id: 'cta-input-sms', ref: 'phoneNumber', placeholder: this.props.placeholder, type: 'text', className: '\\'cta-form-control cta-sms\\'' }),\n                            React.createElement(\n                                'button',\n                                { disabled: !this.state.enabled, className: 'cta-form-control btn btn-small btn-main' },\n                                this.props.buttonText\n                            ),\n                            this.state.success && React.createElement(\n                                'div',\n                                { className: 'cta-form-input-success-sms' },\n                                'Yay! Check your phone for the link.'\n                            )\n                        )\n                    ),\n                    this.state.error && React.createElement(\n                        'div',\n                        { className: 'cta-error-message-sms' },\n                        'Hmm that didn\\'t work. Please try again.'\n                    )\n                )\n            ),\n            React.createElement(\n                'a',\n                { className: 'cta-close icon-x', href: '#', onClick: this.handleClose },\n                '\\xA0'\n            )\n        );\n    }\n});\n//# sourceMappingURL=sms.js.map\n","Namespace('Imgur.Banner.Cta');\n\nImgur.Banner.Cta = React.createClass({\n    displayName: 'Banner-Cta',\n    mixins: [Imgur.Banner.Mixin],\n    render: function() {\n        return React.DOM.div({id: 'cta-container', className: this.getClassName()},\n            this._createBackgroundDiv(),\n            React.DOM.div({className: 'cta-content-container'}, \n                this._createButton(),\n                this._createContentDiv(),\n                this._createCloseButton()\n            )\n        );\n    }\n});\n","Namespace('Imgur.Banner.Cta');\n\nImgur.Banner.CtaNoButton = React.createClass({\n    displayName: 'Banner-CtaNoButton',\n    mixins: [Imgur.Banner.Mixin],\n    render: function() {\n        return React.DOM.div({id: 'cta-container', className: this.state.visibleClassName},\n            this._createBackgroundDiv(),\n            React.DOM.div({className: 'cta-content-container'}, \n            this._createCloseButton(),\n            this._createContentDiv()\n        ));\n    }\n});","Namespace('Imgur.Banner.Facebook');\n\nImgur.Banner.Facebook = React.createClass({\n    displayName: 'Banner-Facebook',\n\n    mixins: [Imgur.Banner.Mixin],\n\n    render: function() {\n        return React.DOM.div({id: 'cta-container', className: this.state.visibleClassName},\n            this._createBackgroundDiv(),\n            React.DOM.div({className: 'cta-content-container'}, \n            this._createCloseButton(),\n            this._createContentDiv(),\n            this._createLikeButton())\n        );\n    },\n\n    _createLikeButton: function() {\n        return React.DOM.div({className: 'cta-facebook-button'},\n            this._createFbRoot(),\n            React.DOM.div({className: 'facebook-overflow'}, \n                this._loadButton()\n            )\n        );\n    },\n\n    _createFbRoot: function() {\n        return React.DOM.div({id: 'fb-root', className: 'nodisplay'});\n    },\n\n    _loadButton: function() {\n        // FB Code        \n        (function(d, s, id) {\n        var js, fjs = d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) return;\n        js = d.createElement(s); js.id = id;\n        js.src = '//connect.facebook.net/en_US/all.js#xfbml=1&appId=127621437303857';\n        fjs.parentNode.insertBefore(js, fjs);\n        }(document, 'script', 'facebook-jssdk'));\n\n        return React.DOM.div({className: 'fb-like', 'data-href':'https://www.facebook.com/pages/Imgur/67691197470', 'data-send': 'false', 'data-layout': 'button_count', 'data-width': '80', 'data-show-faces': 'false', 'data-colorscheme': 'dark', 'data-font': 'arial'});\n    }\n});\n","Namespace('Imgur.Banner.Twitter');\n\nImgur.Banner.Twitter = React.createClass({\n    displayName: 'Banner-Twitter',\n\n    mixins: [Imgur.Banner.Mixin],\n\n    render: function() {\n        return React.DOM.div({id: 'cta-container', className: 'twitter-banner ' + this.getClassName()},\n            React.DOM.div({className: 'cta-content-container'},\n            this._createCloseButton(),\n            this._addTwitterIcon(),\n            this._createContentDiv(),\n            this._createFollowButton())\n        );\n    },\n\n    _addTwitterIcon: function() {\n        return React.DOM.a({className: 'icon-twttr', href: this.props.url, target: '_blank' });\n    },\n\n    _createFollowButton: function() {\n        return React.DOM.div({className: 'cta-twitter-button'},\n            this._loadButton()\n        );\n    },\n\n    _loadButton: function() {\n        return React.DOM.iframe({\n            src: '//platform.twitter.com/widgets/follow_button.html?screen_name=imgur&show_count=false',\n            className: 'twitter-follow-button',\n            frameBorder: '0',\n            scrolling: 'no',\n            allowTransparency: 'true'},\n            'Follow @imgur'\n        );\n    }\n});\n","Namespace('Imgur.Banner.Pinterest');\n\nImgur.Banner.Pinterest = React.createClass({\n    displayName: 'Banner-Pinterest',\n\n    mixins: [Imgur.Banner.Mixin],\n\n    render: function() {\n        return React.DOM.div({id: 'cta-container', className: this.state.visibleClassName},\n            this._createBackgroundDiv(),\n            React.DOM.div({className: 'cta-content-container'},\n                this._createCloseButton(),\n                this._createContentDiv(),\n                this._createFollowButton())\n        );\n    },\n\n    _createFollowButton: function() {\n        return React.DOM.div({className: 'cta-pinterest-button'},\n            React.DOM.div({className: 'pinterest-overflow'},\n                this._loadButton()\n            )\n        );\n    },\n\n    _loadButton: function() {\n        // Append pinterest code\n        (function(d, s, id) {\n            var js, fjs = d.getElementsByTagName(s)[0];\n            if (d.getElementById(id)) return;\n            js = d.createElement(s); js.id = id;\n            js.src = '//assets.pinterest.com/js/pinit.js';\n            fjs.parentNode.insertBefore(js, fjs);\n        }(document, 'script', 'pinterest-pinit'));\n\n        return React.DOM.a({href: 'http://www.pinterest.com/imgur/', 'data-pin-do':'buttonFollow'}, 'Follow Imgur');\n    }\n});\n","Namespace('Imgur.Banner.Converted');\n\nImgur.Banner.Converted = React.createClass({\n    displayName: 'Banner-Converted',\n\n    mixins: [Imgur.Banner.Mixin],\n    render: function() {\n        return React.DOM.div({id: 'cta-container', className: this.state.visibleClassName},\n            this._createBackgroundDiv(),\n            React.DOM.div({className: 'cta-content-container'}, \n            this._createContentDiv()\n        ));\n    },\n});","Namespace('Imgur.Banner.Cta');\n\nImgur.Banner.TeeSpring = React.createClass({\n    displayName: 'Banner-TeeSpring',\n    mixins: [Imgur.Banner.Mixin],\n    render: function() {\n        return React.DOM.div({id: 'cta-container', className: this.getClassName()},\n            this._createBackgroundDiv(),\n            React.DOM.div({className: 'cta-content-container'}, \n            this._createCloseButton(),\n            this._createContentDiv(),\n            this._createTshirtImage(),\n            this._createButton())\n        );\n    },\n\n    _createTshirtImage: function() {\n        return React.DOM.img({src: this.props.tshirtImage, className: 'tshirt'});\n    }\n});","Namespace('Imgur.Banner.Cta');\n\nImgur.Banner.Promoted = React.createClass({\n    displayName: 'Banner-Promoted',\n    mixins: [Imgur.Banner.Mixin],\n    render: function() {\n        return React.DOM.div({id: 'cta-container', className: this.getClassName()},\n            this._createBackgroundDiv(),\n            React.DOM.div({className: 'cta-content-container'}, \n            this._createContentDiv(),\n            this._createButton())\n        );\n    }\n});","Namespace('Imgur.Banner');\n\nImgur.Banner.Newsletter = React.createClass({\n    displayName: 'Banner-Newsletter',\n    mixins: [Imgur.Banner.Mixin],\n\n    getDefaultProps: function() {\n        return {\n            url: '/inbox',\n            title: 'Get Imgur beamed to your inbox',\n            description: 'The best of Imgur teleported to you every week',\n            placeholder: 'enter your email',\n            buttonText: 'Activate!'\n        };\n    },\n\n    getInitialState: function() {\n        return {\n            email: Imgur.Environment.signed && !/@example.com$/.test(Imgur.Environment.auth.email) ? Imgur.Environment.auth.email : '',\n            success: false,\n            submitting: false,\n            error: undefined\n        };\n    },\n\n    render: function() {\n        return React.DOM.div({id: 'cta-container', className: this.getClassName()},\n            this._createBackgroundDiv(),\n            React.DOM.div({className: 'cta-content-container'}, \n            this._createCloseButton(),\n            this._createContentDiv(),\n            this._createForm())\n        );\n    },\n\n    _createForm: function() {\n        var formClass = classNames({\n            'cta-icymi': true,\n            'cta-form': true,\n            'cta-form-error': this.state.error,\n            'cta-form-success': this.state.success,\n            'cta-form-submitting': this.state.submitting,\n        });\n\n        var errorMessage = (this.state.error === true ? 'An error occurred :/ Try again?' : this.state.error);\n        var successMessage = (this.state.success === true ? 'Thanks for signing up!' : this.state.success);\n\n        return React.DOM.form({ className: formClass, onSubmit: this.handleSubmit },\n            React.DOM.span({className: 'cta-form-input-container'},\n                React.DOM.input({\n                    type: 'text',\n                    className: 'cta-form-control cta-icymi-email',\n                    placeholder: this.props.placeholder,\n                    defaultValue: this.obfuscateEmail(this.state.email),\n                    onFocus: this.handleFocusText,\n                    onBlur: this.handleBlurText,\n                    onChange: this.handleChangeText\n                }),\n                React.DOM.button({\n                    type: 'submit', \n                    className: 'cta-form-control btn btn-small btn-main', \n                    disabled: (this.state.submitting ? 'disabled' : '')}, this.props.buttonText)\n            ),\n\n            React.DOM.span({className: 'cta-form-success cta-icymi-success'}, successMessage),\n            React.DOM.span({className: 'cta-form-error cta-icymi-error'}, errorMessage)\n        );\n    },\n\n    handleFocusText: function(e) {\n        if (e.target.value === this.obfuscateEmail(this.state.email)) {\n            e.target.value = this.state.email;\n        }\n    },\n\n    handleBlurText: function(e) {\n        if (e.target.value === this.getInitialState().email) {\n            e.target.value = this.obfuscateEmail(this.state.email);\n        }\n    },\n\n    handleChangeText: function(e) {\n        this.setState({\n            email: e.target.value\n        });\n    },\n\n    handleSubmitSuccess: function(data, textStatus, jqXHR) {\n        this._setAsViewed('close');\n\n        this.setState({\n            success: data.data || true,\n            error: false\n        });\n    },\n    \n    handleSubmitError: function(jqXHR, textStatus, error) {\n        var responseStatusCode = jqXHR.status;\n\n        var errorValue = true;\n\n        try {\n            if(jqXHR.responseJSON.data.error) {\n                errorValue = jqXHR.responseJSON.data.error;\n            }\n        } catch(e) {}\n\n        Imgur.Util.jafoLog({\n            event: 'submissionFailure',\n            meta: {\n                error: errorValue,\n                type: 'newsletter'\n            }\n        });\n\n        this.setState({\n            success: false,\n            error: errorValue\n        });\n    },\n\n    handleSubmit: function(e) {\n        e.preventDefault();\n\n        this.setState({\n            submitting: true\n        });\n\n        var self = this;\n\n        Imgur.Util.jafoLog({\n            event: 'submissionInvoke',\n            meta: {\n                type: 'newsletter'\n            }\n        });\n\n        $.ajax({\n            method: 'post',\n            url: '/newsletter/subscribe',\n            data: {\n                email: this.state.email,\n                msid: Imgur.Environment.msid,\n                source: 'cta-banner-newsletter'\n            },\n            success: this.handleSubmitSuccess,\n            error: this.handleSubmitError,\n\n            complete: function() {\n                self.setState({\n                    submitting: false\n                });\n            }\n        });\n    },\n\n    obfuscateEmail: function() {\n        return Imgur.Util.obfuscateEmail(this.state.email);\n    }\n});\n","Namespace('Imgur.Search');\n\nImgur.Search.TopBarView = React.createClass({\n    displayName: 'Search-TopBarView',\n\n    getDefaultProps: function() {\n        return {\n            componentList: [],\n            KEYCODES: {\n                ESC:         27,\n                UP_ARROW:    38,\n                DOWN_ARROW:  40,\n                ENTER:       13,\n                RIGHT_ARROW: 39,\n                TAB:         9\n            },\n            SUGGESTION_TYPES: {\n                SEARCH: 'post_titles',\n                TAG:    'tags',\n                USER:   'users',\n                MEME:   'memes',\n                ECHO:   'echo'\n            },\n            defaultSuggestOpened: false\n        };\n    },\n    \n    getInitialState: function() {\n        return {\n            focused: false,\n            selectedIdx:  null,\n            forcedOpen: false,\n            open: this.props.defaultSuggestOpened\n        };\n    },\n\n    getStore: function() {\n        return this.props.suggestionStore;\n    },\n\n    close: function() {\n        this.setState({\n            focused: false,\n            open: false,\n            forcedOpen: false\n        });\n\n        $(this.refs['query']).blur();\n    },\n            \n    open: function() {\n        this.setState({\n            focused: false,\n            open: true\n        });\n    },\n \n    openAndFocus: function() {\n        this.setState({\n            focused: true,\n            open: true\n        });\n\n        $(this.refs['query']).focus();\n    },\n           \n    isOpened: function() {\n        return this.state.open;\n    },\n            \n    isClosed: function() {\n        return !this.state.open;\n    },\n\n    handleChange: function(e) {\n        this.resetQuery(e.target.value);\n    },\n            \n    resetQuery: function(query) {\n        this.setState({\n            open: true\n        });\n\n        this.props.suggestionStore.setQuery(query);\n        this.props.searchResults.setActiveQuery(query);\n        \n        if(!this.props.suggestionStore.haveQueryData(query)) {\n            if(query.length > 1) {\n                this.props.searchSuggestModel.fetch(query);\n            } else {\n                this.props.searchSuggestModel.cancel();\n            }\n        }\n    },\n\n    _doActionActive: function(query) {\n        var idx = this.props.searchResults.getActiveIdx(query);\n        var href = this.props.searchResults.getIthSuggestion(query, idx).href;\n\n        window.location = href;\n    },\n\n    _onSuggestHoverIn: function(query, idx) {\n        this.props.searchResults.setActiveIdx(query, idx);\n    },\n\n    _onSuggestHoverOut: function(query, idx) {\n        if(this.props.searchResults.getActiveIdx(query) === idx) {\n            this.props.searchResults.setActiveIdx(query, null);\n        }\n    },\n\n    _produceSection: function(query, section) {\n        if(!section.payload.length) {\n            return;\n        }\n\n        var children = [];\n\n        for(var i = 0; i < section.payload.length; i++) {\n            var selected = ((section.index + i) === this.props.searchResults.getActiveIdx(query));\n\n            children.push(React.createElement(Imgur.Search.Suggestions[section.reactClsName], _.merge({}, section.payload[i], {\n                className: 'suggestion' + (selected ? ' hover' : ''),\n                onMouseEnter: _.partial(this._onSuggestHoverIn, query, section.index + i),\n                onMouseLeave: _.partial(this._onSuggestHoverOut, query, section.index + i)\n            })));\n        }\n\n        return React.createElement(Imgur.Search.TopBar.Section,{\n            title: section.title,\n            icon: section.iconClass\n        }, children);\n    },\n\n    _getCaretPosition : function (el) { \n        if (el.selectionStart) { \n            return el.selectionStart; \n        } else if (document.selection) { \n            el.focus(); \n\n            var r = document.selection.createRange(); \n            if (r == null) { \n                return 0; \n            } \n\n            var re = el.createTextRange(), \n                rc = re.duplicate(); \n            re.moveToBookmark(r.getBookmark()); \n            rc.setEndPoint('EndToStart', re); \n\n            return rc.text.length; \n        }\n        \n        return 0; \n    },\n\n    _getFooterDom: function() {\n        return React.DOM.div({className: 'global-search-footer'},\n            React.DOM.div(null,\n                React.DOM.div({className: 'footer-label'}, 'search syntax'),\n                React.DOM.div({className: 'footer-content'}, \n                    React.DOM.div({className: 'keyword'}, 'title:'),\n                    React.DOM.div({className: 'keyword-desc'}, 'titles only'),\n                    React.DOM.div({className: 'keyword'}, 'tag:'),\n                    React.DOM.div({className: 'keyword-desc'}, 'images of a tag'),\n                    React.DOM.div({className: 'keyword nextline'}, 'user:'),\n                    React.DOM.div({className: 'keyword-desc'}, 'find a user'),\n                    React.DOM.div({className: 'keyword'}, 'ext:'),\n                    React.DOM.div({className: 'keyword-desc'}, 'image extension')\n                )\n            )\n        );\n    },\n\n    render: function() {\n        var autocompleteDom;\n\n        var visibleQuery = this.props.searchResults.getVisibleQuery(),\n            query = this.props.suggestionStore.getQuery();\n\n        if(this.state.focused) {\n            var sections = this.props.searchResults.getSections();\n\n            var sectionComponents = [];\n\n            for(var i = 0, section = sections[0]; i < sections.length; i++, section=sections[i]) {\n                sectionComponents.push(this._produceSection(\n                    query,\n                    section\n                ));\n            }\n\n            var autocompleteDom = React.DOM.div({\n                    ref: 'suggestion-container',\n                    className: 'global-search-autocomplete',\n                    onMouseEnter: this.handleMouseEnter,\n                    onMouseLeave: this.handleMouseLeave\n                },\n                sectionComponents,\n                this._getFooterDom()\n            );\n        }\n        \n        var searchUrl = \"//\" + this.props.host + \"/search\";\n        searchUrl += (this.props.sort === 'relevance') ? '' : '/' + this.props.sort;\n        searchUrl += (this.props.window === 'all') ? '' : '/' + this.props.window;\n        \n        var inputStatusClass = ' search-focused';\n        if(this.isClosed()) {\n            inputStatusClass = ' search-closed';\n            visibleQuery = '';\n        }\n        \n        return React.DOM.div({\n                onKeyUp: _.partial(this.handleKeyUp, query),\n                onKeyDown: _.partial(this.handleKeyDown, query),\n                onFocus: _.partial((this.props.structured? this.handleFocus_Advanced : this.handleFocus), query),\n                onSubmit: _.partial(this.handleSubmit, query),\n                className: 'search-container' + inputStatusClass\n            },\n            React.DOM.form({\n                    className: 'search-form',\n                    method: \"get\", \n                    action: searchUrl,\n                    ref: 'form'\n                },\n                React.DOM.input({\n                        autoComplete: 'off',\n                        onChange: (this.props.structured? this.handleChange_Advanced : this.handleChange),\n                        onBlur: _.partial((this.props.structured? this.handleBlur_Advanced : this.handleBlur), query),\n                        type: 'text',\n                        className: 'search',\n                        ref: 'query',\n                        name: 'q',\n                        value: visibleQuery\n                    }\n                ),\n                React.DOM.div({\n                        className: 'search-icon-container',\n                        onClick: this.handleIconClick,\n                        onMouseEnter: this.handleMouseEnter,\n                        onMouseLeave: this.handleMouseLeave\n                    },\n                    React.DOM.div({className: 'icon-search' + (visibleQuery.length > 0 ? ' searchable' : '')}, '')\n                )\n            ),\n            autocompleteDom\n        );\n    },\n\n    handleIconClick: function(e) {\n        var queryLen = $(this.refs['query']).val().length;\n\n        if(queryLen > 0) {\n            // Perform search because input box is open and query is filled in\n            $(this.refs['form']).submit();\n        } else if(this.isClosed()) {\n            this.openAndFocus();\n        }\n    },\n\n    handleFocus: function(query) {\n        this.setState({\n            focused: true,\n            open: true\n        });\n\n        this.props.searchResults.setActiveIdx(query, null);\n    },\n            \n    handleBlur: function(query) {\n        if(this.state.forcedOpen) {\n            // Make sure input box remains focused\n            this.openAndFocus();\n            return;\n        }\n\n        this.setState({\n            focused: false,\n            open: false\n        });\n\n        this.props.searchResults.setActiveIdx(query, null);\n    },\n\n    handleChange_Advanced: function(e) {\n        this.resetQuery(e.target.value);\n        this.props.structured.setFlatQuery(this.props.suggestionStore.getQuery());\n    },\n\n    handleFocus_Advanced: function(query) {\n        this.props.structured.hide();\n        this.handleFocus(query);\n    },\n\n    handleBlur_Advanced: function(query) {\n        if(this.state.forcedOpen) {\n            // Make sure input box remains focused\n            this.openAndFocus();\n            return;\n        }\n\n        this.setState({\n            focused: false,\n            open: true\n        });\n\n        this.props.searchResults.setActiveIdx(query, null);\n    },\n\n    handleKeyDown: function(query, e) {\n        var key = {\n            right_arrow: (e.keyCode === this.props.KEYCODES.RIGHT_ARROW),\n            tab:         (e.keyCode === this.props.KEYCODES.TAB),\n            enter:       (e.keyCode === this.props.KEYCODES.ENTER),\n            modifier:    !!e.metaKey || !!e.ctrlKey || !!e.altKey || !!e.shiftKey\n        };\n        \n        var numSuggests = this.props.searchResults.getTotalSuggestions(query);\n        if(key.modifier || numSuggests <= 0) {\n            return;\n        }\n        \n        if(key.right_arrow) {\n            var queryInputDom = this.refs['query'];\n            var caretPos = this._getCaretPosition(queryInputDom);\n            var inputLen = $(queryInputDom).val().length;\n\n            // don't hijack right arrow if caret is not at end of input\n            if(caretPos < inputLen) {\n                return;\n            }\n        }\n\n        if(key.tab || key.right_arrow) {\n            e.preventDefault();\n            var selectedIdx = this.props.searchResults.getActiveIdx(query),\n                resetQuery = '';\n\n            if(selectedIdx !== null || this.props.searchResults.getTotalSuggestions(query) > 0) {\n                if(selectedIdx != null) {\n                    resetQuery = this.props.searchResults.getVisibleQuery();\n                } else {\n                    resetQuery = this.props.searchResults.getIthSuggestion(query, 0).query;\n                }\n\n                this.resetQuery(resetQuery);\n            }\n        } else if(key.enter) {\n            if(this.props.searchResults.getActiveIdx(query) !== null) {\n                this._doActionActive(query);\n            } // else caught by submit event\n        }\n    },\n\n    handleSubmit: function(query, e) {\n        if(this.props.searchResults.getActiveIdx(query) !== null) {\n            e.preventDefault();\n        }\n\n        var isSubreddit = query.indexOf(\"r/\") === 0;\n\n        Imgur.Util.jafoLog({\n            event: 'searchTerm',\n            meta: {\n                query: query,\n                isSubreddit: isSubreddit\n            }\n        });\n\n        return true;\n    },\n\n    handleKeyUp: function(query, e) {\n        var key = {\n            esc:         (e.keyCode === this.props.KEYCODES.ESC),\n            up_arrow:    (e.keyCode === this.props.KEYCODES.UP_ARROW),\n            down_arrow:  (e.keyCode === this.props.KEYCODES.DOWN_ARROW),\n            enter:       (e.keyCode === this.props.KEYCODES.ENTER),\n            modifier:    !!e.metaKey || !!e.ctrlKey || !!e.altKey || !!e.shiftKey\n        };\n\n        var numSuggests = this.props.searchResults.getTotalSuggestions(query);\n\n        if(key.modifier) {\n            return;\n        }\n\n        if(key.up_arrow || key.down_arrow || key.enter) {\n            e.preventDefault();\n        }\n\n        if(key.up_arrow || key.down_arrow) {\n            if(numSuggests <= 0) {\n                return;\n            }\n        \n            var idx  = this.props.searchResults.getActiveIdx(query);\n            var step = key.down_arrow ? 1 : -1;\n\n            if(idx === null) {\n                idx = (key.down_arrow ? 0 : numSuggests-1);\n            } else {\n                idx = (idx+step < 0 || idx+step >= numSuggests ? null : idx+step);\n            }\n\n            this.props.searchResults.setActiveIdx(query, idx);\n        } else if(key.esc) {\n            this.setState({\n                forcedOpen: false\n            });\n\n            // Force react update before calling blur, otherwise state would remain stale\n            this.forceUpdate(_.bind(function() {\n                this.refs['query'].blur();\n            }, this));\n        }\n    },\n\n    handleMouseEnter: function(e) {\n        this.setState({\n            forcedOpen: true\n        });\n    },\n\n    handleMouseLeave: function(e) {\n        this.setState({\n            forcedOpen: false\n        });\n    }\n});\n","Namespace('Imgur.Search');\n\nImgur.Search.Results = Class.extend({\n    init: function(emitter, store, ordering, factory) {\n        this._ = {\n            emitter: emitter,\n            store: store,\n            ordering: ordering,\n            suggestionFactory: factory,\n            activeIdx: {\n                query: null,\n                idx: null\n            }\n        };\n    },\n\n    setActiveIdx: function(query, idx) {\n        if(query === this._.activeIdx.query) {\n            this._.activeIdx = {\n                query: query,\n                idx: idx\n            };\n\n            this._.emitter.trigger('new active suggestion');\n        }\n    },\n\n    setActiveQuery: function(query) {\n        this._.activeIdx = {\n            query: query,\n            idx: null\n        };\n\n        this._.emitter.trigger('new active suggestion');\n    },\n\n    getSections: function() {\n        var sections = [],\n            idx = 0,\n            query = this._.store.getQuery();\n        \n        for(var i = 0, order_key = this._.ordering[0]; i < this._.ordering.length; i++, order_key = this._.ordering[i]) {\n            var payload  = this._.store.getSuggestions(query, order_key);\n            var payloads = _.map(payload, _.bind(this._.suggestionFactory.produceSuggestion, this._.suggestionFactory, order_key));\n\n            sections.push(this._.suggestionFactory.produceSection(idx, order_key, payloads));\n            idx += payload.length;\n        }\n\n        return sections;\n    },\n\n    getIthSuggestion: function(query, idx) {\n        for(var i = 0, order_key = this._.ordering[0]; i < this._.ordering.length; i++, order_key = this._.ordering[i]) {\n            var payload = this._.store.getSuggestions(query, order_key);\n\n            if(idx < payload.length) {\n                return this._.suggestionFactory.produceSuggestion(order_key, payload[idx]);\n            }\n\n            idx = idx - payload.length;\n        }\n    },\n\n    getVisibleQuery: function() {\n        if(this._.activeIdx.idx !== null) {\n            return this.getIthSuggestion(this._.activeIdx.query, this._.activeIdx.idx).searchString;\n        } else {\n            return this._.store.getQuery();\n        }\n    },\n\n    /**\n     * The active query is the query for which the index was calculated, so that when the set of\n     * suggestions changes, the index becomes invalid.\n     */\n    getActiveQuery: function() {\n        return this._.activeIdx.query;\n    },\n\n    getActiveIdx: function(query) {\n        return (this._.activeIdx.query === query) ? this._.activeIdx.idx : null;\n    },\n\n    getQuery: function() {\n        return this._.store.getQuery();\n    },\n\n    getTotalSuggestions: function(query) {\n        var total = 0;\n\n        for(var i = 0, order_key = this._.ordering[0]; i < this._.ordering.length; i++, order_key = this._.ordering[i]) {\n            var payload = this._.store.getSuggestions(query, order_key);\n            total += payload.length;\n        }\n\n        return total;\n    }\n});\n","Namespace('Imgur.Search');\n\nImgur.Search.SuggestionFactory = Class.extend({\n    init: function(hostname) {\n        this._ = {\n            host: hostname\n        }\n    },\n\n    produceSuggestion: function(type, payload) {\n        switch(type) {\n            case 'post_titles':\n                return {\n                    type: type,\n                    href: '//' + this._.host + '/search?q=' + encodeURIComponent(payload),\n                    searchString: payload,\n                    payload: payload,\n                    query: payload\n                };\n            break;\n\n            case 'tags':\n                return {\n                    type: type,\n                    href: '//' + this._.host + '/t/' + payload.tag.replace(/\\s+/g,'_'),\n                    searchString: 'tag:' + payload.tag,\n                    payload: payload,\n                    query: payload.tag\n                };\n            break;\n\n            case 'users':\n                return {\n                    type: type,\n                    href: '//' + this._.host + '/user/' + encodeURIComponent(payload.user),\n                    searchString: 'user:' + payload.user,\n                    payload: payload,\n                    query: payload.user\n                };\n            break;\n            \n            case 'memes':\n                return {\n                    type: type,\n                    href: '//' + this._.host + '/search?q=' + encodeURIComponent('meme:' + payload),\n                    searchString: 'meme:' + payload,\n                    payload: payload,\n                    query: payload\n                };\n            break;\n            \n            case 'echo':\n                return {\n                    type: type,\n                    href: '//' + this._.host + '/search?q=' + encodeURIComponent(payload),\n                    searchString: payload,\n                    payload: payload,\n                    query: payload\n                };\n            break;\n        }\n    },\n\n    produceSection: function(idx, order_key, payload) {\n        var section = {\n            key: order_key,\n            index: idx,\n            payload: payload\n        };\n\n        var title, iconClass, reactClsName;\n\n        switch(order_key) {\n            case 'post_titles':\n                title = 'Search suggestions:';\n                iconClass = 'glass-icon';\n                reactClsName = 'Search';\n                break;\n            case 'tags':\n                title = 'Tags:';\n                iconClass = 'tag-icon';\n                reactClsName = 'Tag';\n                break;\n            case 'users':\n                title = 'Users:';\n                iconClass = 'user-icon';\n                reactClsName = 'User';\n                break;\n            case 'memes':\n                title = 'Memes:';\n                iconClass = 'meme-icon';\n                reactClsName = 'Meme';\n                break;\n            case 'echo':\n                title = 'Search:';\n                iconClass = 'glass-icon';\n                reactClsName = 'Echo';\n                break;\n        }\n\n        section.title = title;\n        section.iconClass = iconClass;\n        section.reactClsName = reactClsName;\n\n        return section;\n    }\n});\n","Namespace('Imgur.Search');\n\nImgur.Search.Model = Class.extend({\n    /**\n     * Primary tags: list of string; tag names to automatically exclude from success cb\n     */\n    init: function(ajax, suggestionStore) {\n        this._ = {\n            ajax: ajax,\n            suggestionStore: suggestionStore,\n            queryNonce: 0,\n            pendingRequest: null\n        };\n    },\n\n    cancel: function() {\n        this._.queryNonce++;\n\n        if(null != this._.pendingRequest) {\n            this._.pendingRequest.abort();\n        }\n    },\n\n    fetch: function(queryContext, url, cb, data) {\n        this.cancel();\n        this._.pendingRequest = this._.ajax(url, data, _.bind(this._handleResponse, this, this._.queryNonce, queryContext, cb || _.noop));\n    },\n\n    responseWasSuccessful: function(response) {\n        return !!response.success;\n    },\n\n    _handleResponse: function(nonce, queryContext, success_callback, response) {\n        this._.pendingRequest = null;\n\n        if(nonce < this._.queryNonce) {\n            // nonce was either cancelled or another fetch is happening. \n            // only proceed with the latest request.\n            return;\n        }\n\n        this._.queryNonce++;\n        if(response && this.responseWasSuccessful(response)) {\n            success_callback(queryContext, this._handleResponseSuccess(queryContext, response));\n        }\n    },\n\n    _handleResponseSuccess: function(queryContext, response) {\n        throw 'abstract';\n    }\n});\n","Namespace('Imgur.Search');\n\nImgur.Search.SuggestModel = Imgur.Search.Model.extend({\n    init: function(ajax, suggestionStore, suggestUrl) {\n        this._super(ajax, suggestionStore);\n        this._.suggestUrl = suggestUrl;\n    },\n\n    fetch: function(query, cb) {\n        this._super([query], this._.suggestUrl + '?q=' + encodeURIComponent(query), cb, {});\n    },\n\n    _handleResponseSuccess: function(queryContext, response) {\n        var query = queryContext[0];\n\n        _.each(response.data, _.bind(function(suggestion, key) {\n            if(suggestion.type === 'search') {\n                this._.suggestionStore.addSuggestion(query, 'post_titles', key, suggestion.text);\n            } else if(suggestion.type === 'tag') {\n                this._.suggestionStore.addSuggestion(query, 'tags', key, {tag: suggestion.text, images: suggestion.images});\n            } else if(suggestion.type === 'user') {\n                this._.suggestionStore.addSuggestion(query, 'users', key, {user: suggestion.text, submissions: suggestion.submissions});\n            } else if(suggestion.type === 'meme') {\n                this._.suggestionStore.addSuggestion(query, 'memes', key, suggestion.text);\n            } else if(suggestion.type === 'echo') {\n                this._.suggestionStore.addSuggestion(query, 'echo', key, suggestion.text);\n            }\n        }, this));\n        \n        return this._.suggestionStore;\n    },\n            \n    toString: function() {\n        return '[search suggestion model]';\n    }\n});\n\nImgur.Search.SuggestModel.prototype.fetch = _.debounce(Imgur.Search.SuggestModel.prototype.fetch, 50);\n","Namespace('Imgur.Search');\n\nImgur.Search.HotkeyController = Class.extend({\n    KEYCODE: {\n        FORWARD_SLASH: 191\n    },\n\n    init: function($root) {\n        this._ = {\n            el: {\n                $root: $root\n            }\n        };\n    },\n\n    handleKeyUp: function(e) {\n        if(!(e.metaKey || e.ctrlKey || e.shiftKey || e.altKey) && e.keyCode == this.KEYCODE.FORWARD_SLASH && !$(e.target).is('input, textarea') && $(e.target).attr('contenteditable') != 'true') {\n            this._.el.$root.find('input[type=\"text\"][name=\"q\"]').focus();\n        }\n    }\n});\n","Namespace('Imgur.Search.Controller');\n\nImgur.Search.Controller.Advanced = Class.extend({\n    init: function(structured) {\n        this._ = {\n            structured: structured\n        };\n    },\n\n    handleKeyUpStructured: function(e) { \n       this._.topbar.getStore().setQuery(this._.structured.getFlatQuery());\n    },\n\n    handleToggleAdvancedClick: function(e) {\n        var isAdvancedHidden = this._.structured.getIsHidden();\n\n        if(isAdvancedHidden) {\n            this._.topbar.close();\n            this._.structured.show();\n        } else {\n            this._.topbar.open();\n            this._.structured.hide();\n        }\n    },\n\n    setTopBarComponent: function(c) {\n        this._.topbar = c;\n    }\n});\n","Namespace('Imgur.Search.TopBar');\n\nImgur.Search.TopBar.Section = React.createClass({\n    displayName: 'Search-TopBarSection',\n\n    getDefaultProps: function() {\n        return {\n            entries: []\n        };\n    },\n\n    render: function() {\n        return React.DOM.div({ className: 'global-search-section' },\n            React.DOM.div({className: this.props.icon}),\n            React.DOM.div({className: 'title'}, this.props.title),\n            this.props.children\n        );\n    }\n});\n","Namespace('Imgur.Search.Suggestions');\n\nImgur.Search.Suggestions.Search = React.createClass({\n    displayName: 'Search-Suggestions-Seach',\n\n    render: function() {\n        return React.DOM.a({href: this.props.href},\n            this.props.query\n        );\n    }\n});\n","Namespace('Imgur.Search.Suggestions');\n\nImgur.Search.Suggestions.Tag = React.createClass({\n    displayName: 'Search-Suggestions-Tag',\n\n    render: function() {\n        return React.DOM.a({href: this.props.href},\n            this.props.payload.tag\n        );\n    }\n});\n","Namespace('Imgur.Search.Suggestions');\n\nImgur.Search.Suggestions.User = React.createClass({\n    displayName: 'Search-Suggestions-User',\n\n    render: function() {\n        return React.DOM.a({href: this.props.href},\n            this.props.payload.user\n        );\n    }\n});\n","Namespace('Imgur.Search.Suggestions');\n\nImgur.Search.Suggestions.Meme = React.createClass({\n    displayName: 'Search-Suggestions-Meme',\n\n    render: function() {\n        return React.DOM.a({href: this.props.href},\n            this.props.query\n        );\n    }\n});\n","Namespace('Imgur.Search.Suggestions');\n\nImgur.Search.Suggestions.Echo = React.createClass({\n    displayName: 'Search-Suggestions-Echo',\n\n    render: function() {\n        return React.DOM.a({href: this.props.href},\n            this.props.query\n        );\n    }\n});\n","/***\n * Modified 2016-05-24 by mburst\n * Allow for imagezoom to load blob URLs\n *\n * Modified 2015-09-14 by andytuba\n * to only respond to left mouse clicks with no modifier keys held down\n * so that imagezoom doesn't break default browser functionality like \"ctrl-click link to open in new tab\"\n **/\n/***\n@title:\nImage Zoom\n\n@version:\n2.0\n\n@author:\nAndreas Lagerkvist\n\n@date:\n2008-08-31\n\n@url:\nhttp://andreaslagerkvist.com/jquery/image-zoom/\n\n@license:\nhttp://creativecommons.org/licenses/by/3.0/\n\n@copyright:\n2008 Andreas Lagerkvist (andreaslagerkvist.com)\n\n@requires:\njquery, jquery.imageZoom.css, jquery.imageZoom.png\n\n@does:\nThis plug-in makes links pointing to images open in the \"Image Zoom\". Clicking a link will zoom out the clicked image to its target-image. Click anywhere on the image or the close-button to zoom the image back in. Only ~3k minified.\n\n@howto:\njQuery(document.body).imageZoom(); Would make every link pointing to an image in the document open in the zoom.\n\n@exampleHTML:\n<ul>\n\t<li><a href=\"http://exscale.se/__files/3d/bloodcells.jpg\">Bloodcells</a></li>\n\t<li><a href=\"http://exscale.se/__files/3d/x-wing.jpg\">X-Wing</a></li>\n\t<li><a href=\"http://exscale.se/__files/3d/weve-moved.jpg\">We've moved</a></li>\n</ul>\n\n<ul>\n\t<li><a href=\"http://exscale.se/__files/3d/lamp-and-mates/lamp-and-mates-01.jpg\"><img src=\"http://exscale.se/__files/3d/lamp-and-mates/lamp-and-mates-01_small.jpg\" alt=\"Lamp and Mates\" /></a></li>\n\t<li><a href=\"http://exscale.se/__files/3d/stugan-winter.jpg\"><img src=\"http://exscale.se/__files/3d/stugan-winter_small.jpg\" alt=\"The Cottage - Winter time\" /></a></li>\n\t<li><a href=\"http://exscale.se/__files/3d/ps2.jpg\"><img src=\"http://exscale.se/__files/3d/ps2_small.jpg\" alt=\"PS2\" /></a></li>\n</ul>\n\n@exampleJS:\n// I don't run it because my site already uses imgZoom\n// jQuery(document.body).imageZoom();\n***/\njQuery.fn.imageZoom = function (conf) {\n\t// Some config. If you set dontFadeIn: 0 and hideClicked: 0 imgzoom will act exactly like fancyzoom\n\tvar config = jQuery.extend({\n\t\tspeed:\t\t\t150,\t// Animation-speed of zoom\n\t\tdontFadeIn:\t\t1,\t\t// 1 = Do not fade in, 0 = Do fade in\n\t\thideClicked:\t1,\t\t// Whether to hide the image that was clicked to bring up the imgzoom\n\t\timageMargin:\t15,\t\t// Margin from image-edge to window-edge if image is larger than screen\n\t\tclassName:\t\t'jquery-image-zoom',\n\t\tloading:\t\t'Loading...'\n\t}, conf);\n\tconfig.doubleSpeed = config.speed / 4; // Used for fading in the close-button\n\n\treturn this.click(function(e) {\n                if (e.which !== 1 || e.ctrlKey || e.metaKey || e.shiftKey || e.altKey) {\n                    return;\n                }\n\n\t\t// Make sure the target-element is a link (or an element inside a link)\n\t\tvar clickedElement\t= jQuery(e.target); // The element that was actually clicked\n\t\tvar clickedLink\t\t= clickedElement.is('a') ? clickedElement : clickedElement.parents('a'); // If it's not an a, check if any of its parents is\n\t\t\tclickedLink\t\t= (clickedLink && clickedLink.is('a') && (clickedLink.attr('href').search(/(.*)\\.(jpg|jpeg|gif|png|bmp|tif|tiff)(\\?.*)?$/gi) != -1 || clickedLink.attr('href').substr(0, 5) == 'blob:')) ? clickedLink : false; // If it was an a or child of an a, make sure it points to an image\n\t\tvar clickedImg\t\t= (clickedLink && clickedLink.find('img').length) ? clickedLink.find('img') : false; // See if the clicked link contains and image\n\n\t\t// Only continue if a link pointing to an image was clicked\n\t\tif (clickedLink) {\n\t\t\t// These functions are used when the imaeg starts and stops loading (displays either 'loading..' or fades out the clicked img slightly)\n\t\t\tclickedLink.oldText\t= clickedLink.text();\n\n\t\t\tclickedLink.setLoadingImg = function () {\n\t\t\t\tif (clickedImg) {\n\t\t\t\t\tclickedImg.before('<span class=\"zoom-loader\"></span>');\n\t\t\t\t\tclickedImg.css({opacity: '0.5'});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tclickedLink.text(config.loading);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tclickedLink.setNotLoadingImg = function () {\n\t\t\t\tif (clickedImg) {\n\t\t\t\t\tclickedImg.siblings('.zoom-loader').remove();\n\t\t\t\t\tclickedImg.css({opacity: '1'});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tclickedLink.text(clickedLink.oldText);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// The URI to the image we are going to display\n\t\t\tvar displayImgSrc = clickedLink.attr('href');\n\n\t\t\t// If an imgzoom wiv this image is already open dont do nathin\n\t\t\tif (jQuery('div.' + config.className + ' img[src=\"' + displayImgSrc + '\"]').length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Preload image\n\t\t\tvar preload = new Image();\n\t\t\t\tpreload.src = displayImgSrc;\n\n\t\t\t// This function is run once the displayImgSrc-img has loaded (below)\n\t\t\tvar preloadOnload = function () {\n\t\t\t\t// The clicked-link is faded out during loading, fade it back in\n\t\t\t\tclickedLink.setNotLoadingImg();\n\n\t\t\t\t// Now set some vars we need\n\t\t\t\tvar dimElement\t\t= clickedImg ? clickedImg : clickedLink; // The element used to retrieve dimensions of imgzoom before zoom (either clicked link or img inside)\n\t\t\t\tvar hideClicked\t\t= clickedImg ? config.hideClicked : 0; // Whether to hide clicked link (set in config but always true for non-image-links)\n\t\t\t\tvar offset\t\t\t= dimElement.offset(); // Offset of clicked link (or image inside)\n\t\t\t\tvar imgzoomBefore\t= { // The dimensions of the imgzoom _before_ it is zoomed out\n\t\t\t\t\twidth:\t\tdimElement.outerWidth(),\n\t\t\t\t\theight:\t\tdimElement.outerHeight(),\n\t\t\t\t\tleft:\t\toffset.left,\n\t\t\t\t\ttop:\t\toffset.top/*,\n\t\t\t\t\topacity:\tconfig.dontFadeIn*/\n\t\t\t\t};\n\t\t\t\tvar imgzoom\t\t\t= jQuery('<div><img src=\"' + displayImgSrc + '\" alt=\"\" /></div>').css('position', 'absolute').appendTo(document.body); // We don't want any class-name or any other contents part from the image when we calculate the new dimensions of the imgzoom\n\t\t\t\tvar imgzoomAfter\t= { // The dimensions of the imgzoom _after_ it is zoomed out\n\t\t\t\t\twidth:\t\tpreload.width,\n\t\t\t\t\theight:\t\tpreload.height/*,\n\t\t\t\t\topacity:\t1*/\n\t\t\t\t};\n\t\t\t\tvar windowDim = {\n\t\t\t\t\twidth:\tjQuery(window).width(),\n\t\t\t\t\theight:\tjQuery(window).height()\n\t\t\t\t};\n\t\t\t\t// Make sure imgzoom isn't wider than screen\n\t\t\t\tif (imgzoomAfter.width > (windowDim.width - config.imageMargin * 2)) {\n\t\t\t\t\tvar nWidth\t\t\t= windowDim.width - config.imageMargin * 2;\n\t\t\t\t\timgzoomAfter.height\t= (nWidth / imgzoomAfter.width) * imgzoomAfter.height;\n\t\t\t\t\timgzoomAfter.width\t= nWidth;\n\t\t\t\t}\n\t\t\t\t// Now make sure it isn't taller\n\t\t\t\t/*\n\t\t\t\tif (imgzoomAfter.height > (windowDim.height - config.imageMargin * 2)) {\n\t\t\t\t\tvar nHeight\t\t\t= windowDim.height - config.imageMargin * 2;\n\t\t\t\t\timgzoomAfter.width\t= (nHeight / imgzoomAfter.height) * imgzoomAfter.width;\n\t\t\t\t\timgzoomAfter.height\t= nHeight;\n\t\t\t\t}*/\n\n\t\t\t\t// Center imgzoom\n\t\t\t\timgzoomAfter.left\t= (windowDim.width - imgzoomAfter.width) / 2 + jQuery(window).scrollLeft();\n\t\t\t\timgzoomAfter.top\t= (windowDim.height - imgzoomAfter.height) / 2 + jQuery(window).scrollTop();\n\t\t\t\tvar closeButton\t\t= jQuery('<a href=\"#\">Close</a>').appendTo(imgzoom).hide(); // The button that closes the imgzoom (we're adding this after the calculation of the dimensions)\n\n\t\t\t\t// Make sure we can use focus() on it.\n\t\t\t\timgzoom.attr('tabindex','1');\n\n\t\t\t\tif(imgzoomAfter.top < 0) imgzoomAfter.top = 20;\n\n\t\t\t\t// Hide the clicked link if set so in config\n\t\t\t\tif (hideClicked) {\n\t\t\t\t\tclickedLink.css('visibility', 'hidden');\n\t\t\t\t}\n\n\t\t\t\t// Now animate the imgzoom from its small size to its large size, and then fade in the close-button\n\t\t\t\timgzoom.addClass(config.className).css(imgzoomBefore).animate(imgzoomAfter, config.speed, function () {\n\t\t\t\t\tcloseButton.fadeIn(config.doubleSpeed);\n\t\t\t\t\timgzoom.focus();\n\t\t\t\t});\n\n\t\t\t\t// This function closes the imgzoom\n\t\t\t\tvar hideImgzoom = function () {\n\t\t\t\t\tcloseButton.fadeOut(config.doubleSpeed, function () {\n\t\t\t\t\t\timgzoom.animate(imgzoomBefore, config.speed, function () {\n\t\t\t\t\t\t\tclickedLink.css('visibility', 'visible');\n\t\t\t\t\t\t\timgzoom.remove();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\n\t\t\t\t// Close imgzoom when you click the closeButton or the imgzoom\n\t\t\t\timgzoom.click(hideImgzoom);\n\t\t\t\timgzoom.blur(hideImgzoom);\n\t\t\t\tcloseButton.click(hideImgzoom);\n\t\t\t};\n\n\t\t\tif (preload.complete) {\n\t\t\t\tpreloadOnload();\n\t\t\t} else {\n\t\t\t\tclickedLink.setLoadingImg();\n\t\t\t\tpreload.onload = preloadOnload;\n\t\t\t}\n\n\t\t\t// Finally return false from the click so the browser doesn't actually follow the link...\n\t\t\treturn false;\n\t\t}\n\t});\n};\n\n// Close image zooms when user hits esc\n$(document).keydown(function (e) {\n\tif (e.keyCode == 27) {\n\t\t$('div.jquery-image-zoom a').click();\n\t}\n});\n","Imgur.ImageViewer = React.createClass({\n    displayName: 'ImageViewer',\n\n    getDefaultProps: function getDefaultProps() {\n        return {\n            thumbsize: '',\n            gif_size_threshold: 2 * 1024 * 1024,\n            wrap_with_direct_link: true,\n            poster: true,\n            forceGif: false,\n            forceStill: false,\n            noZoom: false,\n            maxWidth: '100%',\n            minHeight: '0',\n            discarding_referrer: false,\n            firing_pixel: true,\n            showShareLinks: false,\n            deleteMode: false\n        };\n    },\n\n    getInitialState: function getInitialState() {\n        return {\n            videoHash: null,\n            progress: 0,\n            failed: false,\n            lastViewPixel: null,\n            injectFullImage: false\n        };\n    },\n\n    _showingVideo: function _showingVideo() {\n        return !this.props.forceGif && (this.props.item.size > this.props.gif_size_threshold || this.props.item.prefer_video) && !this.props.thumbsize && this.props.item.ext.indexOf('.gif') === 0 && this.props.item.animated;\n    },\n\n    _addVideoLoader: function _addVideoLoader() {\n        $(this.refs.video).on('progress', _.bind(function (e) {\n            try {\n                var percent = Math.round(this.refs.video.buffered.end(0) / this.refs.video.duration * 100);\n\n                this.setState({\n                    videoHash: this.props.item.hash,\n                    progress: percent\n                });\n            } catch (e) {\n                // INDEX_SIZE_ERR\n                this.setState({\n                    videoHash: this.props.item.hash,\n                    progress: 0\n                });\n            }\n        }, this));\n    },\n\n    _bindVideoEvents: function _bindVideoEvents() {\n        var $video = $(this.refs.video);\n\n        if (this._isMobile() && (typeof this.props.item.looping == 'undefined' || this.props.item.looping)) {\n            $video[0].loop = false;\n\n            $video.on('ended', function () {\n                $video[0].currentTime = 0;\n                $video[0].play();\n            });\n        }\n\n        $video.children('source:last').on('error', _.bind(function () {\n            this.setState({ failed: true });\n        }, this));\n    },\n\n    componentWillUnmount: function componentWillUnmount() {\n        if (this.refs.hasOwnProperty('video')) {\n            // Stop the in-progress download by resetting src\n            this.refs.srcmp4.src = \"\";\n            this.refs.video.load();\n\n            var $video = $(this.refs.video);\n\n            $video.off('ended');\n            $video.off('progress');\n            $video.off('ended');\n            $video.children('source:last').off('error');\n        } else if (this.refs.hasOwnProperty('image')) {\n            // Stop the in-progress download by resetting src\n            this.refs.image.src = \"\";\n        }\n    },\n\n    componentWillUpdate: function componentWillUpdate() {\n        if (this.refs.hasOwnProperty('video')) {\n            $(this.refs.video).off('progress');\n            $(this.refs.video).off('ended');\n        }\n    },\n\n    shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n        if (this.props.item.hash != nextProps.item.hash || nextProps.showShareLinks || this.state.injectFullImage != nextState.injectFullImage) {\n            return true;\n        }\n\n        return false;\n    },\n\n    _imageChanged: function _imageChanged() {\n        if (this.refs.hasOwnProperty('video')) {\n            this._addVideoLoader();\n            this._bindVideoEvents();\n        }\n\n        if (this.props.firing_pixel && this.state.lastViewPixel !== this.props.item.hash && ['', 'l', 'g', 'h', 'r'].indexOf(this.props.thumbsize) !== -1) {\n            Imgur.Util.triggerView(this.props.item.hash, { image: true, discard: this.props.discarding_referrer });\n\n            this.setState({\n                lastViewPixel: this.props.item.hash\n            });\n        }\n    },\n\n    componentDidUpdate: function componentDidUpdate() {\n        this._imageChanged();\n    },\n\n    componentDidMount: function componentDidMount() {\n        if (!this.props.noZoom && this._isLargeWidth() && !this._showingVideo()) {\n            $(this.refs['link']).imageZoom();\n        }\n\n        this._imageChanged();\n    },\n\n    _injectFullImage: function _injectFullImage() {\n        this.setState({\n            injectFullImage: true\n        });\n    },\n\n    _isMobile: function _isMobile() {\n        return navigator.userAgent.match(/android|iphone|ipod|ipad/i);\n    },\n\n    _isLargeWidth: function _isLargeWidth() {\n        if (this.props.thumbsize != '') {\n            var imageSizes = Imgur.getInstance().getImageSizes();\n            for (var size in imageSizes) {\n                if (imageSizes.hasOwnProperty(size) && imageSizes[size].suffix == this.props.thumbsize) {\n                    return this.props.item.width > imageSizes[size].width;\n                }\n            }\n        } else {\n            return this.props.item.width > 728;\n        }\n    },\n\n    _shareOptions: function _shareOptions(embedcoder) {\n        $.colorbox({\n            html: '<div id=\"post-image-options-share\"></div>',\n            open: true,\n            top: '10%',\n            transition: 'none',\n            scrolling: false,\n            fixed: true,\n            width: 647,\n            height: 280,\n            className: 'blurbox',\n            title: 'Share Options',\n            onComplete: function onComplete() {\n                ReactDOM.render(React.createElement(Imgur.Gallery.ShareImage, {\n                    embedcoder: embedcoder\n                }), $('#post-image-options-share').get(0));\n            }\n        });\n    },\n\n    toggleDeleteMode: function toggleDeleteMode(e) {\n        e.preventDefault();\n\n        this.setState({\n            deleteMode: !this.state.deleteMode\n        });\n    },\n\n    removeFromPost: function removeFromPost() {\n        $.ajax({\n            method: 'POST',\n            url: '/ajaxalbums/removeimage/' + this.props.album_hash,\n            data: {\n                msid: Imgur.Environment.msid,\n                deletehash: this.props.item.deletehash\n            },\n            displayGenericError: false,\n            error: function error() {\n                humanMsg.displayMsg('There was an error removing your image from this post', 'error-msg');\n            }\n        });\n        this.props.handleRemove(this.props.item.hash);\n    },\n\n    deleteFromAccount: function deleteFromAccount() {\n        $.ajax({\n            method: 'POST',\n            url: '/delete/' + this.props.item.deletehash,\n            data: { confirm: true },\n            displayGenericError: false,\n            error: function error() {\n                humanMsg.displayMsg('There was an error deleting your image', 'error-msg');\n            }\n        });\n        this.props.handleRemove(this.props.item.hash);\n    },\n\n    render: function render() {\n        var hash = this.props.item.hash;\n        var blobURL = this.props.item.blobURL;\n        var ext = this.props.item.ext;\n        var width = this.props.item.width;\n        var height = this.props.item.height;\n        var title = this.props.item.title;\n        var preloaded = this.props.item.preloaded;\n\n        var large_width = this._isLargeWidth();\n\n        var zooming = !this.props.noZoom && large_width && !this._showingVideo();\n\n        if (this._showingVideo() && !this.state.failed) {\n            // key so that it's removed on render rather than replaced\n            var progress = 0;\n\n            if (this.state.videoHash === hash) {\n                progress = this.state.progress;\n            }\n\n            var videoParams = {\n                ref: 'video',\n                key: hash + ext,\n                autoPlay: 'autoplay',\n                muted: 'muted',\n                style: { maxWidth: this.props.maxWidth, minHeight: this.props.minHeight + 'px', maxHeight: this.props.maxHeight + 'px' }\n            };\n\n            if (!this._isMobile() && (typeof this.props.item.looping === 'undefined' || this.props.item.looping)) {\n                videoParams.loop = 'loop';\n            }\n\n            if (this.props.poster) {\n                videoParams.poster = Imgur.Environment.cdnUrl + '/' + hash + 'h.jpg';\n            }\n\n            //Can't autoplay so have to show controls\n            if (this._isMobile()) {\n                videoParams.controls = 'controls';\n            }\n\n            //todo: update for blob urls\n            var src_prefix = Imgur.Environment.cdnUrl + '/' + hash;\n\n            var inner_tag = React.createElement(\n                'div',\n                { className: 'video-container' },\n                React.createElement(\n                    'video',\n                    videoParams,\n                    React.createElement('source', { ref: 'srcmp4', type: 'video/mp4', src: src_prefix + '.mp4' })\n                ),\n                progress < 100 ? React.createElement('progress', { min: '0', max: '100', ref: 'progress', value: progress }) : null\n            );\n        } else {\n            var src;\n            if (preloaded !== false || this.state.failed) {\n                // preloaded = null if normal image view or true if upload is finished\n                // fallback to regular GIF if the video failed, prevent showing the blobURL again\n                src = Imgur.Environment.cdnUrl + '/' + hash + (this.props.item.animated && !this.props.forceStill ? '' : this.props.thumbsize) + ext;\n            } else {\n                src = blobURL;\n            }\n\n            // key so that it's removed on render rather than replaced\n            inner_tag = React.createElement('img', { key: blobURL + hash + this.props.thumbsize + ext,\n                ref: 'image',\n                alt: title,\n                src: src,\n                style: { maxWidth: this.props.maxWidth, minHeight: this.props.minHeight + 'px', maxHeight: this.props.maxHeight + 'px' }\n            });\n        }\n\n        if ((large_width || this.props.wrap_with_direct_link) && (!this.props.noZoom || this.props.wrap_with_direct_link) && !this._showingVideo()) {\n            var href;\n            if (preloaded !== false) {\n                href = Imgur.Environment.cdnUrl + '/' + hash + ext;\n            } else {\n                href = blobURL;\n            }\n\n            var placeholder;\n            var is_firefox = $.browser.mozilla;\n            var large_props = {\n                className: zooming ? 'zoom' : '',\n                ref: 'link',\n                title: title,\n                href: href\n            };\n\n            // Skip this block if retina display with image between 728 and 1456 so that two images aren't rendered\n            if (this.props.thumbsize != '') {\n                // Firefox requires full image to download before allowing 'save as' so we load the full image everytime unfortunately\n                if (!this.state.injectFullImage && !is_firefox) {\n                    large_props.onMouseDown = zooming ? this._injectFullImage : _.noop;\n                }\n\n                // By having a second image over top we can allow the user to download the full image on a right click save as\n                // without artifacting or flashing as we swap out the source when injectFullImage gets set to true\n                placeholder = React.DOM.img({\n                    key: hash + this.props.thumbsize + ext + 'b',\n                    alt: title,\n                    src: Imgur.Environment.cdnUrl + '/' + hash + (this.state.injectFullImage || this.props.item.animated || is_firefox ? '' : this.props.thumbsize) + ext,\n                    style: { maxWidth: this.props.maxWidth, minHeight: this.props.minHeight + 'px', maxHeight: this.props.maxHeight + 'px' },\n                    className: 'post-image-placeholder'\n                });\n            }\n\n            inner_tag = React.DOM.a(large_props, placeholder, inner_tag);\n        }\n\n        var post_image_options, sharebg, progress_text, progress_bar;\n        if (this.props.showShareLinks) {\n            var embedcoder = new Imgur.LinkGenerator();\n            embedcoder.setThumbSize('');\n            embedcoder.setItem(this.props.item);\n\n            var showProgressText = typeof this.props.item.hash !== 'string';\n            var showProgressBar = showProgressText && this.props.item.progress > 0;\n\n            progress_text = showProgressText ? React.createElement(\n                'div',\n                { className: 'post-image-progress-text' },\n                this.props.item.progressText\n            ) : null;\n            progress_bar = showProgressBar ? React.createElement('div', { className: 'post-image-progress-bar', style: { width: this.props.item.progress + '%' } }) : null;\n\n            if (this.state.deleteMode) {\n                post_image_options = React.createElement(\n                    'div',\n                    { className: 'post-image-delete' },\n                    React.createElement(\n                        'div',\n                        { className: 'post-image-delete-container' },\n                        React.createElement(\n                            'a',\n                            { href: '', className: 'post-image-delete-item', onClick: this.toggleDeleteMode },\n                            'Cancel'\n                        ),\n                        !this.props.singleImage ? React.createElement(\n                            'span',\n                            null,\n                            React.createElement(\n                                'button',\n                                { className: 'btn btn-action post-image-delete-item', onClick: this.removeFromPost },\n                                'Remove from this Post'\n                            ),\n                            React.createElement(\n                                'span',\n                                { className: 'post-image-delete-item' },\n                                'or'\n                            )\n                        ) : null,\n                        React.createElement(\n                            'button',\n                            { className: 'btn btn-danger post-image-delete-item', onClick: this.deleteFromAccount },\n                            'Delete Image from Account'\n                        )\n                    )\n                );\n            } else {\n                post_image_options = !showProgressText ? React.createElement(\n                    'div',\n                    null,\n                    React.createElement(\n                        'div',\n                        { className: 'post-image-options-container' },\n                        React.createElement(Imgur.Elements.Copy, { value: embedcoder.imageLink(), inputClass: 'copy-input', copyClass: 'copy' }),\n                        React.createElement(\n                            'div',\n                            { className: 'icon-arrow-down' },\n                            React.createElement(\n                                'div',\n                                { className: 'post-image-options-all-container' },\n                                React.createElement('div', { className: 'caret' }),\n                                React.createElement(\n                                    'ul',\n                                    { className: 'post-image-options-all' },\n                                    React.createElement(\n                                        'li',\n                                        { className: 'post-image-option' },\n                                        React.createElement(\n                                            'a',\n                                            { href: '/edit?deletehash=' + this.props.item.deletehash + '&album_id=' + this.props.album_hash },\n                                            'Edit image'\n                                        )\n                                    ),\n                                    React.createElement(\n                                        'li',\n                                        { className: 'post-image-option' },\n                                        React.createElement(\n                                            'a',\n                                            { onClick: _.partial(this._shareOptions, embedcoder) },\n                                            'Get share links'\n                                        )\n                                    ),\n                                    React.createElement(\n                                        'li',\n                                        { className: 'post-image-option' },\n                                        React.createElement(\n                                            'a',\n                                            { href: '/download/' + this.props.item.hash },\n                                            'Download image'\n                                        )\n                                    ),\n                                    React.createElement(\n                                        'li',\n                                        { className: 'post-image-option' },\n                                        React.createElement(\n                                            'a',\n                                            { className: 'delete', href: '', onClick: this.toggleDeleteMode },\n                                            'Delete image'\n                                        )\n                                    )\n                                )\n                            )\n                        )\n                    )\n                ) : null;\n            }\n        }\n\n        return React.createElement(\n            'div',\n            { className: 'image post-image' },\n            post_image_options,\n            inner_tag,\n            progress_text,\n            progress_bar\n        );\n    }\n});\n//# sourceMappingURL=imageviewer.js.map\n","Namespace('Imgur.Upload.Modal');\n\nImgur.Upload.Modal = React.createClass({\n    displayName: 'Upload-Modal',\n\n    propTypes: {\n        dropTargetOnly: React.PropTypes.bool,\n        blurInvokedByUser: React.PropTypes.func,\n        handleFileList: React.PropTypes.func,\n        handleURL: React.PropTypes.func,\n        historyBackOnClose: React.PropTypes.bool,\n        creatingPost: React.PropTypes.bool,\n        accept: React.PropTypes.string,\n        handleAddExistingImage: React.PropTypes.func,\n        isNewUpload: React.PropTypes.bool\n    },\n\n    unmount: function unmount() {\n        if (this.props.historyBackOnClose) {\n            if (document.referrer == \"\") {\n                window.close();\n            } else {\n                window.history.back();\n                window.location = '/'; // fallback incase the window had a referer but no history (ie was opened with target=_blank)\n            }\n            return;\n        }\n\n        this.props.blurInvokedByUser(false);\n    },\n\n    stopPropagation: function stopPropagation(e) {\n        e.stopPropagation();\n    },\n\n    vidGif: function vidGif() {\n        Imgur.Util.jafoLog({\n            event: 'vidToGifInvoked',\n            meta: {\n                control: 'uploadOverlay'\n            }\n        });\n        window.open('//imgur.com/vidgif', '_blank');\n    },\n\n    memeGen: function memeGen() {\n        Imgur.Util.jafoLog({\n            event: 'makeAMeme',\n            meta: {\n                control: 'uploadOverlay'\n            }\n        });\n        window.open('//imgur.com/memegen', '_blank');\n    },\n\n    browseUploads: function browseUploads() {\n        Imgur.Util.jafoLog({\n            event: 'uploadTapUploads',\n            meta: {\n                control: 'uploadOverlay'\n            }\n        });\n        this.props.handleAddExistingImage();\n    },\n\n    handleURL: function handleURL(e) {\n        this.props.handleURL(e.target.value);\n    },\n\n    render: function render() {\n        var inside;\n        var dragDropBox = React.createElement(\n            'div',\n            { className: 'drag-drop-box' },\n            React.createElement('img', { className: 'upload-giraffe', src: Imgur.Environment.staticUrl + '/images/upload-giraffe.png' }),\n            React.createElement('img', { className: 'upload-pointer', src: Imgur.Environment.staticUrl + '/images/upload-pointer.png' }),\n            React.createElement('div', { className: 'icon-upload' })\n        );\n\n        var bottomButtons = [];\n        if (this.props.isNewUpload) {\n            bottomButtons.push(React.createElement(\n                'a',\n                { key: 'memeGenLink', ref: 'memeGenLink', onClick: this.memeGen },\n                'Meme Gen'\n            ));\n            bottomButtons.push(React.createElement(\n                'a',\n                { key: 'video2GifLink', ref: 'video2GifLink', onClick: this.vidGif },\n                'Video to Gif'\n            ));\n        }\n        bottomButtons.push(React.createElement(\n            'a',\n            { key: 'browseUploadsLink', ref: 'browseUploadsLink', onClick: this.browseUploads },\n            'Browse my Imgur Uploads'\n        ));\n\n        if (this.props.creatingPost) {\n            inside = React.createElement(\n                'div',\n                { id: 'upload-modal', className: 'modal' },\n                React.createElement(\n                    'div',\n                    { className: 'primary-actions drop-target-only' },\n                    React.createElement('div', { className: 'icon-checkmarkcircle' }),\n                    React.createElement(\n                        'div',\n                        { className: 'drag-drop-text' },\n                        'Creating your post'\n                    )\n                )\n            );\n        } else if (this.props.dropTargetOnly) {\n            inside = React.createElement(\n                'div',\n                { id: 'upload-modal', className: 'modal' },\n                React.createElement(\n                    'div',\n                    { className: 'primary-actions drop-target-only' },\n                    dragDropBox,\n                    React.createElement(\n                        'div',\n                        { className: 'drag-drop-text' },\n                        'Drop images here'\n                    )\n                )\n            );\n        } else {\n            inside = React.createElement(\n                'div',\n                { id: 'upload-modal', onClick: this.stopPropagation, className: 'modal' },\n                React.createElement('div', { className: 'icon-x', onClick: this.unmount }),\n                React.createElement(\n                    'div',\n                    { className: 'primary-actions' },\n                    dragDropBox,\n                    React.createElement(\n                        'div',\n                        { className: 'drag-drop-text' },\n                        React.createElement('input', { id: 'global-files-button', ref: 'browse-button', className: 'nodisplay', type: 'file', name: 'files[]', multiple: true, onChange: this.props.handleFileList, accept: this.props.accept }),\n                        React.createElement(\n                            'label',\n                            { className: 'browse-btn', htmlFor: 'global-files-button' },\n                            'Browse'\n                        ),\n                        '\\xA0',\n                        React.createElement(\n                            'span',\n                            null,\n                            'or drag images here.'\n                        )\n                    ),\n                    React.createElement(\n                        'div',\n                        { className: 'paste-url' },\n                        React.createElement('input', { id: 'paste-url-input', ref: 'pasteURLInput', onInput: this.handleURL, placeholder: 'Paste Image or URL' })\n                    )\n                ),\n                React.createElement(\n                    'div',\n                    { id: 'bottom-apps-container' },\n                    bottomButtons\n                ),\n                React.createElement(\n                    'p',\n                    { className: 'upload-modal-terms' },\n                    'By creating a post, you agree to Imgur\\'s ',\n                    React.createElement(\n                        'a',\n                        { href: '//' + Imgur.Environment.host + '/tos' },\n                        'Terms of Service'\n                    ),\n                    ' and ',\n                    React.createElement(\n                        'a',\n                        { href: '//' + Imgur.Environment.host + '/privacy' },\n                        'Privacy Policy'\n                    )\n                )\n            );\n        }\n\n        return React.createElement(\n            'div',\n            { id: 'upload-modal-backdrop', className: 'modal-backdrop drop-target ' + (this.props.creatingPost ? 'creating-post-transition' : 'normal-transition'), onClick: this.unmount },\n            inside\n        );\n    }\n});\n//# sourceMappingURL=upload-modal.js.map\n","Namespace('Imgur.Elements');\n\nvar ANIMATION_END_NAME = 'flipout';\n\nImgur.Elements.FlipInfo = React.createClass({\n    displayName: 'FlipInfo',\n\n    propTypes: {\n        message: React.PropTypes.string\n    },\n    getInitialState: function getInitialState() {\n        return { updated: true };\n    },\n    handleAnimationEnd: function handleAnimationEnd(e) {\n        if (e.nativeEvent.animationName === ANIMATION_END_NAME) {\n            this.setState({ updated: false });\n        }\n    },\n    componentWillReceiveProps: function componentWillReceiveProps() {\n        this.setState({ updated: true });\n    },\n    render: function render() {\n        return React.createElement(\n            'div',\n            { ref: 'root', className: 'FlipInfo ' + (this.state.updated && 'FlipInfo-animate'),\n                onAnimationEnd: this.handleAnimationEnd },\n            React.createElement(\n                'span',\n                { ref: 'message', className: 'FlipInfo-message' },\n                this.props.message\n            )\n        );\n    }\n});\n//# sourceMappingURL=FlipInfo.js.map\n","Namespace('Imgur.Elements');\n\n(function () {\n    \"use strict\";\n\n    var FADEOUT_ANIMATION = 'ActionCard-fadeout';\n\n    Imgur.Elements.ActionCard = React.createClass({\n        displayName: 'ActionCard',\n\n        propTypes: {\n            name: React.PropTypes.string.isRequired,\n            title: React.PropTypes.string.isRequired,\n            body: React.PropTypes.string.isRequired,\n            actions: React.PropTypes.array.isRequired,\n            imageUrl: React.PropTypes.string.isRequired,\n            classNames: React.PropTypes.string,\n            close: React.PropTypes.func\n        },\n        getInitialState: function getInitialState() {\n            return {\n                closed: false,\n                hide: false\n            };\n        },\n        componentDidMount: function componentDidMount() {\n            var _this = this;\n\n            setTimeout(function () {\n                document.addEventListener('click', _this.handleDocumentClick);\n            }, 1);\n        },\n        handleDocumentClick: function handleDocumentClick() {\n            this.setState({ hide: true });\n        },\n        componentWillUnmount: function componentWillUnmount() {\n            document.removeEventListener('click', this.handleDocumentClick);\n        },\n        renderAction: function renderAction(action, index) {\n\n            var classNames = action.classNames.join(' ');\n\n            return React.createElement(\n                'a',\n                { ref: action.name, key: action.name,\n                    href: '#', onClick: action.action,\n                    className: 'ActionCard-action ' + classNames },\n                action.label\n            );\n        },\n        handleAnimationEnd: function handleAnimationEnd(e) {\n            if (e.animationName === FADEOUT_ANIMATION) {\n                this.close();\n            }\n        },\n        close: function close() {\n            this.setState({ closed: true }, this.props.close);\n        },\n        render: function render() {\n\n            var actions = this.props.actions.map(this.renderAction);\n            var imageStyle = {\n                backgroundImage: 'url(' + this.props.imageUrl + ')'\n            };\n            var classnames = 'ActionCard ' + this.props.classNames;\n            if (this.state.hide) {\n                classnames = classnames + ' ActionCard-hide';\n            }\n            return React.createElement(\n                'div',\n                { ref: 'ActionCard', key: this.props.name, className: classnames, style: imageStyle,\n                    onAnimationEnd: this.handleAnimationEnd },\n                React.createElement(\n                    'div',\n                    { className: 'ActionCard-content' },\n                    React.createElement(\n                        'div',\n                        { ref: 'title', className: 'ActionCard-title' },\n                        this.props.title\n                    ),\n                    React.createElement(\n                        'div',\n                        { ref: 'body', className: 'ActionCard-body' },\n                        this.props.body\n                    ),\n                    React.createElement(\n                        'div',\n                        { className: 'ActionCard-actions' },\n                        actions\n                    )\n                )\n            );\n        }\n    });\n\n    Imgur.Elements.ActionCard.createAction = function (name, label, action) {\n        for (var _len = arguments.length, classNames = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n            classNames[_key - 3] = arguments[_key];\n        }\n\n        return { name: name, label: label, action: action, classNames: classNames };\n    };\n})();\n//# sourceMappingURL=ActionCard.js.map\n","Namespace('Imgur.Elements');\n\nImgur.Elements.ApocalypseCta = React.createClass({\n    displayName: 'Elements-ApocalypseCTA',\n\n    getInitialState: function getInitialState() {\n        var collapsed = location.pathname !== '/';\n\n        if (!collapsed) {\n            Imgur.Util.jafoLog({\n                event: 'aprilFools2017BannerAppear',\n                meta: {\n                    banner: this.getBannerEventName(),\n                    expandInvokedBy: 'alreadyExpanded'\n                }\n            });\n        }\n\n        return {\n            zombieScore: this.props.zombieScore,\n            humanScore: this.props.humanScore,\n            collapsed: collapsed\n        };\n    },\n    getBannerEventName: function getBannerEventName() {\n        if (Imgur.Environment.auth.team) {\n            return 'damageReportLearnToPlay';\n        }\n\n        return 'zombieBattleBegunJoinFight';\n    },\n    toggleCta: function toggleCta() {\n        var collapsed = !this.state.collapsed;\n\n        //About to show banner\n        if (!collapsed) {\n            Imgur.Util.jafoLog({\n                event: 'aprilFools2017BannerAppear',\n                meta: {\n                    banner: this.getBannerEventName(),\n                    expandInvokedBy: 'userManually'\n                }\n            });\n        }\n\n        this.setState({ collapsed: collapsed });\n    },\n    getMessage: function getMessage(team) {\n        var message = React.createElement(\n            'span',\n            { key: 'message', className: 'apocalypse-welcome' },\n            'The great zombie battle has begun on Imgur!'\n        );\n\n        if (team === 'zombie') {\n            message = React.createElement(\n                'span',\n                { key: 'message', className: 'apocalypse-welcome' },\n                'You\\'re infected! Welcome to ',\n                React.createElement(\n                    'strong',\n                    null,\n                    React.createElement(\n                        'a',\n                        { href: '/t/teamzombie' },\n                        '#TeamZombie'\n                    )\n                )\n            );\n        } else if (team === 'human') {\n            message = React.createElement(\n                'span',\n                { key: 'message', className: 'apocalypse-welcome' },\n                'Fight the infection! Welcome to ',\n                React.createElement(\n                    'strong',\n                    null,\n                    React.createElement(\n                        'a',\n                        { href: '/t/teamhuman' },\n                        '#TeamHuman'\n                    )\n                )\n            );\n        }\n\n        return message;\n    },\n    renderCollapsed: function renderCollapsed(team) {\n        return React.createElement(\n            'div',\n            { className: 'apocalypse-banner apocalypse-banner--collapsed' },\n            React.createElement('span', { onClick: this.toggleCta, className: 'icon-arrow-up apocalypse-collapse pointer' }),\n            this.getMessage(team)\n        );\n    },\n    renderSignedOut: function renderSignedOut() {\n        return React.createElement(\n            'div',\n            { className: 'apocalypse-banner apocalypse-banner--signedout' },\n            this.getMessage(),\n            React.createElement(\n                'div',\n                { className: 'apocalypse-join' },\n                React.createElement(\n                    'a',\n                    { onClick: this.handleJoinTheFightClick, href: '#' },\n                    'Join the fight'\n                )\n            )\n        );\n    },\n    handleJoinTheFightClick: function handleJoinTheFightClick(e) {\n        e.preventDefault();\n\n        Imgur.Util.jafoLog({\n            event: 'aprilFools2017BannerClick',\n            meta: {\n                banner: this.getBannerEventName()\n            }\n        });\n\n        Imgur.getInstance().setInvokedBy('aprilFools2017Attempt');\n\n        window.location = '//' + Imgur.Environment.host + '/register?redirect=http%3A%2F%2Fimgur.com%2Fa%2FpAH89';\n    },\n    renderSignedIn: function renderSignedIn(team) {\n        var zombieBarWidth = Math.min(Math.max(this.state.zombieScore / (this.state.zombieScore + this.state.humanScore) * 100, 30), 70); //no team can be above 70 or below 30\n        var humanBarWidth = 100 - zombieBarWidth;\n\n        return React.createElement(\n            'div',\n            { className: 'apocalypse-banner' },\n            React.createElement('span', { onClick: this.toggleCta, className: 'icon-arrow-down apocalypse-collapse pointer' }),\n            this.getMessage(team),\n            React.createElement(\n                'div',\n                { className: 'redgreenbar' },\n                React.createElement(\n                    'div',\n                    { className: 'redgreenbar-zombie', style: { width: zombieBarWidth + '%' } },\n                    React.createElement('span', { className: 'icon-zombie-logo' }),\n                    ' ',\n                    Imgur.Util.numberFormat(this.state.zombieScore)\n                ),\n                React.createElement('div', { className: 'redgreenbar-bloodbar', style: { left: zombieBarWidth + '%' } }),\n                React.createElement(\n                    'div',\n                    { className: 'redgreenbar-human', style: { width: humanBarWidth + '%' } },\n                    React.createElement('span', { className: 'icon-human-logo' }),\n                    ' ',\n                    Imgur.Util.numberFormat(this.state.humanScore)\n                )\n            ),\n            React.createElement(\n                'div',\n                { className: 'apocalypse-report' },\n                React.createElement(\n                    'a',\n                    { onClick: this.handleViewDamageReportClick, href: '#' },\n                    'View Damage Report'\n                )\n            ),\n            React.createElement(\n                'a',\n                { className: 'apocalypse-learn', onClick: this.handleLearnToPlayClick, href: '#' },\n                'Learn how to play'\n            )\n        );\n    },\n    handleViewDamageReportClick: function handleViewDamageReportClick(e) {\n        e.preventDefault();\n\n        Imgur.Util.jafoLog({\n            event: 'aprilFools2017BannerClick',\n            meta: {\n                banner: this.getBannerEventName(),\n                button: 'viewDamageReport'\n            }\n        });\n\n        window.location = '//' + Imgur.Environment.host + '/infection';\n    },\n    handleLearnToPlayClick: function handleLearnToPlayClick(e) {\n        e.preventDefault();\n\n        Imgur.Util.jafoLog({\n            event: 'aprilFools2017BannerClick',\n            meta: {\n                banner: this.getBannerEventName(),\n                button: 'learnHowToPlay'\n            }\n        });\n\n        window.location = '//' + Imgur.Environment.host + '/a/pAH89';\n    },\n    render: function render() {\n        if (this.state.collapsed) {\n            return this.renderCollapsed(Imgur.Environment.auth.team);\n        } else if (Imgur.Environment.auth.team) {\n            return this.renderSignedIn(Imgur.Environment.auth.team);\n        }\n\n        return this.renderSignedOut();\n    }\n});\n//# sourceMappingURL=apocalypsecta.js.map\n","Namespace('Imgur');\n\n/*\nTodo list:\n\n* Fire session event\n\n* Add a feature flag to turn this off and on for dev.\n\n* Set up some PHP pushed config. Especially for the image URL.\n\n* Add a pageDelta key to show time since DOM ready for each event. This needs to\n  be coordinated with the other in-house analytics stack, so is not as trivial\n  as \"just add it\".\n\n* At some point if we're firing a ton of actions, we may need to build a locking\n  mechanism into the localStorage bits to avoid things being lost/clobbered.\n\n* Always test firing in supported versions of IE! Older IE has the most quirks\n  when it comes to firing pixels. Be sure they fire with a tool like Charles.\n\n* Document or at least blurb more of the methods in this file.\n\n* Finish up wiki page https://git.imgur-dev.com/Imgur/imgur.com/wiki/JAFO-Front-end-Logging\n\n* http://i.imgur.com/YqKeReK.png\n\n*/\n\nImgur.Jafo = Class.extend({\n    init: function(accountId, pxLocation) {\n        var verDate = new Date();\n\n        this._ = {\n            attrBound: false,\n            attrRegex: /^\\s*(\\{.+\\})\\s*?/,\n            chrRegex: /\\@\\@/g,\n            cookieOpts: {\n                domain: '.'+Imgur.Environment.host,\n                path: '/',\n                expires: 180 // days from today\n            },\n            dataAttr: 'data-jafo',\n            thirdPartyLoginFlag: 'third_party',\n            imgLoc: pxLocation,\n            legacyQueue: [],\n            lsArrayName: 'jafoData',\n            lsAvail: false,\n            lsKeyName: 'jafo-stor',\n            maxBatch: 2,\n            pollDelay: 800,\n            scheduled: null,\n            selfRefRgx: /^([^:]+:)\\/\\/([^.]+\\.)*imgur(-dev)?\\.com(\\/.*)?$/,\n            embedRgx: /(\\/(a|gallery))?(\\/[A-z0-9]{5,7})\\/embed/,\n            sessionFired: false,\n            uidCookie: 'IMGURUIDJAFO',\n            sessionTrackingCookieName: 'SESSIONDATA',\n            sessionTrackingExpirationTime: 1000 * 60 * 60, // 1 hour\n            shouldFire: true,\n            // time to wait to unleash the rest after sessionStart\n            sessionFiredCooldown: 500,\n            userDetails: {\n                UID: null,\n                accountId: isNaN(accountId)? null: accountId, //Imgur.Environment.auth.id,\n                backendCohort: isNaN(accountId)? null: ((accountId/4)%1024),\n                activeExperiments: [],\n                experimentData: {},\n                sessionId: Imgur.Environment.sid || Imgur.Environment.msid, // use the cookie value? $.cookie('IMGURSESSION'),\n                platform: 'web',\n                source: 'frontend',\n                referrer: document.referrer,\n                immedReferrer: document.referrer,\n                userAgent: navigator.userAgent,\n                version: verDate.getFullYear()+'.'+Math.ceil(verDate.getMonth()/3),\n                host: Imgur.Environment.host,\n                firstSession: false,\n                secondSession: false\n            },\n            el: {\n                $body: $('body'),\n                injectUserDetails: [\n                    'activeExperiments',\n                    'experimentData'\n                ]\n            },\n\n        }\n\n        if(!window.location.toString().match(this._.selfRefRgx)) {\n            this._.shouldFire = false;\n        }\n\n        $(window).on('pushstate', _.bind(function(e) {\n            this._.userDetails.immedReferrer = e.previousState.url;\n        }, this));\n\n        // Setup or update tracking data\n        if (!this._getSessionTrackingData() && $.cookie(this._.uidCookie)) {\n            // user is already a repeat visitor, but doesn't have new tracking\n            // so don't impact new metrics and set them to > 2 visits\n            this._setSessionTrackingData({\n                sessionCount: 3,\n                sessionTime: Date.now()\n            });\n        } else {\n            // New entrant to web, or already in new tracking method\n            this._updateSessionTrackingData();\n        }\n\n        // generate or re-affirm UID\n        var uid = $.cookie(this._.uidCookie);\n        if (!uid) {\n            uid = this._fp();\n        }\n\n        this._.userDetails.UID = uid;\n        $.cookie(this._.uidCookie, uid, this._.cookieOpts);\n        // test for localStorage - internally abstracted\n        this._.lsAvail = this._canUseLs();\n\n        $(document).ready(_.bind(function() {\n            this._sessionStart();\n            this._schedPoll();\n        }, this));\n\n        $(document.body).on('submit', 'form', _.bind(function(e) {\n            if (!e.target.method || e.target.method.toUpperCase() !== 'POST') {\n                return;\n            }\n            var $form = $(e.target);\n            _.each(this._.el.injectUserDetails, function(key) {\n                var name = '_jafo[' + key + ']';\n                var $element = $form.find('input').filter(function(index, ele) { return ele.name === name; });\n                if (!$element.length) {\n                    $element = $('<input type=\"hidden\"/>').attr('name', name)\n                    $element.appendTo($form);\n                }\n                var details = this._.userDetails[key];\n                var val = typeof details === 'object' ? JSON.stringify(details) : details;\n                $element.val(val);\n            }, this);\n        }, this));\n\n        return this;\n    },\n\n    _getSessionTrackingData: function() {\n        // $.cookie returns undefined and not null when unset, which bombs JSON.parse\n        // so if it's invalid or undefined, proceed as if it were undefined\n        var sessionData;\n        try {\n            sessionData = JSON.parse($.cookie(this._.sessionTrackingCookieName));\n        } catch (e) {}\n        return sessionData;\n    },\n\n    // Set new value, also toggle first/second session vars.\n    _setSessionTrackingData: function(sessionData) {\n        this._.userDetails.firstSession = sessionData.sessionCount === 1 ? true : false;\n        this._.userDetails.secondSession = sessionData.sessionCount === 2 ? true : false;\n        $.cookie(this._.sessionTrackingCookieName, JSON.stringify(sessionData), this._.cookieOpts);\n    },\n\n    // Get existing data if any. If none, set session count to 1 and time to now.\n    // A session lapses after a lack of activity (sessionTrackingExpirationTime), so refresh\n    // the timestamp if new activity results in this function being called before\n    // we exceed the timeout, otherwise increment the session count and set the new data.\n    _updateSessionTrackingData: function() {\n        var sessionData = this._getSessionTrackingData();\n\n        // verify data exists and that it hasn't been tampered with -- if it has, reset.\n        if (sessionData && !isNaN(parseInt(sessionData.sessionCount)) &&\n           !isNaN(parseInt(sessionData.sessionTime)) && sessionData.sessionCount > 0) {\n            var now = Date.now();\n\n            if ((now - sessionData.sessionTime) > this._.sessionTrackingExpirationTime) {\n                sessionData.sessionCount++;\n            }\n\n            sessionData.sessionTime = now;\n        } else {\n            sessionData = {\n                sessionCount: 1,\n                sessionTime: Date.now()\n            };\n        }\n\n        this._setSessionTrackingData(sessionData);\n    },\n\n    /*\n    * Batch a bunch of strings or objects as GET parameters with alpha-counting keys.\n    * jafo.batch([1,2,3], [2,3,4])\n    * jafo.batch('foo', 'bar', 'baz')\n    */\n    batch: function() {\n        var aParm,\n            iter,\n            len = arguments.length,\n            parms = [],\n            sify;\n\n        for(iter = 0; iter < len; iter++) {\n\n            if(typeof arguments[iter] === 'object') {\n                aParm = arguments[iter];\n\n                if(this._isArr(aParm)) {\n                    // leftover from slicing?\n                    aParm = aParm.pop();\n                }\n\n                try{\n                    sify = JSON.stringify(aParm);\n                    parms.push(this._parmLabel(iter)+'='+encodeURIComponent(sify));\n                } catch(e) {\n                    console.error('Cannot encode jafo batch parm.', [e, arguments[iter]]);\n                }\n\n            } else if(typeof arguments[iter] === 'string') {\n                parms.push(this._parmLabel(iter)+'='+encodeURIComponent(arguments[iter]));\n            }\n\n        }\n\n        return parms.join('&');\n    },\n\n    bindDataAttr: function() {\n        var selector;\n\n        if(!this._.attrBound) {\n            selector = '*['+this._.dataAttr+'*=\":\"]';\n\n            this._.el.$body.on('click mouseup', selector, _.bind(this._handleAttrClick, this));\n\n            this._.attrBound = true;\n        }\n    },\n\n    _canUseLs: function() {\n        try {\n            localStorage.setItem('testitem', 0);\n            localStorage.removeItem('testitem');\n            return true;\n        } catch(e) {}\n\n        return false;\n    },\n\n    // bypasses the queue\n    // should only really be used for sess start and beforeunload\n    directFire: function(data, cb) {\n        var url,\n            dataMerged;\n\n        if(this._.shouldFire) {\n            dataMerged = this._mergeData(data);\n\n            this.consoleDebug(dataMerged);\n\n            url = this._.imgLoc+'?'+this.batch([dataMerged]);\n\n            if(url) {\n                this._fire(url, cb);\n            }\n        }\n    },\n\n    _fire: function(url, cb) {\n        // no pixel setup? Forget it.\n        if(!this._.imgLoc) {\n            return;\n        }\n\n        // This needs to be tested for memory leaks and reliability in IE.\n        // Older versions of IE don't garbage collect image refs.\n        // Some other versions garbage collect too early and never request the\n        // image (sigh... Fuckin' IE! What the hell?).  If it's still an issue,\n        // self-nulling onLoad Array items need to be used in a persistent var\n        // somewhere in a higher scope than this func.\n        var img = document.createElement('img');\n\n        // Thanks to browser vendors, this is incredibly unreliable\n        // Remember when onload was easy for images? Pepperridge frarms remembers...\n        // http://stackoverflow.com/questions/7020052/jquerys-load-not-working-properly-in-chrome-browser\n        if(typeof cb === 'function') {\n            $(img).on('load', cb);\n        }\n\n        // for firstSession & secondSession tracking\n        this._updateSessionTrackingData();\n\n        img.src = url;\n    },\n\n    _fp: function() {\n        var pFp = $.cookie(''),\n            nav = navigator,\n            srn = window.screen,\n            np,\n            ret = '';\n\n        for(var i in nav) {\n            if (typeof nav[i] === 'string' || !isNaN(nav[i])) {\n                // we only care about the strings and numbers\n                ret += ''+nav[i];\n            }\n        }\n\n        np = nav.plugins;\n\n        for(var iter = 0; iter < np.length; iter++) {\n            ret += this._nav2str(np[i]);\n        }\n\n        if (typeof srn === 'object') {\n            ret += this._nav2str(srn);\n        }\n\n        return this._sha256(ret + (new Date().toISOString()));\n    },\n\n    /*\n    * gets the pixel queue from legacy storage (direct)\n    */\n    _fromLegacy: function() {\n        return this._.legacyQueue;\n    },\n\n    /*\n    * gets the pixel queue from localStorage and optionally empties it\n    */\n    _fromLs: function(kill) {\n        var localString,\n            tempData,\n            localData   = [];\n\n        try{\n            localString = localStorage.getItem(this._.lsKeyName);\n\n            // we get something back? decode it\n            if(localString) {\n                tempData = JSON.parse(localString);\n\n                if(typeof tempData === 'object' && tempData[this._.lsArrayName]) {\n                    localData = tempData[this._.lsArrayName];\n                }\n\n                if(kill) {\n                    localStorage.removeItem(this._.lsKeyName);\n                }\n            }\n\n        } catch(e) {\n            // localstorage is disabled\n            console.err('Error reading jafo local storage data.', e);\n        }\n\n        return this._isArr(localData)? localData: [];\n    },\n\n    _getQueue: function() {\n        if(this._.lsAvail) {\n            return this._fromLs()\n        }\n\n        return this._fromLegacy();\n    },\n\n    _handleAttrClick: function(ev) {\n        var attrData,\n            strJson,\n            strValue,\n            $targ = $(ev.currentTarget);\n\n        // mouseup is used for middle-click\n        // no way to capture right-click->open in new tab...\n        // we can get the right click itself with (e.type === 'mousedown' && e.which === 3),\n        // but no idea what option was selected from the menu...\n\n        if(ev.type === 'click' || (ev.type === 'mouseup' && ev.which === 2)) {\n\n            if($targ.length) {\n                strValue = ($targ.attr(this._.dataAttr)+'').match(this._.attrRegex);\n\n                if(strValue && strValue.length > 1) {\n                    try {\n                        strJson = (''+strValue[1]).replace(this._.chrRegex, '\"');\n                        attrData = JSON.parse(strJson);\n                    } catch(err) {\n                        console.error('Element has invalid analytics data attribute!', [ev.target, err]);\n                    }\n                }\n\n                if(attrData) {\n                    this.logAction(attrData);\n                }\n            }\n\n        }\n    },\n\n    _isArr: function(arr) {\n        return Object.prototype.toString.call(arr) === '[object Array]';\n    },\n\n    _mergeData: function(action) {\n        var preJson, tD;\n\n        if(typeof action === 'object' && typeof action.action === 'undefined' && typeof action.event === 'string') {\n            tD = new Date();\n\n            preJson = _.extend({}, this._.userDetails);\n\n            preJson.action    = _.extend({}, action);\n            preJson.timestamp = tD.getTime();\n            preJson.location  = document.location.toString();\n\n            return preJson;\n        } else {\n            console.error('Invalid jafo action.', action);\n        }\n\n        return; //undef on bad input\n    },\n\n    /*\n    * Used specifically for fp().\n    * This is not reversable serialization - it's a shorthand to stringify\n    * a complex object (where JSON would fail in circular refs).\n    */\n    _nav2str: function(obj) {\n        var out = [];\n\n        if (typeof obj !== 'object') {\n            return ''+obj; // not an object? just return it concatenated to a string\n        }\n\n        for (var memb in obj) {\n\n            if (obj.hasOwnProperty(memb)) {\n                if (this._isArr(obj[memb])) {\n\n                    out.push.apply(out, obj[memb].map(function(part) {\n                        return memb+'[]='+part; // this truncates objects and arrays\n                    }));\n\n                } else if (typeof obj[memb] === 'object' && obj[memb] !== obj) {\n\n                    out.push(memb+'='+this._nav2str(obj[memb]));\n\n                } else if (typeof obj[memb] != 'function') {\n\n                    out.push(memb+'='+obj[memb]);\n\n                }\n            }\n\n        }\n\n        return out.length > 0? out.join('&'): false;\n    },\n\n    /*\n    * converts an integer into an \"a, b, ... aa, ab ...\" format for using as get parms\n    */\n    _parmLabel: function(num) {\n        var mod = num % 26,\n            pow = num / 26 | 0,\n            out = String.fromCharCode(97 + mod);\n\n        return pow > 0? this._parmLabel(pow - 1) + out: out;\n    },\n\n    _pollQueue: function() {\n        var smoulder = this._sliceQueue(this._.maxBatch),\n            url;\n\n        if(this._.scheduled) {\n            clearTimeout(this._.scheduled);\n            this._.scheduled = null;\n        }\n\n        if(this._isArr(smoulder) && smoulder.length) {\n            url = this._.imgLoc+'?'+this.batch.apply(this, smoulder);\n\n            this._fire(url);\n        }\n\n        // schedule for remnants...\n        this._schedPoll();\n\n        return url;\n    },\n\n    _queue: function(data) {\n        if(this._.lsAvail) {\n            this._queueLs(data);\n        }\n\n        this._queueLegacy(data);\n\n        return this._pollQueue();\n    },\n\n    /*\n    * Adds a pixel to localStorage\n    */\n    _queueLs: function(data) {\n        var extant  = this._fromLs(),\n            argData = _.extend({}, data);\n\n        extant.push(argData);\n        this._saveQueueLs(extant)\n\n        return argData;\n    },\n\n    _queueLegacy: function(data) {\n        var argData = _.extend({}, data);\n\n        this._.legacyQueue.push(argData);\n\n        return argData;\n    },\n\n    _sessionStart: function() {\n        // Binding to window.onpopstate is not reliable, so we can't detect\n        // the new referer with keyboard nav in the gallery. :/\n        // this._.sessionFired prevents us from firing redundant session\n        // start events if the referrer is blank or does not match us.\n\n        // New functionality (as of 2015.04.03)! We only fire other events when\n        // this._.sessionFired is true. This makes sure session start fires first.\n        var isSelf = false,\n            isThird = false,\n            refIsEmbed = false;\n\n        if(this._.sessionFired) {\n            // dupe call?\n            return;\n        }\n\n        if(!Imgur.Util.checkInIframe()) {\n            isSelf = this._.selfRefRgx.test(this._.userDetails.referrer);\n            refIsEmbed = isSelf && this._.embedRgx.test(this._.userDetails.referrer);\n            isThird = Imgur.Util.getQueryParams(window.location.search).hasOwnProperty(this._.thirdPartyLoginFlag);\n\n            if(refIsEmbed || (!isSelf && !isThird)) {\n                this.directFire({\n                    event: 'sessionStart',\n                    meta: {\n                        // country: // not available in JS without hitting an ajax call for IP resolution\n                        language: navigator.language,\n                        // resolution  in the desktop world only reports the primary monitor's res\n                        screenResolution: window.screen.width+'x'+window.screen.height,\n                        timezone: (new Date().getTimezoneOffset()) * 60,\n                        secure: document.location.protocol === 'https:'\n                    }\n                });\n\n                // hacky, but we wait before we assume the rest is safe to get fired\n                // we used to have a callback, but it's unreliable\n                // see the note about onload in _fire()\n                setTimeout(_.bind(function() {\n                    this._setSessionHasFired();\n                    // force resume of polling\n                    this._pollQueue();\n                }, this), this._.sessionFiredCooldown);\n            } else {\n                this._setSessionHasFired();\n            }\n        } else {\n            this._setSessionHasFired();\n        }\n    },\n\n    _setSessionHasFired: function() {\n        // simply to avoid closures for callbacks and repitition\n        this._.sessionFired = true;\n    },\n\n    _sha256: function(s) {\n        /*\n        * Yeah, all this dookie gets re-created on every call, but really\n        * it's better than having a pile of weird funcs clogging up namespaces and\n        * memory. For this use, we should not be calling sha256() repeatedly.\n        * Also, yes is is not our normal coding patterns... this works though...\n        * maybe this should be loaded minified someplace else, but logging is the\n        * only place we use it.\n        * Based on one of the many public domain JS sha256 implementations in the\n        * wild, but I don't remember exactly which one. I keep a variant in my\n        * personal pile of code. -BPM\n        */\n        var chrsz   = 8\n            , hexcase = 0;\n        function safe_add (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF)\n                , msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        }\n        function S (X, n) { return ( X >>> n ) | (X << (32 - n)); }\n        function R (X, n) { return ( X >>> n ); }\n        function Ch(x, y, z) { return ((x & y) ^ ((~x) & z)); }\n        function Maj(x, y, z) { return ((x & y) ^ (x & z) ^ (y & z)); }\n        function Sigma0256(x) { return (S(x, 2) ^ S(x, 13) ^ S(x, 22)); }\n        function Sigma1256(x) { return (S(x, 6) ^ S(x, 11) ^ S(x, 25)); }\n        function Gamma0256(x) { return (S(x, 7) ^ S(x, 18) ^ R(x, 3)); }\n        function Gamma1256(x) { return (S(x, 17) ^ S(x, 19) ^ R(x, 10)); }\n        function core_sha256 (m, l) {\n            var K = new Array(0x428A2F98, 0x71374491, 0xB5C0FBCF, 0xE9B5DBA5, 0x3956C25B, 0x59F111F1, 0x923F82A4, 0xAB1C5ED5, 0xD807AA98, 0x12835B01, 0x243185BE, 0x550C7DC3, 0x72BE5D74, 0x80DEB1FE, 0x9BDC06A7, 0xC19BF174, 0xE49B69C1, 0xEFBE4786, 0xFC19DC6, 0x240CA1CC, 0x2DE92C6F, 0x4A7484AA, 0x5CB0A9DC, 0x76F988DA, 0x983E5152, 0xA831C66D, 0xB00327C8, 0xBF597FC7, 0xC6E00BF3, 0xD5A79147, 0x6CA6351, 0x14292967, 0x27B70A85, 0x2E1B2138, 0x4D2C6DFC, 0x53380D13, 0x650A7354, 0x766A0ABB, 0x81C2C92E, 0x92722C85, 0xA2BFE8A1, 0xA81A664B, 0xC24B8B70, 0xC76C51A3, 0xD192E819, 0xD6990624, 0xF40E3585, 0x106AA070, 0x19A4C116, 0x1E376C08, 0x2748774C, 0x34B0BCB5, 0x391C0CB3, 0x4ED8AA4A, 0x5B9CCA4F, 0x682E6FF3, 0x748F82EE, 0x78A5636F, 0x84C87814, 0x8CC70208, 0x90BEFFFA, 0xA4506CEB, 0xBEF9A3F7, 0xC67178F2)\n                , HASH = new Array(0x6A09E667, 0xBB67AE85, 0x3C6EF372, 0xA54FF53A, 0x510E527F, 0x9B05688C, 0x1F83D9AB, 0x5BE0CD19)\n                , W = new Array(64)\n                , a, b, c, d, e, f, g, h, i, j\n                , T1, T2;\n            m[l >> 5] |= 0x80 << (24 - l % 32);\n            m[((l + 64 >> 9) << 4) + 15] = l;\n            for ( var i = 0; i<m.length; i+=16 ) {\n                a = HASH[0];\n                b = HASH[1];\n                c = HASH[2];\n                d = HASH[3];\n                e = HASH[4];\n                f = HASH[5];\n                g = HASH[6];\n                h = HASH[7];\n                for ( var j = 0; j<64; j++) {\n                    if (j < 16) W[j] = m[j + i];\n                    else W[j] = safe_add(safe_add(safe_add(Gamma1256(W[j - 2]), W[j - 7]), Gamma0256(W[j - 15])), W[j - 16]);\n                    T1 = safe_add(safe_add(safe_add(safe_add(h, Sigma1256(e)), Ch(e, f, g)), K[j]), W[j]);\n                    T2 = safe_add(Sigma0256(a), Maj(a, b, c));\n                    h = g;\n                    g = f;\n                    f = e;\n                    e = safe_add(d, T1);\n                    d = c;\n                    c = b;\n                    b = a;\n                    a = safe_add(T1, T2);\n                }\n                HASH[0] = safe_add(a, HASH[0]);\n                HASH[1] = safe_add(b, HASH[1]);\n                HASH[2] = safe_add(c, HASH[2]);\n                HASH[3] = safe_add(d, HASH[3]);\n                HASH[4] = safe_add(e, HASH[4]);\n                HASH[5] = safe_add(f, HASH[5]);\n                HASH[6] = safe_add(g, HASH[6]);\n                HASH[7] = safe_add(h, HASH[7]);\n            }\n            return HASH;\n        }\n        function str2binb (str) {\n            var bin = Array()\n                , mask = (1 << chrsz) - 1;\n            for(var i = 0; i < str.length * chrsz; i += chrsz) {\n                bin[i>>5] |= (str.charCodeAt(i / chrsz) & mask) << (24 - i%32);\n            }\n            return bin;\n        }\n        function Utf8Encode(string) {\n            string = string.replace(/\\r\\n/g,\"\\n\");\n            var utftext = \"\";\n            for (var n = 0; n < string.length; n++) {\n                var c = string.charCodeAt(n);\n                if (c < 128) {\n                    utftext += String.fromCharCode(c);\n                }\n                else if((c > 127) && (c < 2048)) {\n                    utftext += String.fromCharCode((c >> 6) | 192);\n                    utftext += String.fromCharCode((c & 63) | 128);\n                }\n                else {\n                    utftext += String.fromCharCode((c >> 12) | 224);\n                    utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n                    utftext += String.fromCharCode((c & 63) | 128);\n                }\n            }\n            return utftext;\n        }\n        function binb2hex (binarray) {\n            var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\"\n                , str = \"\";\n            for(var i = 0; i < binarray.length * 4; i++) {\n                str += hex_tab.charAt((binarray[i>>2] >> ((3 - i%4)*8+4)) & 0xF) +\n                hex_tab.charAt((binarray[i>>2] >> ((3 - i%4)*8  )) & 0xF);\n            }\n            return str;\n        }\n        s = Utf8Encode(s);\n        return binb2hex(core_sha256(str2binb(s), s.length * chrsz));\n    },\n\n    _saveQueueLs: function(qData) {\n        // damn you JSON for converting arrays to objects at the root level!!!!\n        var argData = _.extend([], qData),\n            tempObj = {};\n\n        if(this._isArr(argData)) {\n            tempObj[this._.lsArrayName] = argData;\n\n            try {\n                localStorage.setItem(this._.lsKeyName, JSON.stringify(tempObj));\n            } catch(err) {\n                console.error('Error saving jafo local storage.', err);\n            }\n\n            return argData;\n        }\n    },\n\n    _schedPoll: function() {\n        var remnant = this._getQueue();\n\n        if(!(this._.scheduled) && remnant.length > 0) {\n            this._.scheduled = setTimeout(_.bind(this._pollQueue, this), this._.pollDelay);\n        }\n\n        return this._.scheduled;\n    },\n\n    _sliceQueue: function(length) {\n        if(!this._.sessionFired) {\n            return false;\n        }\n\n        if(this._.lsAvail) {\n            return this._sliceQueueLs(length);\n        }\n\n        return this._sliceQueueLegacy(length);\n    },\n\n    _sliceQueueLegacy: function(len) {\n        var q = this._.legacyQueue,\n            pxs = [],\n            iter;\n\n        if(!isNaN(len) && this._isArr(q)) {\n            for(iter = 0; iter < len; iter++) {\n                if(q.length) {\n                    pxs.push(q.shift());\n                }\n            }\n        }\n\n        return pxs;\n    },\n\n    _sliceQueueLs: function(len) {\n        var q = this._getQueue(),\n            pxs = [],\n            iter;\n\n        if(!isNaN(len) && this._isArr(q)) {\n            for(iter = 0; iter < len; iter++) {\n                if(q.length) {\n                    pxs.push(q.shift());\n                }\n            }\n\n            this._saveQueueLs(q);\n        }\n\n        return pxs;\n    },\n\n    consoleStyles: {\n        standard:'color:auto;',\n        gray:'color:#1B2B34;',\n        red:'color:#EC5f67;',\n        orange:'color:#F99157;',\n        yellow:'color:#FAC863;',\n        green:'color:#99C794;',\n        teal:'color:#5FB3B3;',\n        blue:'color:#6699CC;',\n        purple:'color:#C594C5;',\n        brown:'color:#AB7967;',\n        weightBold: 'font-weight: bold;',\n        weightNormal: 'font-weight: normal;',\n    },\n\n    consoleDebug: function(data) {\n        if (!window.localStorage || !localStorage.getItem('jafo-debug')){\n            return;\n        }\n\n        var consoleArgs=[];\n        var experiments = data.activeExperiments || [];\n        var event = data.event || data.action.event;\n        var meta = data.meta || data.action.meta;\n\n        var expString = experiments.map(function(exp){\n            return '%c' + exp.expID + ':%c' + exp.variation\n        }).join('%c | ');\n\n        // main log string\n        consoleArgs.push('%cJAFO EVENT: ' + expString + ' %c' + event);\n\n        // for 'JAFO EVENT:' text\n        consoleArgs.push(this.consoleStyles.weightBold+this.consoleStyles.teal);\n\n        // style each of the experiments\n        experiments.forEach(function(){\n            consoleArgs.push(this.consoleStyles.weightBold+this.consoleStyles.red); //exp id\n            consoleArgs.push(this.consoleStyles.weightNormal+this.consoleStyles.orange); //variation\n            consoleArgs.push(this.consoleStyles.weightBold+this.consoleStyles.gray); //pipe\n        }.bind(this));\n\n        if (experiments.length > 0){\n            // remove last color from\n            consoleArgs.pop();\n        }\n\n        // for event name\n        consoleArgs.push(this.consoleStyles.weightBold+this.consoleStyles.green); //pipe\n\n        consoleArgs.push(meta);\n\n        console.log.apply(this, consoleArgs);\n        //asd;\n    },\n\n    logAction: function(action) {\n        if(this._.shouldFire) {\n            var data = this._mergeData(action);\n\n            if(typeof data === 'object') {\n                this.consoleDebug(data );\n                return this._queue(data);\n            }\n        }\n\n        return false;\n    },\n\n    registerExperiment: function(expID, variation){\n        this._.userDetails.activeExperiments.push({\n            expID: expID,\n            variation: variation\n        });\n    },\n\n    registerExperimentData: function(expID, data) {\n        if (!this._.userDetails.experimentData[expID]){\n            this._.userDetails.experimentData[expID] = {};\n        }\n\n        this._.userDetails.experimentData[expID] = $.extend(this._.userDetails.experimentData[expID], data);\n    }\n\n});\n"]}